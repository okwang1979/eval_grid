!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nc-lightapp-front"),require("react"),require("sscrp/rppub/components/image/index")):"function"==typeof define&&define.amd?define(["nc-lightapp-front","react","sscrp/rppub/components/image/index"],t):"object"==typeof exports?exports["arap/salebill/salebill/list/index"]=t(require("nc-lightapp-front"),require("react"),require("sscrp/rppub/components/image/index")):e["arap/salebill/salebill/list/index"]=t(e["nc-lightapp-front"],e.React,e["sscrp/rppub/components/image/index"])}(window,(function(e,t,a){return function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=520)}({1:function(t,a){t.exports=e},11:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var a=t.protocol+"//"+t.host,r=a+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var n,l=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(l)?e:(n=0===l.indexOf("//")?l:0===l.indexOf("/")?a+l:r+l.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")}))}},12:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OperationColumn="180px"},18:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.modifierSearchMetas=void 0;var r=a(1);function n(e){var t="";if(null!=e){var a=e.split(",");null!=a&&a.length>0&&(t=a[0])}return t}t.modifierSearchMetas=function(e,t,a,l,o,i){return a[e].items=a[e].items.map((function(a,s){var d=a.attrcode;switch(a.isShowUnit=!1,a.isShowDisabledData=!0,a.unitValueIsNeeded=!1,d){case"pk_org":case"bodys.pk_org":a.queryCondition=function(){return a.isShowUnit=!1,{DataPowerOperationCode:"fi",AppCode:t.getSearchParam("c"),TreeRefActionExt:"nccloud.web.refer.sqlbuilder.PrimaryOrgSQLBuilder"}};break;case"pk_deptid":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}},a.queryCondition=function(){return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue)}};break;case"pk_deptid_v":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}},a.queryCondition=function(){return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue),VersionStartDate:(0,r.getBusinessInfo)().businessDate}};break;case"bodys.pk_deptid":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}},a.queryCondition=function(){return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue)}};break;case"bodys.pk_deptid_v":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}},a.queryCondition=function(){var a=n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue);return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",VersionStartDate:(0,r.getBusinessInfo)().businessDate,pk_org:a}};break;case"supplier":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:(t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSearchAreaSqlBuilder"}},a.isShowDisabledData=!1,a.queryCondition=function(){return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue)}};break;case"customer":case"bodys.supplier":case"bodys.customer":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:(t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSearchAreaSqlBuilder"}},a.queryCondition=function(){return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue)}};break;case"pk_tradetypeid":o&&(a.disabled=!0),a.isShowDisabledData=!1,a.queryCondition=function(){return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",parentbilltype:l}};break;case"bodys.pk_tradetypeid":a.queryCondition=function(){return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",parentbilltype:l}};break;case"pk_fiorg_v":case"bodys.pk_fiorg_v":a.queryCondition=function(){return a.isShowUnit=!1,"F3"==l?{VersionStartDate:(0,r.getBusinessInfo)().businessDate,DataPowerOperationCode:"fi",isDataPowerEnable:"Y"}:{VersionStartDate:(0,r.getBusinessInfo)().businessDate,isDataPowerEnable:"Y"}};break;case"pk_fiorg":case"bodys.pk_fiorg":a.queryCondition=function(){return a.isShowUnit=!1,"F3"==l?{DataPowerOperationCode:"fi",isDataPowerEnable:"Y"}:{isDataPowerEnable:"Y"}};break;case"pk_pcorg":a.queryCondition=function(){return"F0"==l||"F2"==l?{DataPowerOperationCode:"fi"}:{isDataPowerEnable:"Y"}};break;case"bodys.pk_pcorg":a.queryCondition=function(){if("F0"==l||"F2"==l)return{DataPowerOperationCode:"fi"}};break;case"pk_pcorg_v":case"bodys.pk_pcorg_v":a.queryCondition=function(){if("F0"==l||"F2"==l)return{VersionStartDate:(0,r.getBusinessInfo)().businessDate,DataPowerOperationCode:"fi"}};break;case"sett_org":a.queryCondition=function(){return a.isShowUnit=!1,{DataPowerOperationCode:"fi",isDataPowerEnable:"Y"}};break;case"sett_org_v":a.queryCondition=function(){return a.isShowUnit=!1,{VersionStartDate:(0,r.getBusinessInfo)().businessDate,DataPowerOperationCode:"fi",isDataPowerEnable:"Y"}};break;case"officialprintuser":case"creator":a.queryCondition=function(){return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y"}};break;case"subjcode":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:(t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSearchAreaSqlBuilder"}},a.queryCondition=function(){var a=n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue),l=null;return(0,r.ajax)({url:"/nccloud/arap/arappub/arapQueryAccountBookAction.do",data:{pk_org:a},async:!1,success:function(e){e.success&&(l=e.data)}}),{isDataPowerEnable:"Y",pk_accountingbook:l,DataPowerOperationCode:"fi",datestr:(0,r.getBusinessInfo)().businessDate}};break;case"bodys.subjcode":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:(t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSearchAreaSqlBuilder"}},a.queryCondition=function(){var a=n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue),l=null;return(0,r.ajax)({url:"/nccloud/arap/arappub/arapQueryAccountBookAction.do",data:{pk_org:a},async:!1,success:function(e){e.success&&(l=e.data)}}),{isDataPowerEnable:"Y",pk_accountingbook:l,DataPowerOperationCode:"fi",datestr:(0,r.getBusinessInfo)().businessDate}};break;case"payaccount":"F3"!=l&&"F1"!=l||(a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:(t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSearchAreaSqlBuilder"}}),a.queryCondition=function(){var a=n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue);if("F3"==l||"F1"==l)return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",refnodename:i.state.json["public-000150"],pk_org:a,pk_billtype:l,pk_currtype:t.search.getSearchValByField(e,"pk_currtype")?t.search.getSearchValByField(e,"pk_currtype").value.firstvalue:null,GridRefActionExt:"nccloud.web.arap.ref.before.BankaccSubUseSqlBuilder"};var r=t.search.getSearchValByField(e,"supplier")?t.search.getSearchValByField(e,"supplier").value.firstvalue:null,o=t.search.getSearchValByField(e,"customer")?t.search.getSearchValByField(e,"customer").value.firstvalue:null,s=null,d=null;return r?(s=r,d=3):o&&(s=o,d=1),{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",accclass:d,pk_cust:s,pk_currtype:t.search.getSearchValByField(e,"pk_currtype")?t.search.getSearchValByField(e,"pk_currtype").value.firstvalue:null}};break;case"bodys.payaccount":"F3"!=l&&"F1"!=l||(a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:(t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSearchAreaSqlBuilder"}}),a.queryCondition=function(){var a=n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue);if("F3"==l||"F1"==l)return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",refnodename:i.state.json["public-000150"],pk_org:a,pk_billtype:l,pk_currtype:t.search.getSearchValByField(e,"bodys.pk_currtype")?t.search.getSearchValByField(e,"bodys.pk_currtype").value.firstvalue:null,GridRefActionExt:"nccloud.web.arap.ref.before.BankaccSubUseSqlBuilder"};var o=n((t.search.getSearchValByField(e,"bodys.supplier")||{}).value.firstvalue),s=n((t.search.getSearchValByField(e,"bodys.customer")||{}).value.firstvalue),d=n((t.search.getSearchValByField(e,"bodys.pk_psndoc")||{}).value.firstvalue);d||""==d||(d=(0,r.getBusinessInfo)().userId);var c=null,u=null;return o?(c=o,u=3):s&&(c=s,u=1),"3"==(t.search.getSearchValByField(e,"bodys.objtype")?t.search.getSearchValByField(e,"bodys.objtype").value.firstvalue:null)?{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",accclass:u,pk_cust:c,pk_currtype:n((t.search.getSearchValByField(e,"bodys.pk_currtype")||{}).value.firstvalue),pk_psndoc:d,GridRefActionExt:"nccloud.web.arap.ref.before.BankaccPersonSqlBuilder"}:{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",accclass:u,pk_cust:c,pk_currtype:n((t.search.getSearchValByField(e,"bodys.pk_currtype")||{}).value.firstvalue)}};break;case"recaccount":"F0"!=l&&"F2"!=l||(a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:(t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSearchAreaSqlBuilder"}}),a.queryCondition=function(){var a=n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue);if("F0"==l||"F2"==l)return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",refnodename:i.state.json["public-000150"],pk_org:a,pk_billtype:l,pk_currtype:t.search.getSearchValByField(e,"pk_currtype")?t.search.getSearchValByField(e,"pk_currtype").value.firstvalue:null,GridRefActionExt:"nccloud.web.arap.ref.before.BankaccSubUseSqlBuilder"};var r=t.search.getSearchValByField(e,"supplier")?t.search.getSearchValByField(e,"supplier").value.firstvalue:null,o=t.search.getSearchValByField(e,"customer")?t.search.getSearchValByField(e,"customer").value.firstvalue:null,s=null,d=null;return r?(s=r,d=3):o&&(s=o,d=1),{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",accclass:d,pk_cust:s,pk_currtype:t.search.getSearchValByField(e,"pk_currtype")?t.search.getSearchValByField(e,"pk_currtype").value.firstvalue:null}};break;case"bodys.recaccount":"F0"!=l&&"F2"!=l||(a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:(t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSearchAreaSqlBuilder"}}),a.queryCondition=function(){var a=n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue);if("F0"==l||"F2"==l)return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",refnodename:i.state.json["public-000150"],pk_org:a,pk_billtype:l,pk_currtype:t.search.getSearchValByField(e,"bodys.pk_currtype")?t.search.getSearchValByField(e,"bodys.pk_currtype").value.firstvalue:null,GridRefActionExt:"nccloud.web.arap.ref.before.BankaccSubUseSqlBuilder"};var o=n((t.search.getSearchValByField(e,"bodys.supplier")||{}).value.firstvalue),s=n((t.search.getSearchValByField(e,"bodys.customer")||{}).value.firstvalue),d=n((t.search.getSearchValByField(e,"bodys.pk_psndoc")||{}).value.firstvalue);d||""==d||(d=(0,r.getBusinessInfo)().userId);var c=null,u=null;return o?(c=o,u=3):s&&(c=s,u=1),"3"==(t.search.getSearchValByField(e,"bodys.objtype")?t.search.getSearchValByField(e,"bodys.objtype").value.firstvalue:null)?{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",accclass:u,pk_cust:c,pk_currtype:n((t.search.getSearchValByField(e,"bodys.pk_currtype")||{}).value.firstvalue),pk_psndoc:d,GridRefActionExt:"nccloud.web.arap.ref.before.BankaccPersonSqlBuilder"}:{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",accclass:u,pk_cust:c,pk_currtype:n((t.search.getSearchValByField(e,"bodys.pk_currtype")||{}).value.firstvalue)}};break;case"sendcountryid":a.queryCondition=function(){if("F0"==l)return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y"}};break;case"taxcountryid":a.queryCondition=function(){if("F0"==l||"F1"==l)return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y"}};break;case"ordercubasdoc":case"bodys.ordercubasdoc":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}},a.queryCondition=function(){if("F0"==l)return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue)}};break;case"pk_balatype":a.queryCondition=function(){return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_billtype:l,GridRefActionExt:"nccloud.web.arap.ref.before.BalatypeSqlBuilder"}};break;case"costcenter":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:(t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSearchAreaSqlBuilder"}},a.queryCondition=function(){t.search.getSearchValByField(e,"pk_pcorg")&&t.search.getSearchValByField(e,"pk_pcorg").value.firstvalue;return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:t.search.getSearchValByField(e,"pk_pcorg")?t.search.getSearchValByField(e,"pk_pcorg").value.firstvalue:null,orgType:"pk_profitcenter",TreeRefActionExt:"nccloud.web.arap.ref.before.CostCenterSqlBuilder"}};break;case"pk_psndoc":a.isShowUnit=!0,a.isShowDimission=!0,a.unitCondition=function(){return{pkOrgs:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}},a.queryCondition=function(){return{busifuncode:"all",DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue)}};break;case"bodys.pk_psndoc":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}},a.queryCondition=function(){return{busifuncode:"all",DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue)}};break;case"pk_subjcode":case"bodys.pk_subjcode":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:(t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSearchAreaSqlBuilder"}},a.queryCondition=function(){return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue)}};break;case"pk_currtype":a.isShowDisabledData=!1,a.queryCondition=function(){return{DataPowerOperationCode:"fi"}};break;case"bodys.pk_currtype":a.queryCondition=function(){return{DataPowerOperationCode:"fi"}};break;case"bankrollprojet":case"bodys.bankrollprojet":case"cashitem":case"bodys.cashitem":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:(t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSearchAreaSqlBuilder"}},a.queryCondition=function(){return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue)}};break;case"pu_org":a.queryCondition=function(){return{isDataPowerEnable:"Y",pkOrgs:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSearchAreaSqlBuilder"}};break;case"pu_org_v":a.isShowUnit=!1,a.queryCondition=function(){return{isDataPowerEnable:"Y",pkOrgs:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue),VersionStartDate:(0,r.getBusinessInfo)().businessDate,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSearchAreaSqlBuilder"}};break;case"so_org":a.queryCondition=function(){var a=n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue);return"F0"==l||"F2"==l?{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pkOrgs:a,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}:{isDataPowerEnable:"Y",pkOrgs:a,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}};break;case"so_org_v":a.isShowUnit=!1,a.queryCondition=function(){var a=n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue);return"F0"==l||"F2"==l?{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pkOrgs:a,VersionStartDate:(0,r.getBusinessInfo)().businessDate,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}:{isDataPowerEnable:"Y",pkOrgs:a,VersionStartDate:(0,r.getBusinessInfo)().businessDate,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}};break;case"pu_deptid":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:n((t.search.getSearchValByField(e,"pu_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}},a.queryCondition=function(){var a=n((t.search.getSearchValByField(e,"pu_org")||{}).value.firstvalue);return"F3"==l||"F1"==l?{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:a}:{isDataPowerEnable:"Y",pk_org:a}};break;case"bodys.pu_deptid":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:n((t.search.getSearchValByField(e,"bodys.pu_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}},a.queryCondition=function(){var a=n((t.search.getSearchValByField(e,"bodys.pu_org")||{}).value.firstvalue);return"F3"==l||"F1"==l?{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:a}:{isDataPowerEnable:"Y",pk_org:a}};break;case"pu_deptid_v":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:n((t.search.getSearchValByField(e,"pu_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}},a.queryCondition=function(){var a=n((t.search.getSearchValByField(e,"pu_org")||{}).value.firstvalue);return"F3"==l||"F1"==l?{isDataPowerEnable:"Y",DataPowerOperationCode:"fi",VersionStartDate:(0,r.getBusinessInfo)().businessDate,pk_org:a}:{isDataPowerEnable:"Y",VersionStartDate:(0,r.getBusinessInfo)().businessDate,pk_org:a}};break;case"bodys.pu_deptid_v":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:n((t.search.getSearchValByField(e,"bodys.pu_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}},a.queryCondition=function(){var a=n((t.search.getSearchValByField(e,"bodys.pu_org")||{}).value.firstvalue);return"F3"==l||"F1"==l?{isDataPowerEnable:"Y",DataPowerOperationCode:"fi",VersionStartDate:(0,r.getBusinessInfo)().businessDate,pk_org:a}:{isDataPowerEnable:"Y",VersionStartDate:(0,r.getBusinessInfo)().businessDate,pk_org:a}};break;case"pu_psndoc":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:n((t.search.getSearchValByField(e,"pu_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}},a.queryCondition=function(){var a=n((t.search.getSearchValByField(e,"pu_org")||{}).value.firstvalue);return"F3"==l?{busifuncode:"all",DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:a}:{busifuncode:"all",isDataPowerEnable:"Y",pk_org:a}};break;case"bodys.pu_psndoc":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:n((t.search.getSearchValByField(e,"bodys.pu_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}},a.queryCondition=function(){var a=n((t.search.getSearchValByField(e,"bodys.pu_org")||{}).value.firstvalue);return"F3"==l?{busifuncode:"all",DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:a}:{busifuncode:"all",isDataPowerEnable:"Y",pk_org:a}};break;case"so_deptid":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:n((t.search.getSearchValByField(e,"so_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}},a.queryCondition=function(){a.isShowUnit=!0;var r=n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue);return"F0"==l||"F2"==l?{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:r}:{isDataPowerEnable:"Y",pk_org:r}};break;case"bodys.so_deptid":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:n((t.search.getSearchValByField(e,"bodys.so_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}},a.queryCondition=function(){a.isShowUnit=!0;var r=n((t.search.getSearchValByField(e,"bodys.so_org")||{}).value.firstvalue);return"F0"==l||"F2"==l?{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:r}:{isDataPowerEnable:"Y",pk_org:r}};break;case"so_deptid_v":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:n((t.search.getSearchValByField(e,"so_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}},a.queryCondition=function(){a.isShowUnit=!0;var o=n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue);return"F0"==l||"F2"==l?{isDataPowerEnable:"Y",DataPowerOperationCode:"fi",VersionStartDate:(0,r.getBusinessInfo)().businessDate,pk_org:o}:{isDataPowerEnable:"Y",VersionStartDate:(0,r.getBusinessInfo)().businessDate,pk_org:o}};break;case"bodys.so_deptid_v":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:n((t.search.getSearchValByField(e,"bodys.so_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}},a.queryCondition=function(){a.isShowUnit=!0;var o=n((t.search.getSearchValByField(e,"bodys.so_org")||{}).value.firstvalue);return"F0"==l||"F2"==l?{isDataPowerEnable:"Y",DataPowerOperationCode:"fi",VersionStartDate:(0,r.getBusinessInfo)().businessDate,pk_org:o}:{isDataPowerEnable:"Y",VersionStartDate:(0,r.getBusinessInfo)().businessDate,pk_org:o}};break;case"bodys.so_org":a.queryCondition=function(){var a=n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue);if("F0"==l||"F2"==l)return{pkOrgs:a,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}};break;case"bodys.so_org_v":a.queryCondition=function(){var a=n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue);if("F0"==l||"F2"==l)return{pkOrgs:a,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}};break;case"bodys.pu_org":a.queryCondition=function(){var a=n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue);if("F1"==l||"F3"==l)return{pkOrgs:a,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}};break;case"bodys.pu_org_v":a.queryCondition=function(){var a=n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue);if("F1"==l||"F3"==l)return{pkOrgs:a,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}};break;case"bodys.so_psndoc":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:n((t.search.getSearchValByField(e,"bodys.so_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}},a.queryCondition=function(){var r=n((t.search.getSearchValByField(e,"bodys.so_org")||{}).value.firstvalue);return a.isShowUnit=!0,"F0"==l||"F2"==l?{busifuncode:"all",DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:r}:{busifuncode:"all",isDataPowerEnable:"Y",pk_org:r}};break;case"so_psndoc":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue),TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSqlBuilder"}},a.queryCondition=function(){var r=n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue);return a.isShowUnit=!0,"F0"==l||"F2"==l?{busifuncode:"all",DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:r}:{busifuncode:"all",isDataPowerEnable:"Y",pk_org:r}};break;case"checkelement":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:(t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSearchAreaSqlBuilder"}},a.queryCondition=function(){var a=t.search.getSearchValByField(e,"pk_pcorg")?t.search.getSearchValByField(e,"pk_pcorg").value.firstvalue:null;if(a)return t.search.setDisabledByField(e,"checkelement",!1),{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:a};t.search.setDisabledByField(e,"checkelement",!0)};break;case"bodys.checkelement":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:(t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSearchAreaSqlBuilder"}},a.queryCondition=function(){var a=t.search.getSearchValByField(e,"bodys.pk_pcorg")?t.search.getSearchValByField(e,"bodys.pk_pcorg").value.firstvalue:null;if(a)return t.search.setDisabledByField(e,"bodys.checkelement",!1),{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:a};t.search.setDisabledByField(e,"bodys.checkelement",!0)};break;case"bodys.so_ordertype":a.queryCondition=function(){return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",parentbilltype:"30,32,38,4310,4331"}};break;case"bodys.so_transtype":a.queryCondition=function(){return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y"}};break;case"bodys.material":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:(t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSearchAreaSqlBuilder"}},a.queryCondition=function(){return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue),matcustcode:t.search.getSearchValByField(e,"bodys.matcustcode")?t.search.getSearchValByField(e,"bodys.matcustcode").value.firstvalue:null,GridRefActionExt:"nccloud.web.arap.ref.before.MaterialGridSqlBuilder"}};break;case"bodys.productline":a.queryCondition=function(){return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y"}};break;case"bodys.pk_payterm":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:(t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSearchAreaSqlBuilder"}},a.queryCondition=function(){return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue)}};break;case"bodys.freecust":var c=!0;a.queryCondition=function(){var a=t.search.getSearchValByField(e,"bodys.supplier")?t.search.getSearchValByField(e,"bodys.supplier").value.firstvalue:null,n=t.search.getSearchValByField(e,"bodys.customer")?t.search.getSearchValByField(e,"bodys.customer").value.firstvalue:null;if((0,r.ajax)({url:"/nccloud/arap/ref/freecustcontrol.do",data:{supplier:a,customer:n},success:function(e){e.success&&(c=e.data)}}),c)return{isDataPowerEnable:"Y",supplier:a,customer:n,GridRefActionExt:"nccloud.web.arap.ref.before.FreeCustSqlBuilder"}};break;case"bodys.taxcodeid":a.queryCondition=function(){return"F1"==l?{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",taxcountryid:t.search.getSearchValByField(e,"taxcountryid")?t.search.getSearchValByField(e,"taxcountryid").value.firstvalue:null,buysellflag:t.search.getSearchValByField(e,"bodys.buysellflag")?t.search.getSearchValByField(e,"bodys.buysellflag").value.firstvalue:null,GridRefActionExt:"nccloud.web.arap.ref.before.TaxcodeIdSqlBuilder"}:{isDataPowerEnable:"Y",taxcountryid:t.search.getSearchValByField(e,"taxcountryid")?t.search.getSearchValByField(e,"taxcountryid").value.firstvalue:null,buysellflag:t.search.getSearchValByField(e,"bodys.buysellflag")?t.search.getSearchValByField(e,"bodys.buysellflag").value.firstvalue:null,GridRefActionExt:"nccloud.web.arap.ref.before.TaxcodeIdSqlBuilder"}};break;case"bodys.project":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:(t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSearchAreaSqlBuilder"}},a.queryCondition=function(){return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue)}};break;case"bodys.project_task":a.isShowUnit=!0,a.unitCondition=function(){return{pkOrgs:(t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue,TreeRefActionExt:"nccloud.web.arap.ref.before.OrgSearchAreaSqlBuilder"}},a.queryCondition=function(){return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue),project:t.search.getSearchValByField(e,"bodys.project")?t.search.getSearchValByField(e,"bodys.project").value.firstvalue:null,TreeRefActionExt:"nccloud.web.arap.ref.before.ProjectTaskSqlBuilder"}};break;case"bodys.rececountryid":a.queryCondition=function(){if("F0"==l)return{DataPowerOperationCode:"fi",isDataPowerEnable:"Y"}};break;case"bodys.checkno":a.queryCondition=function(){return{sence:"search",pk_org:n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue),fbmbilltype:t.search.getSearchValByField(e,"bodys.checktype").value.firstvalue,pk_curr:t.search.getSearchValByField(e,"bodys.pk_currtype").value.firstvalue,DataPowerOperationCode:"fi",isDataPowerEnable:"Y"}};break;default:a.queryCondition=function(){var a=null;return d.indexOf("def")&&(a=n((t.search.getSearchValByField(e,"pk_org")||{}).value.firstvalue)),{DataPowerOperationCode:"fi",isDataPowerEnable:"Y",pk_org:a}}}return a})),a}},184:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n,l,o){var i=[];o?a.forEach((function(e){i.push({pk_bill:e.data.values[n].value,billType:e.data.values.pk_billtype.value})})):i=a;(0,r.ajax)({url:"/nccloud/arap/arappub/madebill.do",data:i,success:function(a){a.success&&(r.cacheTools.set(l+a.data.cachekey,a.data.pklist),t.openTo(a.data.url,{status:"edit",n:e.state.json["public-000233"],appcode:a.data.appcode,pagecode:a.data.pagecode,scene:l+a.data.cachekey}))}})};var r=a(1)},197:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.searchId="query",t.tableId="list",t.billType="F2",t.tradeType="D2",t.nodekey="list",t.dataSource="fi.arap.gatheringbill.20060GBM",t.pkname="pk_gatherbill",t.searchKey="pk_gatherbill_search"},2:function(e,a){e.exports=t},201:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contactButton=function(e,t){var a=void 0,r=void 0;(a=function e(t,a){if(t)return t;var r=!0,n=!1,l=void 0;try{for(var o,i=a[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var s=o.value;if("Add"==s.key)t=s;else if(0==s.children.length){if("Add"==s.key){t=s;break}}else if(t=e(t,s.children))break}}catch(e){n=!0,l=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw l}}return t}(a,e))&&(a.children&&a.children.length>0&&(r=a.children[0]),r&&t&&t.length>0&&(r.children=r.children.concat(t)))},t.getTransferInfo=function(e,t){var a=e.Info.pullBillInfoVOAry,r=void 0;if(a)for(var n=0;n<a.length;n++){var l=a[n];if(l.src_billtype===t){r=l;break}}return r}},202:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n,l){var o=void 0,i=void 0,s=void 0,d=void 0,c=void 0,u=void 0;a.data?(o=a.data.values.pk_org.value,i=a.data.values.pk_group.value,s=a.data.values.pk_billtype.value,d=a.data.values.pk_tradetype.value,c=a.data.values.billdate.value,u=a.data.values.isrefund?a.data.values.isrefund.value:null):(o=a.rows[0].values.pk_org.value,i=a.rows[0].values.pk_group.value,s=a.rows[0].values.pk_billtype.value,d=a.rows[0].values.pk_tradetype.value,c=a.rows[0].values.billdate.value,u=a.rows[0].values.isrefund?a.rows[0].values.isrefund.value:null);if(u&&1==u){if(s&&"F1"==s)return void(0,r.toast)({color:"warning",content:e.state.json["public-000239"]});if(s&&"F3"==s)return void(0,r.toast)({color:"warning",content:e.state.json["public-000240"]})}var p="2006"==l.substring(0,4)?"AR":"AP",f=[{pk_group:i,pk_org:o,relationID:n,pk_billtype:d}],b={messagevo:[{pk_system:p,relationid:n,busidate:c,pk_org:o,pk_group:i,pk_billtype:d}],desbilltype:["C0"],srcbilltype:d};(0,r.ajax)({url:"/nccloud/arap/arappub/linkvouchar.do",data:f,async:!1,success:function(a){if(a.success){var n=a.data.src;if("_LinkVouchar2019"==n)if(a.data.des){if(a.data.pklist)return 1==a.data.pklist.length?void t.openTo(a.data.url,{status:"browse",appcode:a.data.appcode,pagecode:a.data.pagecode,id:a.data.pklist[0],n:e.state.json["public-000231"],backflag:"noback"}):(r.cacheTools.set(a.data.cachekey,a.data.pklist),void t.openTo(a.data.url,{status:"browse",appcode:a.data.appcode,pagecode:a.data.pagecode,scene:l+n,n:e.state.json["public-000231"]}))}else r.cacheTools.set(l+n,a.data.pklist);else"_Preview2019"==n&&r.cacheTools.set(l+n,b);t.openTo(a.data.url,{status:"browse",appcode:a.data.appcode,pagecode:a.data.pagecode,scene:l+n,n:e.state.json["public-000232"]})}}})};var r=a(1)},21:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){if(!(e&&t&&a&&a.template&&a.context))return;var r=a.template,n=a.context,l=n.pk_org,o=n.org_Name,i=null,s=null;null!=a.context.paramMap&&null!=a.context.paramMap.transtype&&null!=a.context.paramMap.transtype_name&&(i=a.context.paramMap.pk_transtype,s=a.context.paramMap.transtype_name);var d=null;if(null!=a.template.query)var c=a.template.query.queryschemes;if(null!=c&&c.length>0)for(var u=0;u<c.length;u++){var p=c[u];if(1==p.isquickqs){var f=p.renderobj4web;if(null!=f&&f.length>0)for(u=0;u<f.length;u++){if("billdate"==f[u].attrcode){d=f[u].initialvalue;break}if("root"==f[u].attrcode){var b=f[u].children;if(null!=b&&b.length>0)for(var h=0;h<b.length;h++)if("billdate"==b[h].attrcode){d=b[h].initialvalue;break}}}}}r[t].items.map((function(e){"pk_org"==e.attrcode?e.initialvalue={display:o,value:l}:"billdate"==e.attrcode?e.initialvalue=d:"pk_tradetypeid"==e.attrcode&&s&&(e.initialvalue={display:s,value:i})}))}},22:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var r=this,n=["pk_deptid","bodys.pk_deptid","pk_deptid_v","bodys.pk_deptid_v","supplier","customer","bodys.supplier","bodys.customer","subjcode","bodys.subjcode","payaccount","bodys.payaccount","recaccount","bodys.recaccount","ordercubasdoc","bodys.ordercubasdoc","pk_psndoc","bodys.pk_psndoc","pk_subjcode","bodys.pk_subjcode","bankrollprojet","bodys.bankrollprojet","cashitem","bodys.cashitem","checkelement","bodys.checkelement","bodys.material","bodys.pk_payterm","bodys.project","bodys.project_task"];if("pk_org"==e)for(var l=0;l<n.length;l++)this.props.search.setSearchValByField(a,n[l],{value:"",display:""});if("bodys.objtype"==e){var o=this.props.meta.getMeta();"F1"==this.billType||"F3"==this.billType||"23E1"==this.billType?(o[a].items.map((function(e){if("bodys.recaccount"==e.attrcode&&null!=r.props.search.getSearchValByField(a,"bodys.objtype")&&null!=r.props.search.getSearchValByField(a,"bodys.objtype")&&null!=r.props.search.getSearchValByField(a,"bodys.objtype").value&&null!=r.props.search.getSearchValByField(a,"bodys.objtype").value.firstvalue){var t=r.props.search.getSearchValByField(a,"bodys.objtype").value.firstvalue;"1"==t||"2"==t||""==t?(e.itemType="refer",e.refcode="uapbd/refer/pub/CustBankAccGridRef/index",e.refName=r.state.json["public-000147"]):"3"==t?(e.itemType="refer",e.refcode="uapbd/refer/pubinfo/PsnbankaccGridRef/index",e.refName=r.state.json["public-000148"]):(e.itemType="refer",e.refcode="uapbd/refer/pub/CustBankAccGridRef/index",e.refName=r.state.json["public-000149"])}return e})),this.props.renderItem("search",a,"bodys.recaccount",null)):"F0"!=this.billType&&"F2"!=this.billType&&"23E0"!=this.billType||(o[a].items.map((function(e){if("bodys.payaccount"==e.attrcode&&null!=r.props.search.getSearchValByField(a,"bodys.objtype")&&null!=r.props.search.getSearchValByField(a,"bodys.objtype")&&null!=r.props.search.getSearchValByField(a,"bodys.objtype").value&&null!=r.props.search.getSearchValByField(a,"bodys.objtype").value.firstvalue){var t=r.props.search.getSearchValByField(a,"bodys.objtype").value.firstvalue;"1"==t?(e.itemType="refer",e.refcode="uapbd/refer/pub/CustBankAccGridRef/index",e.refName=r.state.json["public-000147"]):"3"==t?(e.itemType="refer",e.refcode="uapbd/refer/pubinfo/PsnbankaccGridRef/index",e.refName=r.state.json["public-000148"]):(e.itemType="refer",e.refcode="uapbd/refer/pub/CustBankAccGridRef/index",e.refName=r.state.json["public-000149"])}return e})),this.props.renderItem("search",a,"bodys.payaccount",null))}}},24:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,o){t&&(0,r.ajax)({url:"/nccloud/arap/arappub/arapBillLinkReport.do",data:{pk_bill:t,billType:a,objType:o},async:!1,success:function(t){if(t.success){var a=function(e){var t={logic:"and",conditions:[{field:"not_search",oprtype:"=",value:{firstvalue:"",secondvalue:""}}],oprtype:"=",display:null},a={logic:"and",conditions:[]};for(var r in e){var n=e[r];switch(r){case"pk_orgs":t.conditions.push({field:r,datatype:"204",isIncludeSub:!1,oprtype:"=",value:{firstvalue:n[0],secondvalue:null}});break;case"repInitContext":l=n.m_headVo.node_code;break;case"showFrontN":case"userObject":case"pk_group":case"syscode":case"alarmDay":break;case"qryObjs":var o=n[0],i=o.values.join(","),s=[o.billFieldName,i.replace(/,/g,"@"),!1,!1];a.conditions.push({field:"queryObjsVal",oprtype:"=",value:{firstvalue:s.join(","),secondvalue:null}});break;case"beginDate":case"endDate":t.conditions.push({field:r,datatype:"204",isIncludeSub:!1,oprtype:"=",value:{firstvalue:n,secondvalue:null}});break;case"pk_billtypes":var d=[n.join(",").replace(/,/g,"@")];t.conditions.push({field:r,datatype:"204",isIncludeSub:!1,oprtype:"=",value:{firstvalue:d[0],secondvalue:null}});break;case"nooccur_noshow":case"nobal_nooccur_noshow":t.conditions.push({field:r,datatype:"32",isIncludeSub:!1,oprtype:"=",value:{firstvalue:n,secondvalue:null}});break;default:t.conditions.push({field:r,datatype:"203",isIncludeSub:!1,oprtype:"=",value:{firstvalue:n,secondvalue:null}})}}return{queryInfo:t,custconditions:a}}(t.data);n("sessionStorage","LinkReport",JSON.stringify(a.queryInfo),(function(){})),n("sessionStorage","sessionCustcondition",JSON.stringify(a.custconditions),(function(){})),e.openTo("/nccloud/resources/arap/accountquery/report/balanceData/index.html",{appcode:l,pagecode:l+"page"})}}})};var r=a(1),n=r.viewModel.setGlobalStorage,l=void 0},241:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=r.cacheTools.get("checkedData"),n=void 0;a&&(n={fipLink:a,pageId:e.getSearchParam("p")});(0,r.ajax)({url:"/nccloud/arap/arappub/queryGridByPK.do",data:n,success:function(a){var r=a.success,n=a.data;r&&(n?e.table.setAllTableData(t,n[t]):e.table.setAllTableData(t,{rows:[]}))}})};var r=a(1);r.cardCache.updateCache},242:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var n=e.getUrlParam("pk_src"),l=void 0;n&&(l={dest_billtype:a,pk_src:n,pageId:e.getSearchParam("p")});(0,r.ajax)({url:"/nccloud/arap/arappub/cmpLinkArapList.do",data:l,success:function(a){var r=a.success,n=a.data;r&&(n?e.table.setAllTableData(t,n[t]):e.table.setAllTableData(t,{rows:[]}))}})};var r=a(1)},25:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),l=a(2),o=(r=l)&&r.__esModule?r:{default:r},i=a(1);a(34);var s=i.base.NCModal,d=i.base.NCButton,c=i.base.NCTable,u=i.base.NCDiv,p=[{title:o.default.createElement("div",{fieldid:"pk_dealnum"},""),dataIndex:"pk_dealnum",key:"pk_dealnum",width:100,render:function(e,t,a){return o.default.createElement("div",{fieldid:"pk_dealnum"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"jine"},""),children:[{title:o.default.createElement("div",{fieldid:"money"},""),dataIndex:"money",key:"money",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"money"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"local_money"},"local_money"),dataIndex:"local_money",key:"local_money",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"local_money"},e||o.default.createElement("span",null," "))}}]},{title:o.default.createElement("div",{fieldid:"ye"},""),children:[{title:o.default.createElement("div",{fieldid:"money_bal"},""),dataIndex:"money_bal",key:"money_bal",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"money_bal"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"local_money_bal"},""),dataIndex:"local_money_bal",key:"local_money_bal",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"local_money_bal"},e||o.default.createElement("span",null," "))}}]},{title:o.default.createElement("div",{fieldid:"scomment"},""),dataIndex:"scomment",key:"scomment",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"scomment"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"busidate"},""),dataIndex:"busidate",key:"busidate",width:100,render:function(e,t,a){return o.default.createElement("div",{fieldid:"busidate"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"jfjine"},""),children:[{title:o.default.createElement("div",{fieldid:"money_de_b"},""),dataIndex:"money_de_b",key:"money_de_b",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"money_de_b"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"local_money_de_b"},""),dataIndex:"local_money_de_b",key:"local_money_de_b",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"local_money_de_b"},e||o.default.createElement("span",null," "))}}]},{title:o.default.createElement("div",{fieldid:"dfjine"},""),children:[{title:o.default.createElement("div",{fieldid:"money_de_h"},""),dataIndex:"money_de_h",key:"money_de_h",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"money_de_h"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"local_money_de_h"},""),dataIndex:"local_money_de_h",key:"local_money_de_h",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"local_money_de_h"},e||o.default.createElement("span",null," "))}}]},{title:o.default.createElement("div",{fieldid:"billTypeName"},""),dataIndex:"billTypeName",key:"billTypeName",width:100,render:function(e,t,a){return o.default.createElement("div",{fieldid:"billTypeName"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"billno"},""),dataIndex:"billno",key:"billno",width:100,render:function(e,t,a){return o.default.createElement("div",{fieldid:"billno"},e||o.default.createElement("span",null," "))}}],f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.rowClassNameHandler=function(e,t,r){return a.state.selectedRow[t]?"selected":""},a.onRowClick=function(e,t){var r=new Array(a.state.tableData.length);r[t]=!0,a.setState({factoryValue:e,selectedRow:r,record:e})},a.linkBill=function(){var e=a.state.record;e?(0,i.ajax)({url:"/nccloud/arap/arappub/linkarapbill.do",async:!1,data:{billType:e.billType,pk_bill:e.pk_bill},success:function(e){var t=e.data;t?i.pageTo.openTo(t.url,t.condition):(0,i.toast)({color:"warning",content:a.state.json["public-000057"]})}}):(0,i.toast)({color:"warning",content:a.state.json["public-000014"]})},a.totalData=[],a.table="",a.total="",a.totalColumns=[{title:o.default.createElement("div",{fieldid:"pk_dealnum"},""),dataIndex:"pk_dealnum",key:"pk_dealnum",width:100,render:function(e,t,a){return o.default.createElement("div",{fieldid:"pk_dealnum"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"money"},""),dataIndex:"money",key:"money",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"money"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"local_money"},""),dataIndex:"local_money",key:"local_money",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"local_money"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"money_bal"},""),dataIndex:"money_bal",key:"money_bal",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"money_bal"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"local_money_bal"},""),dataIndex:"local_money_bal",key:"local_money_bal",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:""},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"scomment"},""),dataIndex:"scomment",key:"scomment",width:100,render:function(e,t,a){return o.default.createElement("div",{fieldid:"scomment"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"busidate"},""),dataIndex:"busidate",key:"busidate",width:100,render:function(e,t,a){return o.default.createElement("div",{fieldid:"busidate"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"money_de_b"},""),dataIndex:"money_de_b",key:"money_de_b",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"money_de_b"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"local_money_de_b"},""),dataIndex:"local_money_de_b",key:"local_money_de_b",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"local_money_de_b"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"money_de_h"},""),dataIndex:"money_de_h",key:"money_de_h",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"money_de_h"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"local_money_de_h"},""),dataIndex:"local_money_de_h",key:"local_money_de_h",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"local_money_de_h"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"billTypeName"},""),dataIndex:"billTypeName",key:"billTypeName",width:100,render:function(e,t,a){return o.default.createElement("div",{fieldid:"billTypeName"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"billno"},""),dataIndex:"billno",key:"billno",width:100,render:function(e,t,a){return o.default.createElement("div",{fieldid:"billno"},e||o.default.createElement("span",null," "))}}],a.state={tableData:[],record:null,selectedRow:[],json:{}},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillMount",value:function(){var e=this;(0,i.getMultiLang)({moduleId:"public",domainName:"arap",currentLocale:"simpchn",callback:function(t){e.setState({json:t},(function(){p=[{title:o.default.createElement("div",{fieldid:"pk_dealnum"},e.state.json["public-000045"]),dataIndex:"pk_dealnum",key:"pk_dealnum",width:100,render:function(e,t,a){return o.default.createElement("div",{fieldid:"pk_dealnum"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"jine"},e.state.json["public-000046"]),children:[{title:o.default.createElement("div",{fieldid:"money"},e.state.json["public-000047"]),dataIndex:"money",key:"money",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"money"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"local_money"},e.state.json["public-000048"]),dataIndex:"local_money",key:"local_money",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"local_money"},e||o.default.createElement("span",null," "))}}]},{title:o.default.createElement("div",{fieldid:"ye"},e.state.json["public-000049"]),children:[{title:o.default.createElement("div",{fieldid:"money_bal"},e.state.json["public-000047"]),dataIndex:"money_bal",key:"money_bal",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"money_bal"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"local_money_bal"},e.state.json["public-000048"]),dataIndex:"local_money_bal",key:"local_money_bal",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"local_money_bal"},e||o.default.createElement("span",null," "))}}]},{title:o.default.createElement("div",{fieldid:"scomment"},e.state.json["public-000050"]),dataIndex:"scomment",key:"scomment",width:100,render:function(e,t,a){return o.default.createElement("div",{fieldid:"scomment"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"busidate"},e.state.json["public-000051"]),dataIndex:"busidate",key:"busidate",width:100,render:function(e,t,a){return o.default.createElement("div",{fieldid:"busidate"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"jfjine"},e.state.json["public-000052"]),children:[{title:o.default.createElement("div",{fieldid:"money_de_b"},e.state.json["public-000047"]),dataIndex:"money_de_b",key:"money_de_b",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"money_de_b"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"local_money_de_b"},e.state.json["public-000048"]),dataIndex:"local_money_de_b",key:"local_money_de_b",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"local_money_de_b"},e||o.default.createElement("span",null," "))}}]},{title:o.default.createElement("div",{fieldid:"dfjine"},e.state.json["public-000053"]),children:[{title:o.default.createElement("div",{fieldid:"money_de_h"},e.state.json["public-000047"]),dataIndex:"money_de_h",key:"money_de_h",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"money_de_h"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"local_money_de_h"},e.state.json["public-000048"]),dataIndex:"local_money_de_h",key:"local_money_de_h",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"local_money_de_h"},e||o.default.createElement("span",null," "))}}]},{title:o.default.createElement("div",{fieldid:"billTypeName"},e.state.json["public-000054"]),dataIndex:"billTypeName",key:"billTypeName",width:100,render:function(e,t,a){return o.default.createElement("div",{fieldid:"billTypeName"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"billno"},e.state.json["public-000055"]),dataIndex:"billno",key:"billno",width:100,render:function(e,t,a){return o.default.createElement("div",{fieldid:"billno"},e||o.default.createElement("span",null," "))}}],e.totalColumns=[{title:o.default.createElement("div",{fieldid:"pk_dealnum"},e.state.json["public-000056"]),dataIndex:"pk_dealnum",key:"pk_dealnum",width:100,render:function(e,t,a){return o.default.createElement("div",{fieldid:"pk_dealnum"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"money"},e.state.json["public-000047"]),dataIndex:"money",key:"money",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"money"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"local_money"},e.state.json["public-000048"]),dataIndex:"local_money",key:"local_money",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"local_money"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"money_bal"},e.state.json["public-000047"]),dataIndex:"money_bal",key:"money_bal",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"money_bal"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"local_money_bal"},e.state.json["public-000048"]),dataIndex:"local_money_bal",key:"local_money_bal",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"local_money_bal"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"scomment"},e.state.json["public-000050"]),dataIndex:"scomment",key:"scomment",width:100,render:function(e,t,a){return o.default.createElement("div",{fieldid:"scomment"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"busidate"},e.state.json["public-000051"]),dataIndex:"busidate",key:"busidate",width:100,render:function(e,t,a){return o.default.createElement("div",{fieldid:"busidate"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"money_de_b"},e.state.json["public-000047"]),dataIndex:"money_de_b",key:"money_de_b",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"money_de_b"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"local_money_de_b"},e.state.json["public-000048"]),dataIndex:"local_money_de_b",key:"local_money_de_b",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"local_money_de_b"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"money_de_h"},e.state.json["public-000047"]),dataIndex:"money_de_h",key:"money_de_h",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"money_de_h"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"local_money_de_h"},e.state.json["public-000048"]),dataIndex:"local_money_de_h",key:"local_money_de_h",width:100,className:"columnRight",render:function(e,t,a){return o.default.createElement("div",{fieldid:"local_money_de_h"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"billTypeName"},e.state.json["public-000054"]),dataIndex:"billTypeName",key:"billTypeName",width:100,render:function(e,t,a){return o.default.createElement("div",{fieldid:"billTypeName"},e||o.default.createElement("span",null," "))}},{title:o.default.createElement("div",{fieldid:"billno"},e.state.json["public-000055"]),dataIndex:"billno",key:"billno",width:100,render:function(e,t,a){return o.default.createElement("div",{fieldid:"billno"},e||o.default.createElement("span",null," "))}}]}))}})}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.combinedExaminationData==this.props.combinedExaminationData)return!1;var a=this.state.tableData,r=0==e.combinedExaminationData.length?[]:e.combinedExaminationData.total;r&&r.length>0&&(this.totalData=[{pk_dealnum:r[0],money:r[1],local_money:r[2],money_bal:r[3],local_money_bal:r[4],scomment:r[5],busidate:r[6],money_de_b:r[7],local_money_de_b:r[8],money_de_h:r[9],local_money_de_h:r[10],billTypeName:r[11],billno:r[12]}]),this.setState({tableData:0==e.combinedExaminationData.length?[]:e.combinedExaminationData.list},(function(){if(t.setState({selectedRow:new Array(a.length)}),t.state.tableData.length>0){var e=t.table.querySelector(".u-table-body"),r=t.total.querySelector(".u-table-body");e.onscroll=function(){r.scrollLeft=e.scrollLeft},r.onscroll=function(){e.scrollLeft=r.scrollLeft}}}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.show,r=t.pk_tradetypeid,n=t.billno,l=this.state.tableData,i="100px",f=document.getElementById("combinedExaminationModelId");if(f){var b=f.querySelector(".u-modal-body");b&&(i=b.offsetHeight-200+"px")}return o.default.createElement("div",null,o.default.createElement(s,{fieldid:"combinedExamination",id:"combinedExaminationModelId",className:"query-modal",show:a,size:"xlg",backdrop:"static",onHide:this.props.handleModel},o.default.createElement(s.Header,{closeButton:!0},o.default.createElement(s.Title,null,""+this.state.json["public-000058"])),o.default.createElement(s.Body,null,o.default.createElement("div",{className:"steps-content"},o.default.createElement("ul",{className:"content-tit"},o.default.createElement("div",{className:"content-tit-tit"},o.default.createElement("li",{className:"tit-tradetype"},o.default.createElement("span",null,this.state.json["public-000059"],"："),o.default.createElement("span",null,r)),o.default.createElement("li",{className:"tit-billno"},o.default.createElement("span",null,this.state.json["public-000060"],"："),o.default.createElement("span",null,n))),o.default.createElement("li",null,o.default.createElement(d,{fieldid:"linkbill",className:"button-primary",style:{float:"right"},onClick:this.linkBill},this.state.json["public-000061"]))),o.default.createElement(u,{fieldid:"ncc",areaCode:u.config.TABLE,className:"table-area"},o.default.createElement(c,{className:"total-rows",columns:p,isDrag:!0,ref:function(t){e.table=ReactDOM.findDOMNode(t)},data:l,style:{marginRight:"20px",height:"350px"},loading:!1,onRowClick:this.onRowClick.bind(this),rowClassName:this.rowClassNameHandler,footer:function(){return o.default.createElement(c,{className:"total-row",ref:function(t){return e.total=ReactDOM.findDOMNode(t)},rowKey:"total",isDrag:!0,data:e.totalData,columns:e.totalColumns,showHeader:!1,scroll:{x:!0,y:"35px"},bodyStyle:{height:"35px"}})},scroll:{x:!0,y:i},bodyStyle:{height:i}}))))))}}]),t}(l.Component);f=(0,i.createPage)({})(f),t.default=f},26:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return o.default.createElement(u,Object.assign(t,e))};var n,l=a(2),o=(n=l)&&n.__esModule?n:{default:n},i=a(1);a(37);var s=i.cardCache.setDefData,d=i.high.Refer,c=i.base.NCButton,u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.setVisible=function(e){a.setState({visible:e})},a.state={visible:!0,json:{}},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillMount",value:function(){var e=this;(0,i.getMultiLang)({moduleId:"public",domainName:"arap",currentLocale:"simpchn",callback:function(t){e.setState({json:t})}})}},{key:"render",value:function(){var e=this.props,t=e.billtype,a=e.dataSource,r=e.switchTemplate;return o.default.createElement("div",{className:(this.state.visible?"show":"hide")+"  teadetype-lightapp-component"},o.default.createElement("span",null,o.default.createElement(d,{fieldid:"tradetype",placeholder:this.state.json["public-000139"],refName:this.state.json["public-000151"],refCode:"tradetype",refType:"grid",queryGridUrl:"/nccloud/riart/ref/fiBillTypeTableRefAction.do",columnConfig:[{name:[this.state.json["public-000245"],this.state.json["public-000246"]],code:["refcode","refname"]}],queryCondition:{parentbilltype:t},onChange:function(e){s("sessionTradeType",a,e.refcode),s("isSwitchTradeType",a,!0),r&&r()},isMultiSelectedEnabled:!1,clickContainer:o.default.createElement(c,{fieldid:"tradetype",colors:"primary"},this.state.json["public-000139"])})))}}]),t}(l.Component)},27:function(e,t,a){var r=a(39);"string"==typeof r&&(r=[[e.i,r,""]]);var n={transform:void 0};a(4)(r,n);r.locals&&(e.exports=r.locals)},271:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,r,i,d){switch(a){case o.innerButton.Edit_inner:var c={pk_bill:i.pk_gatherbill.value,billType:l.billType};(0,n.ajax)({url:"/nccloud/arap/arappub/edit.do",data:c,success:function(e){"linksce"==t.getUrlParam("scene")||"fip"==t.getUrlParam("scene")?t.pushTo("/card",{status:"edit",id:i.pk_gatherbill.value,pagecode:"20060GBM_CARD_LINK",scene:"linksce"}):t.pushTo("/card",{status:"edit",id:i.pk_gatherbill.value,pagecode:i.pk_tradetype.value})}});break;case o.innerButton.Delete_inner:e.Info.pk_bill=i.pk_gatherbill.value,e.Info.ts=i.ts.value,e.Info.index=d,e.delConfirm();break;case o.innerButton.Copy_inner:"linksce"==t.getUrlParam("scene")||"fip"==t.getUrlParam("scene")?t.pushTo("/card",{status:"add",id:i.pk_gatherbill.value,type:"copy",pagecode:"20060GBM_CARD_LINK",scene:"linksce"}):t.pushTo("/card",{status:"add",id:i.pk_gatherbill.value,type:"copy",pagecode:i.pk_tradetype.value});break;case o.innerButton.Commit_inner:e.Info.tipUrl="/nccloud/arap/arappub/commit.do",e.Info.record=i,e.commitAndUncommit();break;case o.innerButton.Uncommit_inner:e.Info.tipUrl="/nccloud/arap/arappub/uncommit.do",e.Info.record=i,e.commitAndUncommit();break;case o.innerButton.MadeBill_inner:var u=[{pk_bill:i.pk_gatherbill.value,billType:l.billType,tradeType:i.pk_tradetype.value}];(0,s.default)(e,t,u,"",t.getSearchParam("c"))}};var r,n=a(1),l=a(197),o=a(5),i=a(184),s=(r=i)&&r.__esModule?r:{default:r}},28:function(e,t){e.exports=a},3:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=function(e,t){var a=e[1]||"",r=e[3];if(!r)return a;if(t&&"function"==typeof btoa){var n=(o=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),l=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[a].concat(l).concat([n]).join("\n")}var o;return[a].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+a+"}":a})).join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},n=0;n<this.length;n++){var l=this[n][0];"number"==typeof l&&(r[l]=!0)}for(n=0;n<e.length;n++){var o=e[n];"number"==typeof o[0]&&r[o[0]]||(a&&!o[2]?o[2]=a:a&&(o[2]="("+o[2]+") and ("+a+")"),t.push(o))}},t}},34:function(e,t,a){var r=a(35);"string"==typeof r&&(r=[[e.i,r,""]]);var n={transform:void 0};a(4)(r,n);r.locals&&(e.exports=r.locals)},35:function(e,t,a){(e.exports=a(3)(!1)).push([e.i,"#combinedExaminationModelId {\n  text-align: center;\n}\n#combinedExaminationModelId .u-table-body {\n  overflow-x: hidden !important;\n}\n#combinedExaminationModelId .u-table-body tr td.columnRight {\n  text-align: right;\n}\n#combinedExaminationModelId .u-modal-dialog .u-modal-content .u-modal-body {\n  padding: 0;\n}\n#combinedExaminationModelId .steps-content .content-tit {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin: 10px 0;\n  padding: 0 20px;\n}\n#combinedExaminationModelId .steps-content .content-tit .content-tit-tit {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n#combinedExaminationModelId .steps-content .content-tit .content-tit-tit .tit-tradetype {\n  padding-right: 20px;\n}\n#combinedExaminationModelId .steps-content .table-area {\n  margin: 0 20px;\n}\n#combinedExaminationModelId .steps-content .u-table-footer {\n  border-bottom: 1px solid #e9e9e9;\n}\n#combinedExaminationModelId .steps-content .u-table-footer .u-table-body {\n  overflow: auto!important;\n  overflow-y: hidden !important;\n}\n#combinedExaminationModelId .steps-content .total-rows .u-table-header .u-table-thead tr th {\n  text-align: center;\n  border-right: 1px solid #d0d0d0;\n}\n#combinedExaminationModelId .selected {\n  background-color: #e4e4e4;\n}\n",""])},37:function(e,t,a){var r=a(38);"string"==typeof r&&(r=[[e.i,r,""]]);var n={transform:void 0};a(4)(r,n);r.locals&&(e.exports=r.locals)},38:function(e,t,a){(e.exports=a(3)(!1)).push([e.i,".teadetype-lightapp-component.hide {\n  display: none;\n}\n.teadetype-lightapp-component.show {\n  display: block;\n}\n",""])},39:function(e,t,a){(e.exports=a(3)(!1)).push([e.i,".trade-type .refer-wrapper .u-button {\n  font-size: 13px;\n}\n.light-tabs-header .tabs-config {\n  height: 100%;\n  padding-top: 5px;\n}\n.u-tabs-top .u-tabs-content-animated .u-tabs-tabpane {\n  position: relative;\n  overflow: auto;\n}\n",""])},4:function(e,t,a){var r,n,l={},o=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===n&&(n=r.apply(this,arguments)),n}),i=function(e){var t={};return function(a){return void 0===t[a]&&(t[a]=e.call(this,a)),t[a]}}((function(e){return document.querySelector(e)})),s=null,d=0,c=[],u=a(11);function p(e,t){for(var a=0;a<e.length;a++){var r=e[a],n=l[r.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](r.parts[o]);for(;o<r.parts.length;o++)n.parts.push(v(r.parts[o],t))}else{var i=[];for(o=0;o<r.parts.length;o++)i.push(v(r.parts[o],t));l[r.id]={id:r.id,refs:1,parts:i}}}}function f(e,t){for(var a=[],r={},n=0;n<e.length;n++){var l=e[n],o=t.base?l[0]+t.base:l[0],i={css:l[1],media:l[2],sourceMap:l[3]};r[o]?r[o].parts.push(i):a.push(r[o]={id:o,parts:[i]})}return a}function b(e,t){var a=i(e.insertInto);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===e.insertAt)r?r.nextSibling?a.insertBefore(t,r.nextSibling):a.appendChild(t):a.insertBefore(t,a.firstChild),c.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");a.appendChild(t)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function y(e){var t=document.createElement("style");return e.attrs.type="text/css",m(t,e.attrs),b(e,t),t}function m(e,t){Object.keys(t).forEach((function(a){e.setAttribute(a,t[a])}))}function v(e,t){var a,r,n,l;if(t.transform&&e.css){if(!(l=t.transform(e.css)))return function(){};e.css=l}if(t.singleton){var o=d++;a=s||(s=y(t)),r=k.bind(null,a,o,!1),n=k.bind(null,a,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",m(t,e.attrs),b(e,t),t}(t),r=I.bind(null,a,t),n=function(){h(a),a.href&&URL.revokeObjectURL(a.href)}):(a=y(t),r=w.bind(null,a),n=function(){h(a)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else n()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var a=f(e,t);return p(a,t),function(e){for(var r=[],n=0;n<a.length;n++){var o=a[n];(i=l[o.id]).refs--,r.push(i)}e&&p(f(e,t),t);for(n=0;n<r.length;n++){var i;if(0===(i=r[n]).refs){for(var s=0;s<i.parts.length;s++)i.parts[s]();delete l[i.id]}}}};var g,_=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function k(e,t,a,r){var n=a?"":r.css;if(e.styleSheet)e.styleSheet.cssText=_(t,n);else{var l=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(l,o[t]):e.appendChild(l)}}function w(e,t){var a=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}function I(e,t,a){var r=a.css,n=a.sourceMap,l=void 0===t.convertToAbsoluteUrls&&n;(t.convertToAbsoluteUrls||l)&&(r=u(r)),n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([r],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}},412:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),i=a(2),s=g(i),d=a(1),c=a(413),u=a(6),p=a(197),f=g(a(25)),b=g(a(241)),h=g(a(242)),y=a(8),m=g(a(26)),v=g(a(22));function g(e){return e&&e.__esModule?e:{default:e}}a(27);var _=d.base.NCDiv,k=d.high.Inspection,w=d.high.BillTrack,I=d.high.PrintOutput,S=d.high.ApproveDetail,C=d.high.NCUploader,B=d.cardCache.setDefData,E=d.cardCache.getDefData,x=d.cardCache.getCacheById,D=d.cardCache.getCurrentLastId,P=d.high.ExcelImport,T=d.high.ApprovalTrans,O=(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.call(a),a.state={isCombinedExaminationModelShow:!1,isTbbLinkshow:!1,showBillTrack:!1,showApproveDetail:!1,showUploader:!1,target:null,compositedisplay:!1,forceRender:!0,json:{}},a.printData={billtype:p.billType,appcode:e.getSearchParam("c")?e.getSearchParam("c"):e.getUrlParam("c"),nodekey:p.nodekey,oids:null,userjson:p.billType},a.outputData={billtype:p.billType,appcode:e.getSearchParam("c")?e.getSearchParam("c"):e.getUrlParam("c"),funcode:e.getSearchParam("c")?e.getSearchParam("c"):e.getUrlParam("c"),nodekey:p.nodekey,oids:null,userjson:p.billType,outputType:"output"},a.moduleId="2052",a.searchId=p.searchId,a.tableId=p.tableId,a.pageId=e.getSearchParam("p"),a.billType=p.billType,a.pkname=p.pkname;var r=a.props,l=(r.form,r.button,r.table,r.insertTable,r.search),o=(l.setSearchValue,l.setSearchValByField),i=l.getAllSearchData;return a.setSearchValByField=o,a.getAllSearchData=i,a.Info={allButtonsKey:[],combinedExaminationData:[],pk_tradetypeid:null,billno:null,tbbLinkSourceData:null,pk_tradetype:null,pk_bill:null,ts:null,selectedPKS:[],tipContent:"",tipUrl:null,exType:null,record:null,flag:!1,index:null,compositedata:null},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){}},{key:"componentWillMount",value:function(){var e=this;if("bz"==E("scene",p.dataSource))this.dealBzScence();else{(0,d.getMultiLang)({moduleId:["gatheringbill"],domainName:"arap",currentLocale:"simpchn",callback:function(t){e.setState({json:t},(function(){c.initTemplate.call(e,e.props,e.initShow)}))}})}}},{key:"componentDidMount",value:function(){}},{key:"tbbLinkcancel",value:function(){this.setState({isTbbLinkshow:!1})}},{key:"onSubmit",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=(t.form,t.button,t.table),r=(t.insertTable,t.search),n=t.modal,o=a.createSimpleTable,i=r.NCCreateSearch,d=n.createModal,u=this.state,b=u.showUploader,h=u.target,g=this.props.BillHeadInfo.createBillHeadInfo;return s.default.createElement("div",{className:"nc-bill-list"},s.default.createElement(_,{areaCode:_.config.HEADER,className:"nc-bill-header-area"},s.default.createElement("div",{className:"header-title-search-area"},g({title:this.props.getSearchParam("n")?this.props.getSearchParam("n"):this.state.json["gatheringbill-000048"],initShowBackBtn:!1})),s.default.createElement("div",{className:"header-button-area"},this.props.getUrlParam("scene")||(0,y.getContext)(y.loginContextKeys.transtype)?null:s.default.createElement("div",{className:"trade-type"},(0,m.default)({ref:"tradetypeBtn",billtype:"F2",dataSource:p.dataSource,switchTemplate:this.switchTemplate.bind(this)})),this.props.button.createButtonApp({area:"list_head",buttonLimit:3,onButtonClick:c.buttonClick.bind(this),popContainer:document.querySelector(".header-button-area")}))),s.default.createElement("div",{className:"nc-bill-search-area"},i(this.searchId,{clickSearchBtn:c.searchBtnClick.bind(this),showAdvBtn:!0,onAfterEvent:v.default.bind(this),renderCompleteEvent:this.renderCompleteEvent})),s.default.createElement("div",{className:"nc-bill-table-area"},o(this.tableId,{fieldid:"gatheringbill",dataSource:p.dataSource,pkname:p.pkname,handlePageInfoChange:c.pageInfoClick,tableModelConfirm:c.tableModelConfirm,showCheck:!0,showIndex:!0,onRowDoubleClick:c.doubleClick.bind(this),onSelected:this.onSelected.bind(this),onSelectedAll:this.onSelected.bind(this),componentInitFinished:function(){e.onSelected()}})),s.default.createElement(f.default,{show:this.state.isCombinedExaminationModelShow,combinedExaminationData:this.Info.combinedExaminationData,pk_tradetypeid:this.Info.pk_tradetypeid,billno:this.Info.billno,handleModel:this.handleCombined.bind(this)}),s.default.createElement(w,{show:this.state.showBillTrack,close:function(){e.setState({showBillTrack:!1})},pk:this.Info.pk_bill,type:this.Info.pk_tradetype}),s.default.createElement(I,{ref:"printOutput",url:"/nccloud/arap/arappub/outPut.do",data:this.outputData,callback:this.onSubmit}),d("importModal",{noFooter:!0,className:"import-modal",hasBackDrop:!1}),s.default.createElement(P,l({},Object.assign(this.props),{moduleName:"arap",billType:this.billType,pagecode:"20060GBM_CARD",appcode:this.props.getSearchParam("c")?this.props.getSearchParam("c"):this.props.getUrlParam("c"),selectedPKS:this.Info.selectedPKS,exportTreeUrl:"/nccloud/arap/gatheringbill/gatherbillexport.do",forceRender:this.state.forceRender})),s.default.createElement(S,{show:this.state.showApproveDetail,close:this.closeApprove,billtype:this.Info.pk_tradetype,billid:this.Info.pk_bill}),s.default.createElement(k,{show:this.state.isTbbLinkshow,sourceData:this.Info.tbbLinkSourceData,cancel:this.tbbLinkcancel.bind(this)}),b&&s.default.createElement(C,{billId:this.Info.pk_bill,billNo:this.Info.billno,target:h,placement:"bottom",onHide:this.onHideUploader,customize:{pk_billType:this.billType},customInterface:{queryLeftTree:"/nccloud/arap/arappub/arapFileLeftTreeQuery.do",queryAttachments:"/nccloud/arap/arappub/transformBillEnclosureQuery.do"}}),s.default.createElement("div",null,d("commitAndUncommit",{title:this.state.json["gatheringbill-000046"],content:this.Info.tipContent,beSureBtnClick:this.commitAndUncommit.bind(this),cancelBtnClick:this.clearExType.bind(this)}),d("deleteCheck",{title:this.state.json["gatheringbill-000045"],content:this.Info.tipContent,beSureBtnClick:this.deleteBillSureBtnClick.bind(this)}),this.state.compositedisplay?s.default.createElement(T,{title:this.state.json["gatheringbill-000047"],data:this.Info.compositedata,display:this.state.compositedisplay,getResult:this.commitAndUncommit.bind(this),cancel:this.clearExType.bind(this)}):null))}}]),t}(i.Component),n=function(){var e=this;this.getPagecode=function(){var t=null;return e.props.getUrlParam("scene")||"20060GBM_LIST_LINK"==e.props.getSearchParam("p")?(e.props.getUrlParam("scene")||e.props.ViewModel.setData("nccloud-router-params",{scene:"linksce"}),t="20060GBM_LIST_LINK"):t="20060GBM_LIST",t},this.initShow=function(){if(!e.props.table.hasCacheData(p.dataSource))if(e.onSelected(),"widget"==e.props.getUrlParam("src")){var t=d.cacheTools.get("F2widget"),a={pageInfo:e.props.table.getTablePageInfo(e.tableId),queryAreaCode:e.searchId,oid:"0001Z31000000006B7PC",querytype:"tree"},r={pageId:e.props.getSearchParam("p"),queryInfo:a,toDoSearchVO:t};(0,d.ajax)({url:"/nccloud/arap/gatheringbill/querywidget.do",data:r,success:function(t){t.success;var a=t.data;a?e.props.table.setAllTableData(e.tableId,a[e.tableId]):((0,d.toast)({color:"success",content:e.state.json["gatheringbill-000011"]}),e.props.table.setAllTableData(e.tableId,{rows:[]})),B(e.tableId,p.dataSource,a)}})}else"browse"==e.props.getUrlParam("status")&&("fip"==e.props.getUrlParam("scene")?(0,b.default)(e.props,e.tableId):"linksce"==e.props.getUrlParam("scene")&&"ftsLinkArap"==e.props.getUrlParam("flag")&&(0,h.default)(e.props,e.tableId,e.billType));E("isSwitchTradeType",p.dataSource)&&e.switchTemplate.call(e)},this.dealBzScence=function(){var t=D(p.dataSource);if(t){var a=x(t,p.dataSource),r=a.head.head.rows[0].values.pk_tradetype.value,n=a.head.head.rows[0].values.pk_gatherbill.value;e.props.pushTo("/card",{status:"browse",id:n,pagecode:r,scene:"bz"})}else e.props.pushTo("/card",{status:"browse",pagecode:E("pagecode",p.dataSource),scene:"bz"})},this.onSelected=function(){(0,u.onListButtonControl)(e)},this.handleCombined=function(){e.setState({isCombinedExaminationModelShow:!e.state.isCombinedExaminationModelShow})},this.onPrint=function(){(0,d.print)("pdf","/nccloud/arap/arappub/print.do",e.printData,!1)},this.officalPrintOutput=function(){(0,d.ajax)({url:"/nccloud/arap/arappub/officialPrint.do",data:e.printData,async:!1,success:function(t){t.success&&(0,d.print)("pdf","/nccloud/arap/arappub/print.do",e.printData,!1)}})},this.cancelPrintOutput=function(){(0,d.ajax)({url:"/nccloud/arap/arappub/cancelPrint.do",data:e.printData,success:function(e){e.success&&(0,d.toast)({color:"success",content:e.data})}})},this.closeApprove=function(){e.setState({showApproveDetail:!1})},this.printOutput=function(){e.refs.printOutput.open()},this.clearExType=function(){e.Info.exType=null,e.Info.flag=!0,e.Info.compositedata=null,e.Info.tipUrl=null,e.state.compositedisplay&&e.setState({compositedisplay:!1})},this.commitAndUncommit=function(){var t=e.Info.tipUrl,a=e.Info.exType,r=e.Info.flag,n=e.Info.record;(0,d.ajax)({url:t,data:{pk_bill:n.pk_gatherbill.value,ts:n.ts.value,pageId:e.props.getSearchParam("p"),billType:e.billType,type:1,extype:a,flag:r,assignObj:e.Info.compositedata},success:function(a){if("1"==a.data.exType){var r=a.data.message;return e.Info.tipContent=r,e.Info.exType="1",e.Info.flag=!0,e.Info.record=n,void e.props.modal.show("commitAndUncommit")}if(a.data.workflow&&("approveflow"==a.data.workflow||"workflow"==a.data.workflow))return e.Info.compositedata=a.data,e.Info.tipUrl=t,void e.setState({compositedisplay:!0});a.success&&(e.clearExType(),(0,d.toast)({color:"success",content:e.state.json["gatheringbill-000038"]}),e.props.table.updateDataByIndexs(e.tableId,[{index:n.numberindex.value-1,data:{values:a.data[e.tableId].rows[0].values}}]),e.onSelected())}})},this.delConfirm=function(t,a){(0,d.ajax)({url:"/nccloud/arap/arappub/delete.do",data:[{pk_bill:e.Info.pk_bill,ts:e.Info.ts,billType:e.billType,extype:t,index:e.Info.index,flag:a}],success:function(t){var a=t.success,r=t.data;if(a&&r){if("1"==t.data.exType)return e.Info.tipContent=t.data.message,e.Info.exType="1",e.Info.flag=!0,void e.props.modal.show("deleteCheck");(0,d.toast)({color:r.PopupWindowStyle,content:r.errMsg}),e.props.table.deleteTableRowsByIndex(e.tableId,r.successIndexs),e.props.table.deleteCacheId(e.tableId,r.successPKs),e.onSelected(),e.clearExType()}}})},this.deleteBillSureBtnClick=function(){var t=e.Info.exType,a=e.Info.flag;e.delConfirm(t,a)},this.onHideUploader=function(){e.setState({showUploader:!1})},this.switchTemplate=function(){var t=e.getPagecode(),a=e.props.getSearchParam("c")?e.props.getSearchParam("c"):e.props.getUrlParam("c"),r=E("sessionTradeType",p.dataSource);r||(r=p.tradeType),(0,d.ajax)({url:"/nccloud/arap/arappub/queryallbtns.do",data:{appcode:a,pagecode:t,tradetype:r,billtype:p.billType},success:function(t){var a=t.data;if(a.button){var r=a.button;e.Info.pullBillInfoVOAry=a.pullbillinfo,(0,u.getButtonsKey)(r,e.Info.allButtonsKey),e.props.button.setButtons(r)}}})},this.renderCompleteEvent=function(){var t=E(p.searchKey,p.dataSource);if(t&&t.conditions){var a=!0,r=!1,n=void 0;try{for(var l,o=t.conditions[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var i=l.value;if("billdate"==i.field){var s=[];s.push(i.value.firstvalue),s.push(i.value.secondvalue),e.props.search.setSearchValByField(e.searchId,i.field,{display:i.display,value:s})}else e.props.search.setSearchValByField(e.searchId,i.field,{display:i.display,value:i.value.firstvalue})}}catch(e){r=!0,n=e}finally{try{!a&&o.return&&o.return()}finally{if(r)throw n}}}}},r);O=(0,d.createPage)({})(O),t.default=O},413:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doubleClick=t.tableButtonClick=t.buttonClick=t.initTemplate=t.pageInfoClick=t.searchBtnClick=void 0;var r=d(a(414)),n=d(a(415)),l=d(a(416)),o=d(a(417)),i=d(a(271)),s=d(a(418));function d(e){return e&&e.__esModule?e:{default:e}}t.searchBtnClick=r.default,t.pageInfoClick=l.default,t.initTemplate=n.default,t.buttonClick=o.default,t.tableButtonClick=i.default,t.doubleClick=s.default},414:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this;if(t){var i=(0,l.getContext)(l.loginContextKeys.transtype),s=e.table.getTablePageInfo(this.tableId),d=e.search.getQueryInfo(this.searchId);d.pageInfo=s;var c={pageId:e.getSearchParam("p"),queryInfo:d,tradeType:i};o(n.searchId,n.dataSource,c),(0,r.ajax)({url:"/nccloud/arap/gatheringbill/query.do",data:c,success:function(e){var t=e.success,l=e.data;t&&(l?((0,r.toast)({color:"success",content:a.state.json["gatheringbill-000013"]+l[a.tableId].allpks.length+a.state.json["gatheringbill-000014"]}),a.props.table.setAllTableData(a.tableId,l[a.tableId])):((0,r.toast)({color:"warning",content:a.state.json["gatheringbill-000015"]}),a.props.table.setAllTableData(a.tableId,{rows:[]})),o(a.tableId,n.dataSource,l),a.onSelected())}})}};var r=a(1),n=a(197),l=a(8),o=r.cardCache.setDefData;r.cardCache.getDefData},415:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a,p=this,h=p.getPagecode(),y=e.getSearchParam("c")?e.getSearchParam("c"):e.getUrlParam("c"),m=(0,r.excelImportconfig)(e,"arap",o.billType,!0,"",{appcode:y,pagecode:"20060GBM_CARD"}),v=null!=(a=b("sessionTradeType",o.dataSource))&&null!=a?a:o.tradeType;e.createUIDom({pagecode:h,appcode:y,reqDataQueryallbtns:{rqUrl:"/arap/arappub/queryallbtns.do",rqJson:'{\n  "pagecode": "'+h+'",\n  "appcode": "'+y+'"\n,\n  "billtype": "'+o.billType+'"\n,\n  "tradetype": "'+v+'"\n}',rqCode:"button"},reqDataQuerypage:{rqUrl:"/arap/arappub/querypage.do",rqJson:'{\n  "pagecode": "'+h+'",\n  "appcode": "'+y+'"\n}',rqCode:"template"}},(function(a){if(a){if(!a.template[o.tableId])return;var r=[];if(a.button&&a.button.button){var b=a.button.button,h=a.button.pullbillinfo;p.Info.pullBillInfoVOAry=h,r=(0,l.getInnerButtonkey)(b),(0,l.getButtonsKey)(b,p.Info.allButtonsKey),e.button.setButtons(b),e.button.setPopContent(s.innerButton.Delete_inner,p.state.json["gatheringbill-000006"]),e.button.setUploadConfig("ImportData",m)}if(a.template){(0,c.default)(e,o.searchId,a);var y=a.template;r=(0,l.getInnerButtonkey)(a.button.button),y=function(e,t,a,r){return a[o.tableId].items=a[o.tableId].items.map((function(e,a){return"billno"==e.attrcode&&(e.render=function(e,a,r){return React.createElement("a",{style:{textDecoration:"none",cursor:"pointer"},onClick:function(){var e=t.search.getAllSearchData(o.searchId);e&&f(o.searchKey,o.dataSource,e),"linksce"==t.getUrlParam("scene")||"fip"==t.getUrlParam("scene")?t.pushTo("/card",{status:"browse",id:a.pk_gatherbill.value,pagecode:"20060GBM_CARD_LINK",scene:"linksce"}):t.pushTo("/card",{status:"browse",id:a.pk_gatherbill.value,pagecode:a.pk_tradetype.value})}},a.billno&&a.billno.value)}),e})),a[o.tableId].items.push({label:e.state.json["gatheringbill-000007"],itemtype:"customer",attrcode:"opr",width:u.OperationColumn,visible:!0,fixed:"right",render:function(a,o,i){for(var s=r||[],d=[],c=0;c<s.length;c++){(0,l.buttonVisible)("browse",o,s[c])&&d.push(s[c])}return t.button.createOprationButton(d,{area:"list_inner",buttonLimit:3,onButtonClick:function(t,r){return(0,n.default)(e,t,r,a,o,i)}})}}),a}(p,e,y,r),(0,i.modifierSearchMetas)(o.searchId,e,y,o.billType,a.context.paramMap?a.context.paramMap.transtype:null,p),e.meta.setMeta(y,(function(){null!=a.context.paramMap&&e.search.setSearchValByField(o.searchId,"pk_tradetypeid",{display:a.context.paramMap.transtype_name,value:a.context.paramMap.pk_transtype})}))}a.context&&((0,d.loginContext)(a.context),(0,d.getContext)(d.loginContextKeys.transtype)&&p.refs.tradetypeBtn&&p.refs.tradetypeBtn.setVisible(!1)),t&&t()}}))};var r=a(1),n=p(a(271)),l=a(6),o=a(197),i=a(18),s=a(5),d=a(8),c=p(a(21)),u=a(12);function p(e){return e&&e.__esModule?e:{default:e}}r.base.NCPopconfirm,r.base.NCIcon;var f=r.cardCache.setDefData,b=r.cardCache.getDefData},416:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var l=this;if(a&&0!=a.length){var o={pk_bills:a,pageId:e.getSearchParam("p")};(0,r.ajax)({url:"/nccloud/arap/gatheringbill/querygridbyids.do",data:o,success:function(t){var a=t.success,r=t.data;a&&(r?e.table.setAllTableData(n.tableId,r[n.tableId]):e.table.setAllTableData(n.tableId,{rows:[]})),l.onSelected()}})}};var r=a(1),n=a(197)},417:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this,f=(0,u.getContext)(u.loginContextKeys.transtype),k=(e.getSearchParam("c"),e.getSearchParam("p"));switch(t){case l.headButton.Add:k=h("sessionTradeType",n.dataSource),f?k=f:k||(k=n.tradeType),e.pushTo("/card",{status:"add",pagecode:k});break;case l.headButton.Commit:v(this,this.props,this.tableId,n.billType,l.headButton.Commit);break;case l.headButton.Uncommit:v(this,this.props,this.tableId,n.billType,l.headButton.Uncommit);break;case l.headButton.Generate:(0,p.batchGenerate)(this);break;case l.headButton.Delete:(0,r.promptBox)({color:"warning",title:this.state.json["gatheringbill-000005"],content:this.state.json["gatheringbill-000079"],noFooter:!1,noCancelBtn:!1,beSureBtnName:this.state.json["gatheringbill-000004"],cancelBtnName:this.state.json["gatheringbill-000002"],beSureBtnClick:function(){var t=m(a.props,a.tableId,n.billType);0!=t.length?1==t.length?(a.Info.pk_bill=t[0].pk_bill,a.Info.ts=t[0].ts,a.Info.index=t[0].index,a.delConfirm()):(0,r.ajax)({url:"/nccloud/arap/arappub/delete.do",data:t,success:function(t){var l=t.success,o=t.data;l&&o&&((0,r.toast)({duration:"infinity",color:o.PopupWindowStyle,content:o.errMsg}),e.table.deleteTableRowsByIndex(n.tableId,o.successIndexs),e.table.deleteCacheId(n.tableId,o.successPKs),a.onSelected())}}):(0,r.toast)({color:"warning",content:a.state.json["gatheringbill-000010"]})}});break;case l.headButton.LinkAprv:var w=this.props.table.getCheckedRows(this.tableId)[0];w?(this.Info.pk_tradetype=w.data.values.pk_tradetype.value,this.Info.pk_bill=w.data.values.pk_gatherbill.value,this.setState({showApproveDetail:!0})):(0,r.toast)({color:"warning",content:this.state.json["gatheringbill-000050"]});break;case l.headButton.MadeBill:(0,c.default)(this,e,this.props.table.getCheckedRows(this.tableId),"pk_gatherbill",e.getSearchParam("c"),!0);break;case l.headButton.LinkSettleInfo:var I=y(this.props,this.tableId);(0,r.ajax)({url:"/nccloud/arap/arappub/linksettleinfo.do",data:{pk_bill:I.data.values.pk_gatherbill.value,billType:n.billType},success:function(t){var a=t.success;t.data;a&&e.openTo("/nccloud/resources/cmp/settlementmanagement/settlement/main/index.html#/card",{status:"browse",srcid:I.data.values.pk_gatherbill.value,src:"2006",appcode:"360704SM",pagecode:"360704SM_C01"})},error:function(e){(0,r.toast)({color:"warning",content:e.message})}});break;case l.headButton.ConnectSettleInfo:(0,r.ajax)({url:"/nccloud/arap/arappub/validatecmp.do",async:!1,data:null,success:function(t){t.success&&(k=h("sessionTradeType",n.dataSource),f?k=f:k||(k=n.tradeType),e.openTo("/nccloud/resources/cmp/settlementmanagement/settlepublic/list/index.html",{appcode:"360704SM",pagecode:"360704SMP_L01",callbackappcode:e.getSearchParam("c"),callbackpagecode:k,src:0,callback:"/nccloud/resources/arap/gatheringbill/gatheringbill/main/index.html#/card"}))}});break;case l.headButton.LinkInformer:var S=y(this.props,this.tableId,this.billType);(0,r.ajax)({url:"/nccloud/arap/arappub/linkinformer.do",data:{pk_bill:S.data.values.pk_gatherbill.value,billType:this.billType},success:function(t){t.success&&t.data&&(1==t.data.length?e.openTo("/nccloud/resources/cmp/informer/LinkBill/card/index.html",{appcode:"36070AISC",pagecode:"36070AILLINK",status:"browse",id:t.data}):e.openTo("/nccloud/resources/cmp/informer/LinkBill/list/index.html",{appcode:"36070AISC",pagecode:"36070AICLINK",status:"browse",ids:t.data}))}});break;case l.headButton.LinkBal:(0,s.default)(this.props,y(this.props,this.tableId,this.billType).data.values.pk_gatherbill.value,n.billType,y(this.props,this.tableId,this.billType).data.values.objtype.value);break;case l.headButton.LinkDeal:var C=y(this.props,this.tableId,this.billType);(0,r.ajax)({url:"/nccloud/arap/arappub/linkdeal.do",data:{pk_bill:C.data.values.pk_gatherbill.value,billType:n.billType},success:function(e){if(e.success){var t=e.data,r=a.props.table.getCheckedRows(a.tableId)[0].data.values;a.Info.combinedExaminationData=t,a.Info.pk_tradetypeid=r.pk_tradetypeid?r.pk_tradetypeid.display:null,a.Info.billno=r.billno?r.billno.value:null,a.handleCombined()}}});break;case l.headButton.LinkVouchar:var B=y(this.props,this.tableId);(0,d.default)(this,e,B,B.data.values.pk_gatherbill.value,e.getSearchParam("c"));break;case l.headButton.LinkConfer:var E=y(this.props,this.tableId,this.billType);(0,r.ajax)({url:"/nccloud/arap/arappub/linkconfer.do",async:!1,data:{pk_bill:E.data.values.pk_gatherbill.value,billType:n.billType},success:function(t){var a=t.data;a&&e.openTo(a.url,a.condition)}});break;case l.headButton.LinkTbb:var x=y(this.props,this.tableId,this.billType);(0,r.ajax)({url:"/nccloud/arap/arappub/linktbb.do",data:{pk_bill:x.data.values.pk_gatherbill.value,billType:n.billType},success:function(e){a.Info.tbbLinkSourceData=e.data,a.setState({isTbbLinkshow:!0})}});break;case l.headButton.BillLinkQuery:var D=y(this.props,this.tableId,n.billType);this.Info.pk_bill=D.data.values.pk_gatherbill.value,this.Info.pk_tradetype=D.data.values.pk_tradetype.value,this.setState({showBillTrack:!0});break;case"Print":if(0==(D=this.props.table.getCheckedRows(this.tableId)).length)return void(0,r.toast)({color:"warning",content:this.state.json["gatheringbill-000050"]});var P=[];D.forEach((function(e){P.push(e.data.values.pk_gatherbill.value)})),this.printData.oids=P,this.printData.nodekey="card",this.onPrint();break;case l.headButton.PrintList:if(D=this.props.table.getCheckedRows(this.tableId),P=[],D.forEach((function(e){P.push(e.data.values.pk_gatherbill.value)})),0==P.length)return void(0,r.toast)({color:"warning",content:this.state.json["gatheringbill-000050"]});this.printData.oids=P,this.printData.nodekey="list",this.onPrint();break;case l.headButton.Output:if(0==(D=this.props.table.getCheckedRows(this.tableId)).length)return void(0,r.toast)({color:"warning",content:this.state.json["gatheringbill-000050"]});P=[],D.forEach((function(e){P.push(e.data.values.pk_gatherbill.value)})),this.outputData.oids=P,this.outputData.nodekey="card",this.printOutput();break;case l.headButton.OfficalPrint:if(0==(D=this.props.table.getCheckedRows(this.tableId)).length)return void(0,r.toast)({color:"warning",content:this.state.json["gatheringbill-000050"]});P=[],D.forEach((function(e){P.push(e.data.values.pk_gatherbill.value)})),this.printData.oids=P,this.printData.nodekey="card",this.officalPrintOutput();break;case l.headButton.CancelPrint:if(0==(D=this.props.table.getCheckedRows(this.tableId)).length)return void(0,r.toast)({color:"warning",content:this.state.json["gatheringbill-000050"]});P=[],D.forEach((function(e){P.push(e.data.values.pk_gatherbill.value)})),this.printData.oids=P,this.printData.nodekey="card",this.cancelPrintOutput();break;case l.headButton.ExportData:if(this.state.forceRender&&this.setState({forceRender:!1}),D=this.props.table.getCheckedRows(this.tableId),P=[],D.forEach((function(e){P.push(e.data.values.pk_gatherbill.value)})),0==P.length)return void(0,r.toast)({color:"warning",content:this.state.json["gatheringbill-000050"]});this.Info.selectedPKS=P,this.props.modal.show("exportFileModal");break;case l.headButton.Refresh:var T=h(n.searchId,n.dataSource);T?(0,r.ajax)({url:"/nccloud/arap/gatheringbill/query.do",data:T,success:function(e){var t=e.success,l=e.data;t&&(l?((0,r.toast)({color:"success",title:a.state.json["gatheringbill-000078"]}),a.props.table.setAllTableData(a.tableId,l[a.tableId])):((0,r.toast)({color:"success",content:a.state.json["gatheringbill-000011"]}),a.props.table.setAllTableData(a.tableId,{rows:[]}))),b(a.tableId,n.dataSource,l),a.onSelected()}}):((0,r.toast)({color:"success",title:this.state.json["gatheringbill-000078"]}),this.props.table.setAllTableData(this.tableId,{rows:[]}));break;case l.headButton.ReceiptCheck:var O=y(this.props,this.tableId);(F={}).pk_billid=O.data.values.pk_gatherbill.value,F.pk_billtype=O.data.values.pk_billtype.value,F.pk_tradetype=O.data.values.pk_tradetype.value,F.pk_org=O.data.values.pk_org.value,(0,i.imageView)(F,"iweb");break;case l.headButton.ReceiptScan:var F,A=y(this.props,this.tableId);(F={}).pk_billid=A.data.values.pk_gatherbill.value,F.pk_billtype=A.data.values.pk_billtype.value,F.pk_tradetype=A.data.values.pk_tradetype.value,F.pk_org=A.data.values.pk_org.value,F.BillType=A.data.values.pk_tradetype.value,F.BillDate=A.data.values.creationtime.value,F.Busi_Serial_No=A.data.values.pk_gatherbill.value,F.OrgNo=A.data.values.pk_org.value,F.BillCode=A.data.values.billno.value,F.OrgName=A.data.values.pk_org.display,F.Cash=A.data.values.money.value,(0,i.imageScan)(F,"iweb");break;case l.headButton.AttachManage:var j=y(this.props,this.tableId);this.Info.pk_bill=j.data.values.pk_gatherbill.value,this.Info.billno=j.data.values.billno.value,this.setState({showUploader:!0,target:null});break;case l.headButton.Refund:g.call(this,this.props);break;case l.headButton.CancelRefund:_.call(this,this.props);break;default:var V=(0,o.getTransferInfo)(this,t);V&&(0,r.ajax)({url:"/nccloud/arap/arappub/queryrelatedapp.do",data:{billType:V.src_billtype},success:function(t){if(t){b(V.src_billtype+V.transtypes[0],"transfer.dataSource",V.busitypes);var a=h("sessionTradeType",n.dataSource);f?a=f:a||(a=n.tradeType);var r="/"+V.src_billtype;e.pushTo(r,{src_appcode:t.data.appcode,src_tradetype:V.transtypes[0],dest_billtype:n.billType,dest_tradetype:a})}}})}},t.billRefund=g,t.billCancelRefund=_;var r=a(1),n=a(197),l=a(5),o=a(201),i=a(28),s=f(a(24)),d=f(a(202)),c=f(a(184)),u=a(8),p=a(7);function f(e){return e&&e.__esModule?e:{default:e}}var b=r.cardCache.setDefData,h=r.cardCache.getDefData;var y=function(e,t){var a=e.table.getCheckedRows(t);if(a.length>0)return a[0];(0,r.toast)({color:"warning",content:this.state.json["gatheringbill-000050"]})},m=function(e,t,a){var r=e.table.getCheckedRows(t),n=[];return r.forEach((function(t){n.push({pk_bill:t.data.values.pk_gatherbill.value,ts:t.data.values.ts.value,billType:a,index:t.index,pageId:e.getSearchParam("p")})})),n},v=function(e,t,a,n,o){var i=m(t,a,n);if(0!=i.length){var s="";if(o==l.headButton.Commit?s="/nccloud/arap/arappub/batchcommit.do":o==l.headButton.Uncommit&&(s="/nccloud/arap/arappub/batchuncommit.do"),1==i.length&&o==l.headButton.Commit)return e.Info.tipUrl="/nccloud/arap/arappub/commit.do",e.Info.record=t.table.getCheckedRows(a)[0].data.values,e.Info.record.numberindex={scale:0,value:i[0].index+1},void e.commitAndUncommit();(0,r.ajax)({url:s,data:i,success:function(n){var l=n.success,o=n.data;if(l){if(o.grid){var i=o.grid,s=[];for(var d in i)s.push({index:d,data:{values:i[d].values}});t.table.updateDataByIndexs(a,s)}o.message&&((0,r.toast)({duration:"infinity",color:o.PopupWindowStyle,content:o.message}),e.onSelected())}}})}else(0,r.toast)({color:"warning",content:this.state.json["gatheringbill-000010"]})};function g(e){var t=this,a=m(this.props,this.tableId,n.billType);(0,r.ajax)({url:"/nccloud/arap/arappub/listrefund.do",data:a,success:function(a){var l=a.success,o=a.data;if(l){if(o.grid){var i=o.grid,s=[];for(var d in i)s.push({index:d,data:{values:i[d].values}});e.table.updateDataByIndexs(n.tableId,s)}o.message&&((0,r.toast)({duration:"infinity",color:o.PopupWindowStyle,content:o.message}),t.onSelected())}}})}function _(e){var t=this,a=m(this.props,this.tableId,n.billType);(0,r.ajax)({url:"/nccloud/arap/arappub/listcancelrefund.do",data:a,success:function(a){var l=a.success,o=a.data;if(l){if(o.grid){var i=o.grid,s=[];for(var d in i)s.push({index:d,data:{values:i[d].values}});e.table.updateDataByIndexs(n.tableId,s)}o.message&&((0,r.toast)({duration:"infinity",color:o.PopupWindowStyle,content:o.message}),t.onSelected())}}})}},418:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var r=this.props.search.getAllSearchData(n.searchId);r&&l(n.searchKey,n.dataSource,r);"linksce"==this.props.getUrlParam("scene")||"fip"==this.props.getUrlParam("scene")?this.props.pushTo("/card",{status:"browse",id:e.pk_gatherbill.value,pagecode:"20060GBM_CARD_LINK",scene:"linksce"}):this.props.pushTo("/card",{status:"browse",id:e.pk_gatherbill.value,pagecode:e.pk_tradetype.value})};var r=a(1),n=a(197),l=r.cardCache.setDefData},5:function(e,t,a){"use strict";var r;function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var l=(n(r={Add:"Add",Edit:"Edit",Delete:"Delete",Copy:"Copy",Save:"Save",Back:"Back",TempSave:"TempSave",Cancel:"Cancel",Commit:"Commit",Uncommit:"Uncommit",Approve:"Approve",UnApprove:"UnApprove",LinkAprv:"LinkAprv",BodyVerify:"BodyVerify",WholeVerify:"WholeVerify",MadeBill:"MadeBill",RedBack:"RedBack",Tradetype:"Tradetype",InitBuild:"InitBuild",CancelInitBuild:"CancelInitBuild",Pausetrans:"Pausetrans",Cancelpause:"Cancelpause",CommisionPay:"CommisionPay",CancelCommisionPay:"CancelCommisionPay",Receipt:"Receipt",ReceiptCheck:"ReceiptCheck",InvoiceUploader:"InvoiceUploader",ReceiptScan:"ReceiptScan",LinkInvoice:"LinkInvoice",BillAssistant:"BillAssistant",AttachManage:"AttachManage",ImportExportMenu:"ImportExportMenu",ImportData:"ImportData",ExportData:"ExportData",Print:"Print",Preview:"Preview",Output:"Output",OfficalPrint:"OfficalPrint",CancelPrint:"CancelPrint",PrintList:"PrintList",RelatedQuery:"RelatedQuery",LinkDeal:"LinkDeal",BillLinkQuery:"BillLinkQuery",LinkTbb:"LinkTbb",LinkVouchar:"LinkVouchar",LinkTerm:"LinkTerm",LinkConfer:"LinkConfer",LinkBal:"LinkBal",LinkBill:"LinkBill",More:"More",Refresh:"Refresh",Confirm:"Confirm",CancelConfirm:"CancelConfirm",PrePay:"PrePay",Pause:"Pause",SaveAndCommit:"SaveAndCommit",LinkSettleInfo:"LinkSettleInfo",LinkInformer:"LinkInformer",Add_Recbill:"Add_Recbill",Add_GatherBill:"Add_GatherBill",Add_PayableBill:"Add_PayableBill",Add_PayBill:"Add_PayBill",TaxChecked:"TaxChecked",Add_t:"Add_t",Return:"Return",Keep_a:"Keep_a",Cancel_a:"Cancel_a",Keep_m:"Keep_m",Cancel_m:"Cancel_m"},"Refresh","Refresh"),n(r,"Query","Query"),n(r,"InitialReport","InitialReport"),n(r,"Share","Share"),n(r,"VerifyLink","VerifyLink"),n(r,"Batch_delect","Batch_delect"),n(r,"Quick_query","Quick_query"),n(r,"MakeUp","MakeUp"),n(r,"NowVerify","NowVerify"),n(r,"ProfitRecord","ProfitRecord"),n(r,"ConnectSettleInfo","ConnectSettleInfo"),n(r,"Hisrecord","Hisrecord"),n(r,"Transfers","Transfers"),n(r,"Empty","Empty"),n(r,"CancelTrans","CancelTrans"),n(r,"CancelProfit","CancelProfit"),n(r,"Refund","Refund"),n(r,"CancelRefund","CancelRefund"),n(r,"Generate","Generate"),n(r,"SpecialInvoice","SpecialInvoice"),n(r,"GeneralInvoice","GeneralInvoice"),n(r,"ElectronicInvoice","ElectronicInvoice"),n(r,"OilSpecialInvoice","OilSpecialInvoice"),n(r,"OilGeneralInvoice","OilGeneralInvoice"),n(r,"OilElectronicInvoice","OilElectronicInvoice"),n(r,"RedInvoice","RedInvoice"),n(r,"MaintainTaxInvoice","MaintainTaxInvoice"),n(r,"LinkTaxInvoice","LinkTaxInvoice"),n(r,"LinkDetail","LinkDetail"),r);t.headButton=l,t.bodyButton={AddLine:"AddLine",DelLine:"DelLine",InsertLine:"InsertLine",CopyLine:"CopyLine",PasteLine:"PasteLine",PasteToEndLine:"PasteToEndLine",CancelLine:"CancelLine",Query:"Query"},t.innerButton={Edit_inner:"Edit_inner",Delete_inner:"Delete_inner",Copy_inner:"Copy_inner",Commit_inner:"Commit_inner",Uncommit_inner:"Uncommit_inner",Confirm_inner:"Confirm_inner",CancelConfirm_inner:"CancelConfirm_inner",open_browse:"open_browse",Close_browse:"Close_browse",open_edit:"open_edit",Insert_inner:"Insert_inner",Paste_inner:"Paste_inner",Approve_inner:"Approve_inner",UnApprove_inner:"UnApprove_inner",MadeBill_inner:"MadeBill_inner"},t.modelButton={Prev:"Prev",Next:"Next",Done:"Done",Cancel:"Cancel",Bill:"Bill"},t.bottomButton={Next:"Next",Pre:"Pre",CancelProfit:"CancelProfit",Save:"Save",Back:"Back",ConfirmTrans:"ConfirmTrans"}},520:function(e,t,a){e.exports=a(412)},6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dealTranferBtns=function(e){"transfer"===this.props.getUrlParam("type")&&(this.setState({tpflag:!1}),e.push("Add"),e.push("TempSave"),e.push("Copy"),e.push("Verify"),e.push("RedBack"),e.push("Pause_g1"),e.push("PrePay"),e.push("AddLine"),e.push("Insert_inner"),e.push("Refresh"))},t.dealSrcProjectBtns=function(e,t){if(t.length>0){var a=t[0].values&&t[0].values.top_billtype?t[0].values.top_billtype.value:null;-1!=p.indexOf(a)&&(e.push("AddLine"),e.push("CopyLine"),e.push("DelLine"),e.push("Insert_inner"),e.push("Copy_inner"),e.push("Delete_inner"))}},t.dealRefundBtns=function(e,t){var a=!!this.props.form.getFormItemsValue(this.formId,"isrefund")&&this.props.form.getFormItemsValue(this.formId,"isrefund").value;!a&&"Y"!=a||"N"==a||(t.push("AddLine"),t.push("Insert_inner"))};var r=-1,n=-99,l=-1,o=1,i=3,s=10,d=0,c=1,u=0,p=["4D65","4D53","4D83","4D33","4D39","4D48","4D50","4D86"],f=["Add_blank","Add","Head_g1","adcode","paca","F0","F1","F2","F3","FCT1","FCT2","36D1","4A18","4A23","4A49","4A24","4A2F","4A3F","4A3H"],b=["Add_blank","Add","Head_g1","adcode","paca","F0","F1","F2","F3","Z3","FCT1","FCT2","36D1","4A18","4A23","4A49","4A24","4A2F","4A3F","4A3H","More","InitBuild","CancelInitBuild","ImportData","Refresh","ConnectSettleInfo"],h=function(e,t,a,p,h){if(!t||!t.pk_tradetype||!t.pk_tradetype.value)return"list"==p?-1!=b.indexOf(a):!!h.props.getUrlParam("status")&&-1!=f.indexOf(a);e||(e="browse");var y=!0,m=t.money?t.money.value:null,v=t.pk_billtype?t.pk_billtype.value:null,g=t.coordflag?t.coordflag.value:null,_=t.approvestatus?t.approvestatus.value:null,k=t.billstatus?t.billstatus.value:null,w=t.effectstatus?t.effectstatus.value:null,I=t.isinit?t.isinit.value:null,S=(t.pk_org&&t.pk_org.value,!!t.isforce&&t.isforce.value),C=!!t.isrefund&&t.isrefund.value,B=void 0;switch(a){case"Refund":("browse"!=e||w!=s||C)&&(y=!1);break;case"CancelRefund":("browse"!=e||"F0"==v&&!C||"F2"==v&&C&&m<0||"F2"==v&&!C)&&(y=!1);break;case"Generate":"browse"==e&&w==s||(y=!1);break;case"More":"browse"!=e&&(y=!1);break;case"CancelConfirm":"browse"==e&&g!=u||(y=!1);break;case"Confirm":g==c&&(y=!1);break;case"Add":"browse"!=e&&(y=!1);break;case"Edit":("browse"!=e||1!=I&&k!=n&&k!=r)&&(y=!1);break;case"Save":"browse"==e&&(y=!1);break;case"TempSave":("browse"==e||"edit"==e&&k!=n)&&(y=!1);break;case"SaveAndCommit":"browse"!=e&&_==l||(y=!1),"card"==p&&S&&h.props.cardTable.getValByKeyAndIndex(h.tableId,0,"commpaystatus")&&"1"!=h.props.cardTable.getValByKeyAndIndex(h.tableId,0,"commpaystatus").value&&(y=!1);break;case"Delete":("browse"!=e||1!=I&&_!=l)&&(y=!1);break;case"Refresh":"browse"!=e&&(y=!1);break;case"Cancel":"browse"==e&&(y=!1);break;case"Copy":"browse"!=e&&(y=!1);break;case"Commit":"browse"==e&&_==l&&k==r||(y=!1);break;case"Uncommit":h&&(B=h.props.getUrlParam("scene")),B&&"bz"!=B?("browse"!=e||_!=i&&w!=s||C)&&(y=!1):("browse"!=e||_!=i&&_!=o&&w!=s||C&&"F3"!=v)&&(y=!1);break;case"Approve":"browse"==e&&w!=s||(y=!1);break;case"UnApprove":"browse"==e&&w!=d||(y=!1);break;case"MadeBill":"browse"==e&&w==s||(y=!1);break;case"BodyVerify":case"WholeVerify":("browse"!=e||k==n||C)&&(y=!1);break;case"RedBack":("browse"!=e||w!=s||C)&&(y=!1);break;case"AttachManage":"browse"!=e&&(y=!1);break;case"CommisionPay":case"CancelCommisionPay":"browse"==e&&S||(y=!1);break;case"Receipt":case"ReceiptCheck":case"ReceiptScan":"browse"!=e&&(y=!1);break;case"InvoiceUploader":"browse"==e&&_!=o||(y=!1);break;case"BillLinkQuery":case"LinkBal":case"LinkDeal":case"LinkVouchar":case"LinkConfer":case"LinkTerm":case"LinkTbb":case"LinkInformer":case"LinkSettleInfo":case"LinkAprv":case"ImportData":case"ExportData":case"Print":case"Output":case"OfficalPrint":case"CancelPrint":"browse"!=e&&(y=!1);break;case"SpecialInvoice":case"GeneralInvoice":case"ElectronicInvoice":case"OilSpecialInvoice":case"OilGeneralInvoice":case"OilElectronicInvoice":("browse"!=e||_!=o||m<0)&&(y=!1);break;case"RedInvoice":("browse"!=e||_!=o||m>=0)&&(y=!1);break;case"MaintainTaxInvoice":case"LinkTaxInvoice":"browse"==e&&_==o||(y=!1);break;case"Pausetrans":("browse"!=e||w!=s||C)&&(y=!1);case"Cancelpause":case"PrePay":("browse"!=e||w!=s||C)&&(y=!1);break;case"AddLine":if("browse"==e&&(y=!1),"card"==p&&("edit"==e||"add"==e))for(var E=h.props.createMasterChildData(h.getPagecode(),h.formId,h.tableId).body[h.tableId].rows,x=0;x<E.length;x++){var D=E[x].values.top_billid.value,P=E[x].values.top_itemid.value;if(D||P){y=!1;break}}break;case"DelLine":case"CopyLine":"browse"==e&&(y=!1);break;case"PasteToEndLine":case"CancelLine":y=!1;break;case"Approve_inner":"browse"==e&&w!=s||(y=!1);break;case"UnApprove_inner":"browse"==e&&w!=d||(y=!1);break;case"MadeBill_inner":"browse"==e&&w==s||(y=!1);break;case"Edit_inner":("browse"!=e||1!=I&&k!=n&&k!=r)&&(y=!1);break;case"Delete_inner":("browse"!=e||1!=I&&_!=l)&&(y=!1);break;case"Copy_inner":"browse"!=e&&(y=!1);break;case"CancelConfirm_inner":g==u&&(y=!1);break;case"Confirm_inner":g==c&&(y=!1);break;case"Commit_inner":"browse"==e&&_==l&&k==r||(y=!1);break;case"Uncommit_inner":h&&(B=h.props.getUrlParam("scene")),B&&"bz"!=B?("browse"!=e||_!=i&&w!=s||C)&&(y=!1):("browse"!=e||_!=i&&_!=o&&w!=s||C)&&(y=!1);break;case"open_browse":"browse"!=e&&h.isLineOpen&&(y=!1);break;case"close_browse":"browse"==e||h.isLineOpen||(y=!1);break;case"open_edit":"browse"==e&&(y=!1)}return y},y=function(e,t){for(var a=[],r=[],n=0;n<t.Info.allButtonsKey.length;n++){h(null,e,t.Info.allButtonsKey[n],"list",t)?a.push(t.Info.allButtonsKey[n]):r.push(t.Info.allButtonsKey[n])}t.props.button.setButtonDisabled(a,!1),t.props.button.setButtonDisabled(r,!0)};t.buttonVisible=h,t.getButtonsKey=function e(t,a){for(var r=0;r<t.length;r++)"list_inner"!=t[r].area&&"card_inner"!=t[r].area&&(0==t[r].children.length?a.push(t[r].key):(a.push(t[r].key),e(t[r].children,a)));return a},t.getInnerButtonkey=function(e){for(var t=[],a=0;a<e.length;a++)"list_inner"!=e[a].area&&"card_inner"!=e[a].area||t.push(e[a].key);return t},t.cardGetbodyAndInnerbutton=function(e){for(var t=[],a=0;a<e.length;a++)"card_body"!=e[a].area&&"card_inner"!=e[a].area||t.push(e[a].key);return t},t.cardBodyAndInnerButtonVisible=function(e,t,a){var r=e.props.cardTable.getStatus(e.tableId);if(a&&"browse"==r)return["Close_browse"];if("browse"==r)return["open_browse"];if("edit"==r){if(1==t){if("transfer"===e.props.getUrlParam("type"))return["open_edit","Copy_inner","Delete_inner"];for(var n=e.props.createMasterChildData(e.getPagecode(),e.formId,e.tableId).body[e.tableId].rows,l=0;l<n.length;l++){var o=n[l].values.top_billid.value,i=n[l].values.top_itemid.value;if(o||i)return["open_edit","Copy_inner","Delete_inner"]}return["open_edit","Copy_inner","Insert_inner","Delete_inner"]}return 0==t?["Paste_inner"]:[]}return[]},t.cardBodyControl=function(e,t,a){if(e.button.setButtonVisible(["PasteToEndLine","CancelLine"],!t),"transfer"===e.getUrlParam("type"))e.button.setButtonVisible(["CopyLine","DelLine"],t);else{if(a)for(var r=a.props.createMasterChildData(a.getPagecode(),a.formId,a.tableId).body[a.tableId].rows,n=0;n<r.length;n++){var l=r[n].values.top_billid.value,o=r[n].values.top_itemid.value;if(l||o)return void e.button.setButtonVisible(["CopyLine","DelLine"],t)}e.button.setButtonVisible(["CopyLine","DelLine","AddLine"],t)}},t.initCardBodyEditControl=function(e,t,a){t?(e.button.setButtonDisabled(["AddLine"],!1),e.button.setButtonDisabled(["CopyLine","DelLine"],!0)):e.button.setButtonDisabled(["AddLine","CopyLine","DelLine"],!0)},t.onSelectedCardBodyEditControl=function(e){var t=e.props.getUrlParam("status");if(t||(t="browse"),"browse"==t){var a=e.props.cardTable.getCheckedRows(e.tableId);if(1==a.length){var r=a[0].data.values.pausetransact?a[0].data.values.pausetransact.value:null,n=a[0].data.values.prepay?a[0].data.values.prepay.value:null,l=[],o=[];"0"!=r&&r?r&&(l.push("Cancelpause"),o.push("Pausetrans")):(l.push("Pausetrans"),o.push("Cancelpause")),"0"!=n&&n?o.push("PrePay"):l.push("PrePay"),e.props.button.setButtonDisabled(l,!1),e.props.button.setButtonDisabled(o,!0)}else a.length>1?e.props.button.setButtonDisabled(["Pausetrans","Cancelpause","PrePay"],!1):e.props.button.setButtonDisabled(["Pausetrans","Cancelpause","PrePay"],!0)}else{var i=e.props.createMasterChildData(e.props.getUrlParam("pagecode"),e.formId,e.tableId).head[e.formId].rows[0].values;if(i.pk_org?i.pk_org.value:null)e.props.cardTable.getCheckedRows(e.tableId).length>0?e.props.button.setButtonDisabled(["CopyLine","DelLine"],!1):e.props.button.setButtonDisabled(["CopyLine","DelLine"],!0)}},t.initCardBodybrowseControl=function(e){e.props.button.setButtonDisabled(["Pausetrans","Cancelpause","PrePay"],!0)},t.onListButtonControl=function(e){var t=e.props.table.getCheckedRows(e.tableId);1==t.length?y(t[0].data.values,e):t.length>1?e.props.button.setButtonDisabled(e.Info.allButtonsKey,!1):y(null,e)}},7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isExistsTopBill=t.refreshBill=t.batchGenerate=t.generate=t.F0DeleteAfterEditCalculate=t.refreshChildVO2HeadVO=t.getRowIds=t.getCheckedRowColvalues=t.getColvalues=t.delBlankLine=t.pasteInner=t.deleteInner=t.copyInner=t.pasteToEndLine=t.copyLine=t.delLine=t.getLinkconferQuery=t.resetBodyPk=t.clearTopInfos=t.getBodyAmountValue=t.calculateHeadMoney=t.setFormEditable=void 0;var r=a(1);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l=r.cardCache.getDefData,o=r.cardCache.setDefData,i=r.cardCache.updateCache,s=function(e,t){if("F0"==e.billType){var a=!1,n=e.props.form.getFormItemsValue(e.formId,"pk_tradetype")?e.props.form.getFormItemsValue(e.formId,"pk_tradetype").value:null;if((0,r.ajax)({url:"/nccloud/arap/arappub/isConsolidatedTax.do",data:{tradeType:n},async:!1,success:function(e){a=e.data}}),!a)return;var l=p(e.props,e.tableId,["customer","taxcodeid","taxrate","taxtype","buysellflag","money_de","local_money_de","notax_de","local_notax_de","local_tax_de"]),o=[],i=e.props.cardTable.getAllRows(e.tableId),s={},d={};i.forEach((function(e,t){if("3"!=e.status){var a=e.values.customer.value+"_"+e.values.taxcodeid.value+"_"+e.values.taxrate.value+"_"+e.values.taxtype.value+"_"+e.values.buysellflag.value;d[a]=e,s[e.rowid]=t}}));var c=[];t.forEach((function(e){var t=e.data.values.customer.value+"_"+e.data.values.taxcodeid.value+"_"+e.data.values.taxrate.value+"_"+e.data.values.taxtype.value+"_"+e.data.values.buysellflag.value;c.push(t)}));for(var u=0;u<c.length;u++)d[c[u]]&&o.push(d[c[u]]);if(0==o.length)return;var f=e.props.createMasterChildData(e.getPagecode(),e.formId,e.tableId);f.body[e.tableId].rows=o,(0,r.ajax)({url:"/nccloud/arap/arappub/deleteAfterEditCalculate.do",data:{cardData:f,colValues:l,rowidIndex:s},success:function(t){e.props.cardTable.updateDataByRowId(e.tableId,t.data.body[e.tableId])}})}},d=function(e){var t=e.props.form.getFormItemsValue(e.formId,"billclass").value,a=e.props.createMasterChildData(e.props.pageId,e.formId,e.tableId),r=null,n=null,l=null,o=null;"yf"==t||"sk"==t?(r=c(e.formId,e.tableId,a,"money_cr"),n=c(e.formId,e.tableId,a,"local_money_cr"),l=c(e.formId,e.tableId,a,"groupcrebit"),o=c(e.formId,e.tableId,a,"globalcrebit")):"ys"!=t&&"fk"!=t||(r=c(e.formId,e.tableId,a,"money_de"),n=c(e.formId,e.tableId,a,"local_money_de"),l=c(e.formId,e.tableId,a,"groupdebit"),o=c(e.formId,e.tableId,a,"globaldebit"));var i=e.props.form.getFormItemsValue(e.formId,"money").scale,s=e.props.form.getFormItemsValue(e.formId,"local_money").scale,d=e.props.form.getFormItemsValue(e.formId,"money").scale,u=e.props.form.getFormItemsValue(e.formId,"money").scale;e.props.form.setFormItemsValue(e.formId,{money:{value:r,scale:i},local_money:{value:n,scale:s},grouplocal:{value:l,scale:d},globallocal:{value:o,scale:u}})},c=function(e,t,a,r){if(a&&a.head[e]&&a.body[t]){for(var n=0,l=0,o=0;o<a.body[t].rows.length;o++)if("3"!=a.body[t].rows[o].status){var i=a.body[t].rows[o].values[r].value;l=1*a.body[t].rows[o].values[r].scale,i=parseFloat(i),isNaN(i)||(n+=i)}return n=n.toFixed(l)}},u=function(e,t){var a=e.props.form.getFormItemsValue(e.formId,"billclass").value;null!=a&&("ys"==a?e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"pk_recitem",{value:null}):"sk"==a?(e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"pk_gatheritem",{value:null}),e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"checktype",{value:null,display:null}),e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"checkno",{value:null,display:null}),e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"checkno_display",{value:null,display:null})):"yf"==a?e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"pk_payableitem",{value:null}):"fk"==a&&(e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"pk_payitem",{value:null}),e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"checktype",{value:null,display:null}),e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"checkno",{value:null,display:null}),e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"checkno_display",{value:null,display:null})),e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"rowno",{value:null}))};function p(e,t,a){for(var r={},n=0;n<a.length;n++){var l=a[n],o=e.cardTable.getColValue(t,l,!1,!1);o&&(r[l]=o)}return r}function f(e,t){t.data?(i(e.pkname,e.props.getUrlParam("id"),t.data,e.formId,e.dataSource),t.data.head&&e.props.form.setAllFormValue(n({},e.formId,t.data.head[e.formId])),t.data.body&&e.props.cardTable.setTableData(e.tableId,t.data.body[e.tableId])):(e.props.form.EmptyAllFormValue(e.formId),e.props.cardTable.setTableData(e.tableId,{rows:[]})),e.toggleShow()}var b=function(e,t,a,r){var n=t.table.getCheckedRows(a),l=[];return n.forEach((function(a){l.push({pk_bill:a.data.values[e.pkname].value,ts:a.data.values.ts.value,billType:r,index:a.index,pageId:t.getSearchParam("p")})})),l};t.setFormEditable=function(e,t,a,r){for(var l=e.meta.getMeta()[a].items,o=0;o<l.length;o++){var i=l[o];e.form.setFormItemsDisabled(t,n({},i.attrcode,!r))}},t.calculateHeadMoney=d,t.getBodyAmountValue=c,t.clearTopInfos=function(e,t){var a=e.props.cardTable.getValByKeyAndIndex(e.tableId,t,"top_billtype").value;"F0"==a||"F1"==a||"F2"==a||"F3"==a?(e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"src_billid",{value:null}),e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"src_billtype",{value:null}),e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"src_itemid",{value:null}),e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"src_tradetype",{value:null})):(null==a||"36D1"!=a&&"36D7"!=a&&"FCT2"!=a&&"FCT1"!=a)&&(e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"src_billid",{value:null}),e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"src_billtype",{value:null}),e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"src_itemid",{value:null}),e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"src_tradetype",{value:null}),e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"top_billid",{value:null}),e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"top_billtype",{value:null}),e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"top_itemid",{value:null}),e.props.cardTable.setValByKeyAndIndex(e.tableId,t,"top_tradetype",{value:null}))},t.resetBodyPk=u,t.getLinkconferQuery=function(e){var t={};if(-1!=e.indexOf("#")){var a=e.split("#");if(a&&a.length>0){var r=a[1];if(-1!=r.indexOf("&"))for(var n=r.split("&"),l=0;l<n.length;l++)t[n[l].split("=")[0]]=n[l].split("=")[1];else t[r.split("=")[0]]=r.split("=")[1]}}return t},t.delLine=function(e){var t=e.props.cardTable.getCheckedRows(e.tableId);if(0!=t.length){var a=[];t.forEach((function(e){"3"!=e.data.status&&a.push(e.index)})),e.props.cardTable.delRowsByIndex(e.tableId,a),"F0"==e.billType&&s(e,t),d(e),"transfer"==e.props.getUrlParam("type")&&e.synTransferData()}else(0,r.toast)({color:"warning",content:this.state.json["public-000041"]})},t.copyLine=function(e,t){var a=e.props.cardTable.getCheckedRows(e.tableId);if(0==a.length)return(0,r.toast)({color:"warning",content:this.state.json["public-000042"]}),!1;var n=0,l=[];return a.forEach((function(e){"3"!=e.data.status&&(l.push(a[n].data),n++)})),o("CopyLine",t,l),!0},t.pasteToEndLine=function(e,t){e.props.beforeUpdatePage();var a=e.props.cardTable.getNumberOfRows(e.tableId),r=l("CopyLine",t);e.props.cardTable.insertRowsAfterIndex(e.tableId,r,a-1);for(var n=0;n<r.length;n++)u(e,a+n);d(e),"transfer"==e.props.getUrlParam("type")&&e.synTransferData(),e.props.updatePage(e.formId,e.tableId)},t.copyInner=function(e,t,a){var n=[];n.push(e),o("CopyLine",t,n),n.length>=1&&(0,r.toast)({color:"success",content:a.state.json["public-000162"]})},t.deleteInner=function(e,t,a,r){if(e.props.beforeUpdatePage(),t.cardTable.delRowsByIndex(a,r),"F0"==e.billType){var n=[{data:e.props.cardTable.getRowsByIndexs(e.tableId,[r])[0],index:r}];s(e,n)}d(e),"transfer"==e.props.getUrlParam("type")&&e.synTransferData(),e.props.updatePage(e.formId,e.tableId)},t.pasteInner=function(e,t,a,r,n){e.props.beforeUpdatePage();var o=l("CopyLine",a);t.cardTable.insertRowsAfterIndex(r,o,n);for(var i=0;i<o.length;i++)u(e,n+1+i);d(e),"transfer"==e.props.getUrlParam("type")&&e.synTransferData(),e.props.updatePage(e.formId,e.tableId)},t.delBlankLine=function(e,t,a,n,l){var o=n.body[t].rows;if(o&&0!=o.length||(0,r.toast)({color:"danger",content:e.state.json["public-000163"]}),1!=o.length){for(var i=[],s=0;s<o.length;s++){var d=o[s];if("3"!=d.status){if("F3"==a){var c=d.values.commpaytype?d.values.commpaytype.value:null;if(c&&"0"==c)return}var u=void 0,p=void 0;"F3"==a||"F0"==a?(u=d.values.money_de.value,p=d.values.local_tax_de.value):(u=d.values.money_cr.value,p=d.values.local_tax_cr.value),Number(u)==Number(0)&&Number(p)==Number(0)&&i.push(s)}}i.length>0&&(e.props.cardTable.delRowsByIndex(t,i),l&&-1!=i.indexOf(l)&&e.Info.isModelSave&&(e.Info.isModelSave=!1,e.props.cardTable.closeModel(e.tableId)))}},t.getColvalues=p,t.getCheckedRowColvalues=function(e,t,a){for(var r={},n=e.cardTable.getCheckedRows(t),l=0;l<a.length;l++){for(var o=a[l],i=[],s=0;s<n.length;s++)i.push(n[s].data.values[o]);i&&(r[o]=i)}return r},t.getRowIds=function(e,t){for(var a=e.cardTable.getVisibleRows(t),r=[],n=0;n<a.length;n++)r.push(a[n].rowid);return r},t.refreshChildVO2HeadVO=function(e,t,a){var r=["pk_tradetype","billdate","pk_group","pk_fiorg","pk_pcorg","sett_org_v","sett_org","pk_billtype","pk_tradetype","billclass","rate","grouprate","globalrate","payaccount","recaccount","cashaccount","objtype","payman","pk_rescenter","pk_group","checkelement","pk_deptid","pk_deptid_v","pk_psndoc","customer","supplier","pu_org","pu_org_v","pk_balatype","pk_org_v","pk_fiorg_v","pk_pcorg_v","so_org","so_org_v","cashitem","bankrollprojet","pk_subjcode","so_psndoc","pu_psndoc","so_deptid","pu_deptid","so_deptid_v","pu_deptid_v","busidate","ordercubasdoc","costcenter","payreason","invoiceno","pk_currtype"],n=e.cardTable.getRowsByIndexs(a,0);if(n){for(var l={},o=0;o<r.length;o++){var i=r[o];l[i]=n[0].values[i]}e.form.setFormItemsValue(t,l)}},t.F0DeleteAfterEditCalculate=s,t.generate=function(e){(0,r.ajax)({url:"/nccloud/arap/arappub/generate.do",data:{pk_bill:e.props.getUrlParam("id"),pageId:e.getPagecode(),billType:e.billType},success:function(t){(0,r.toast)({color:"success",title:"操作成功"}),f(e,t)}})},t.batchGenerate=function(e){var t=b(e,e.props,e.tableId,e.billType);0!=t.length?(0,r.ajax)({url:"/nccloud/arap/arappub/listgenerate.do",data:t,success:function(t){var a=t.success,n=t.data;if(a){if(n.grid){var l=n.grid,o=[];for(var i in l)o.push({index:i,data:{values:l[i].values}});e.props.table.updateDataByIndexs(e.tableId,o)}n.message&&((0,r.toast)({duration:"infinity",color:n.PopupWindowStyle,content:n.message}),e.onSelected())}}}):(0,r.toast)({color:"warning",content:"请选中至少一行数据!"})},t.refreshBill=f,t.isExistsTopBill=function(e){for(var t=e.props.createMasterChildData(e.getPagecode(),e.formId,e.tableId).body[e.tableId].rows,a=0;a<t.length;a++){var r=t[a].values.top_billid.value,n=t[a].values.top_itemid.value;if(r||n)return!0}}},8:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loginContextKeys=void 0,t.loginContext=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",a={},r=e.paramMap;for(var n in s)a[s[n]]=e[s[n]],i&&i[s[n]]&&(a[s[n]]=i[s[n]]);for(var o in r)a[o]=r[o];l(t,t,a)},t.getContext=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";if(i=(0,r.getBusinessInfo)(),e==s.businessDate&&i)return i[s.businessDate];var a=o(t,t);return a?a[e]:null},t.setContext=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",r=o(a,a);r?r[e]=t:r=n({},e,t);l(a,a,r)};var r=a(1);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l=r.cardCache.setDefData,o=r.cardCache.getDefData,i=(0,r.getBusinessInfo)(),s=t.loginContextKeys={defaultAccbookName:"defaultAccbookName",defaultAccbookPk:"defaultAccbookPk",mdid:"mdid",org_Name:"org_Name",org_v_Name:"org_v_Name",pk_org:"pk_org",pk_org_v:"pk_org_v",transtype:"transtype",pk_transtype:"pk_transtype",groupId:"groupId",groupName:"groupName",userId:"userId",userName:"userName",userCode:"userCode",businessDate:"businessDate"}}})}));