!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nc-lightapp-front"),require("react")):"function"==typeof define&&define.amd?define(["nc-lightapp-front","react"],t):"object"==typeof exports?exports["ct/ct/purdaily/ref20/index"]=t(require("nc-lightapp-front"),require("react")):e["ct/ct/purdaily/ref20/index"]=t(e["nc-lightapp-front"],e.React)}(window,function(e,t){return function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=179)}({0:function(e,t,a){"use strict";var r,n,o;function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var c={searchId:"search",listTableId:"head",cardFormId:"head",cardTableId:"body",cardTermId:"contractterm",cardPayId:"payagree",cardFeeId:"contractfee",cardMemoraId:"contractmemora",cardChangeId:"changehistory",cardExecutId:"executeprocess",cardLeftId:"leftinfo",list_head:"list_head",list_inner:"list_inner",card_head:"card_head",card_body:"card_body",card_term:"card_term",card_pay:"card_pay",card_fee:"card_fee",card_memora:"card_memora",card_body_inner:"card_body_inner",card_term_inner:"card_term_inner",card_pay_inner:"card_pay_inner",card_fee_inner:"card_fee_inner",card_memora_inner:"card_memora_inner",srcSearch:"search",srcHead:"head",srcBody:"body",srcView:"view",extendAttribute:"extendAttribute"},d={Add:"Add",AddGroup_1:"AddGroup_1",AddGroup_2:"AddGroup_2",Manual:"Manual",Ref20:"Ref20",Ref28:"Ref28",Delete:"Delete",Edit:"Edit",Copy:"Copy",ApproveInfo:"ApproveInfo",Commit:"Commit",CommitGroup:"CommitGroup",UnCommit:"UnCommit",Execute:"Execute",ExecuteGroup:"ExecuteGroup",Validate:"Validate",UnValidate:"UnValidate",Freeze:"Freeze",UnFreeze:"UnFreeze",End:"End",UnEnd:"UnEnd",Modify:"Modify",ModifyDelete:"ModifyDelete",Assitfunc:"Assitfunc",AssitfuncGroup_1:"AssitfuncGroup_1",AssitfuncGroup_2:"AssitfuncGroup_2",ControlScope:"ControlScope",BatchControlScope:"BatchControlScope",PayPlan:"PayPlan",StructFile:"StructFile",File:"File",ModifyHistory:"ModifyHistory",BillLinkQuery:"BillLinkQuery",BillLinkQueryGroup_1:"BillLinkQueryGroup_1",BillLinkQueryGroup_2:"BillLinkQueryGroup_2",QueryAboutBusiness:"QueryAboutBusiness",PayExecState:"PayExecState",Print:"Print",PrintGroup:"PrintGroup",Output:"Output",Refresh:"Refresh",Save:"Save",SaveCommit:"SaveCommit",Cancel:"Cancel",Quit:"Quit",LineGroup:"LineGroup",LineGroup_2:"LineGroup_2",LineGroup_3:"LineGroup_3",LineGroup_4:"LineGroup_4",LineGroup_5:"LineGroup_5",AddLine:"AddLine",AddLineTerm:"AddLineTerm",AddLinePay:"AddLinePay",AddLineFee:"AddLineFee",AddLineMemora:"AddLineMemora",DeleteLine:"DeleteLine",DeleteLineTerm:"DeleteLineTerm",DeleteLinePay:"DeleteLinePay",DeleteLineFee:"DeleteLineFee",DeleteLineMemora:"DeleteLineMemora",CopyLine:"CopyLine",CopyLineTerm:"CopyLineTerm",CopyLinePay:"CopyLinePay",CopyLineFee:"CopyLineFee",CopyLineMemora:"CopyLineMemora",PasteLineToTail:"PasteLineToTail",PasteLineToTailTerm:"PasteLineToTailTerm",PasteLineToTailPay:"PasteLineToTailPay",PasteLineToTailFee:"PasteLineToTailFee",PasteLineToTailMemora:"PasteLineToTailMemora",CancelB:"CancelB",CancelBTerm:"CancelBTerm",CancelBPay:"CancelBPay",CancelBFee:"CancelBFee",CancelBMemora:"CancelBMemora",PasteLine:"PasteLine",PasteLineTerm:"PasteLineTerm",PasteLinePay:"PasteLinePay",PasteLineFee:"PasteLineFee",PasteLineMemora:"PasteLineMemora",LinkPriceInfo:"LinkPriceInfo",ReRangeRowNo:"ReRangeRowNo",Open:"Open",InsertLine:"InsertLine",Back:"Back",ImageScan:"ImageScan",ImageView:"ImageView"},s={crowno:"crowno",pk_org:"pk_org",pk_group:"pk_group",pk_org_v:"pk_org_v",pk_ct_pu:"pk_ct_pu",pk_ct_pu_b:"pk_ct_pu_b",pk_ct_pu_term:"pk_ct_pu_term",pk_ct_pu_payment:"pk_ct_pu_payment",pk_ct_pu_exp:"pk_ct_pu_exp",pk_ct_pu_memora:"pk_ct_pu_memora",pk_ct_pu_change:"pk_ct_pu_change",pk_ct_pu_exec:"pk_ct_pu_exec",vbillcode:"vbillcode",fstatusflag:"fstatusflag",cvendorid:"cvendorid",casscustid:"casscustid",version:"version",ts:"ts",depid:"depid",bodyfk_cinventoryid:"bodyfk_cinventoryid",bsc:"bsc",noriprepaylimitmny:"noriprepaylimitmny",pk_financeorg:"pk_financeorg",dbilldate:"dbilldate",ntotalorigmny:"ntotalorigmny",bshowlatest:"bshowlatest",vchgdate:"vchgdate",vchgpsn:"vchgpsn",cprojectid:"cprojectid",depid_v:"depid_v",deliaddr:"deliaddr",personnelid:"personnelid",vsrctype:"vsrctype",cectypecode:"cectypecode",pk_ct_price:"pk_ct_price",nexchangerate:"nexchangerate",ccurrencyid:"ccurrencyid",ngroupexchgrate:"ngroupexchgrate",nglobalexchgrate:"nglobalexchgrate",ctrantypeid:"ctrantypeid",vtrantypecode:"vtrantypecode",nordnum:"nordnum",csrcid:"csrcid",ctranspmodeid:"ctranspmodeid",cproductorid:"cproductorid",cqualitylevelid:"cqualitylevelid",cunitid:"cunitid",nastnum:"nastnum",vmemo:"vmemo",vchangecode:"vchangecode",vchgreason:"vchgreason",vexecreason:"vexecreason",cqpbaseschemeid:"cqpbaseschemeid",fbuysellflag:"fbuysellflag",ncaltaxmny:"ncaltaxmny",bbracketorder:"bbracketorder",corigcurrencyid:"corigcurrencyid",pk_srcmaterial:"pk_srcmaterial",cffileid:"cffileid",vsrccode:"vsrccode",subscribedate:"subscribedate",valdate:"valdate",invallidate:"invallidate",pk_payterm:"pk_payterm",nnum:"nnum",nqtorigprice:"nqtorigprice",nqtorigtaxprice:"nqtorigtaxprice",norigprice:"norigprice",norigtaxprice:"norigtaxprice",ngprice:"ngprice",ngtaxprice:"ngtaxprice",nqtunitnum:"nqtunitnum",ntaxrate:"ntaxrate",ftaxtypeflag:"ftaxtypeflag",norigtaxmny:"norigtaxmny",nmny:"nmny",ntaxmny:"ntaxmny",ntax:"ntax",nnosubtaxrate:"nnosubtaxrate",nnosubtax:"nnosubtax",nqtprice:"nqtprice",nqttaxprice:"nqttaxprice",delivdate:"delivdate",pk_material:"pk_material",pk_marbasclass:"pk_marbasclass",vqtunitrate:"vqtunitrate",vchangerate:"vchangerate",castunitid:"castunitid",cqtunitid:"cqtunitid",csendcountryid:"csendcountryid",crececountryid:"crececountryid",ctaxcountryid:"ctaxcountryid",ctaxcodeid:"ctaxcodeid",pk_financeorg_v:"pk_financeorg_v",pk_arrvstock_v:"pk_arrvstock_v",outaccountdate:"outaccountdate",paymentday:"paymentday",checkdata:"checkdata",effectmonth:"effectmonth",effectaddmonth:"effectaddmonth",vtermcode:"vtermcode",dmakedate:"dmakedate",showorder:"showorder",pk_origct:"pk_origct",vtermcontent:"vtermcontent",votherinfo:"votherinfo",vexpcode:"vexpcode",vexpsum:"vexpsum",vmemoracode:"vmemoracode",accrate:"accrate",pk_payperiod:"pk_payperiod",pk_balatype:"pk_balatype",pk_praybill:"pk_praybill",pk_praybill_b:"pk_praybill_b",pk_purchaseorg:"pk_praybill_b.pk_purchaseorg",pk_employee:"pk_employee",praybill_srcmaterial:"pk_praybill_b.pk_srcmaterial",bordernumexec:"bordernumexec",pk_priceaudit:"pk_priceaudit",pk_priceaudit_b:"pk_priceaudit_b",pk_bizpsn:"pk_bizpsn",nordastnum:"nordastnum",priceaudit_material:"pk_priceaudit_b.pk_material",ninvctlstyle:"ninvctlstyle",controltype:"controltype",ismustcontrol:"ismustcontrol",ndatactlstyle:"ndatactlstyle",rate:"rate",memo:"memo",fpricepattern:"fpricepattern"},u=[c.cardTableId,c.cardTermId,c.cardPayId,c.cardFeeId,c.cardMemoraId,c.cardChangeId,c.cardExecutId],l=(i(r={},c.cardTableId,{initBtns:[d.AddLine,d.DeleteLine,d.CopyLine,d.LinkPriceInfo,d.ReRangeRowNo],pasteBtns:[d.PasteLineToTail,d.CancelB]}),i(r,c.cardTermId,{initBtns:[d.AddLineTerm,d.DeleteLineTerm,d.CopyLineTerm],pasteBtns:[d.PasteLineToTailTerm,d.CancelBTerm]}),i(r,c.cardPayId,{initBtns:[d.AddLinePay,d.DeleteLinePay,d.CopyLinePay],pasteBtns:[d.PasteLineToTailPay,d.CancelBPay]}),i(r,c.cardFeeId,{initBtns:[d.AddLineFee,d.DeleteLineFee,d.CopyLineFee],pasteBtns:[d.PasteLineToTailFee,d.CancelBFee]}),i(r,c.cardMemoraId,{initBtns:[d.AddLineMemora,d.DeleteLineMemora,d.CopyLineMemora],pasteBtns:[d.PasteLineToTailMemora,d.CancelBMemora]}),r),p=(i(n={},c.cardTableId,[d.DeleteLine,d.CopyLine,d.LinkPriceInfo]),i(n,c.cardTermId,[d.DeleteLineTerm,d.CopyLineTerm]),i(n,c.cardPayId,[d.DeleteLinePay,d.CopyLinePay]),i(n,c.cardFeeId,[d.DeleteLineFee,d.CopyLineFee]),i(n,c.cardMemoraId,[d.DeleteLineMemora,d.CopyLineMemora]),n),f=(i(o={},c.cardTableId,[s.crowno,s.pk_ct_pu_b,s.ts]),i(o,c.cardTermId,[s.pk_ct_pu_term,s.ts]),i(o,c.cardPayId,[s.pk_ct_pu_payment,s.ts]),i(o,c.cardFeeId,[s.pk_ct_pu_exp,s.ts]),i(o,c.cardMemoraId,[s.pk_ct_pu_memora,s.ts]),o);t.AREA=c,t.APPCODE={appcodez2:"400400604",appcode20:"400400400",appcode28:"400500602"},t.PAGECODE={listPagecode:"400400604_list",cardPagecode:"400400604_card",histPagecode:"400400604_history",ref20Pagecode:"400400400_20toZ2",ref28Pagecode:"400500602_28toZ2",templeteid:"400400604",card20:"400400400_card",card28:"400500602_card"},t.DATASOURCECACHE={dataSourceListCacheKey:"ct.ct.purdaily.data_source_list",dataSourceRef20CacheKey:"ct.ct.purdaily.data_source_ref20",dataSourceRef28CacheKey:"ct.ct.purdaily.data_source_ref28"},t.DEFCACHEKEY={queryCacheKey:"queryCacheKey",query20CacheKey:"query20CacheKey",query28CacheKey:"query28CacheKey",transTypeCacheKey:"transTypeCacheKey"},t.CACHESTATUS={add:"add",update:"updata",delete:"delete"},t.BUTTONID=d,t.URL={list:"/list",card:"/card",ref20:"/ref20",ref28:"/ref28",ref20Card:"/pu/pu/buyingreq/main/index.html#/card",ref28Card:"/purp/pp/priceaudit/main/index.html#/card",returnAppcode:"400500602",query:"/nccloud/ct/purdaily/query.do",pageQuery:"/nccloud/ct/purdaily/pageQuery.do",queryCard:"/nccloud/ct/purdaily/queryCard.do",edit:"/nccloud/ct/purdaily/edit.do",save:"/nccloud/ct/purdaily/save.do",saveCommit:"/nccloud/ct/purdaily/saveCommit.do",delete:"/nccloud/ct/purdaily/delete.do",copy:"/nccloud/ct/purdaily/copy.do",commit:"/nccloud/ct/purdaily/commit.do",unCommit:"/nccloud/ct/purdaily/unCommit.do",validate:"/nccloud/ct/purdaily/validate.do",unValidate:"/nccloud/ct/purdaily/unValidate.do",freeze:"/nccloud/ct/purdaily/freeze.do",unFreeze:"/nccloud/ct/purdaily/unFreeze.do",end:"/nccloud/ct/purdaily/end.do",unEnd:"/nccloud/ct/purdaily/unEnd.do",modify:"/nccloud/ct/purdaily/modify.do",modifyDelete:"/nccloud/ct/purdaily/modifyDelete.do",modifyHistory:"/nccloud/ct/purdaily/modifyHistory.do",print:"/nccloud/ct/purdaily/print.do",printdatapermission:"/nccloud/ct/purdaily/printdatapermission.do",headBeforeEdit:"/nccloud/ct/purdaily/headBeforeEdit.do",headAfterEdit:"/nccloud/ct/purdaily/headAfterEdit.do",bodyBeforeEdit:"/nccloud/ct/purdaily/bodyBeforeEdit.do",bodyAfterEdit:"/nccloud/ct/purdaily/bodyAfterEdit.do",query20:"/nccloud/ct/purdaily/query20.do",queryCard20:"/nccloud/ct/purdaily/queryCard20.do",query28:"/nccloud/ct/purdaily/query28.do",queryCard28:"/nccloud/ct/purdaily/queryCard28.do",query28toZ2:"/nccloud/ct/purdaily/query28toZ2.do",queryTranstype:"/nccloud/ct/purdaily/queryTranstype.do"},t.UISTATUS={add:"add",browse:"browse",edit:"edit",copy:"copy",modify:"modify",ref20:"ref20",ref28:"ref28"},t.FIELDS=s,t.FSTATUSFLAG={free:"0",validate:"1",approving:"2",approve:"3",unapprove:"4",frozen:"5",terminate:"6",commit:"7"},t.VERSION={v1:"1"},t.BACKENDKEY={successKey:"successKey"},t.BUYSELLFLAG={national_sell:"1",national_buy:"2",output:"3",import:"4",no_distinct:"5"},t.CARDTABLEAREAIDS=u,t.CARDTABLEAREANAMES=["4004PURDAILY-000051","4004PURDAILY-000052","4004PURDAILY-000053","4004PURDAILY-000054","4004PURDAILY-000055","4004PURDAILY-000056","4004PURDAILY-000057"],t.COPYPASTEBTNS=l,t.DELETELINEBTNS=p,t.PASTECLEARFIELDS=f},1:function(t,a){t.exports=e},10:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearTransferCache=t.rewriteTransferSrcBids=t.updateCacheDataForList=t.deleteCacheDataForList=t.getNextId=t.getCurrentLastId=t.getDefData=t.setDefData=t.hasListCache=t.addCacheData=t.getCacheDataByPk=t.deleteCacheData=t.updateCacheData=t.changeUrlParam=void 0;var r=a(1);t.changeUrlParam=function(e,t){e.setUrlParam(t)},t.updateCacheData=function(e,t,a,n,o,i){r.cardCache.addCache;var c=r.cardCache.updateCache;r.cardCache.getCacheById,c(t,a,n,o,i)},t.deleteCacheData=function(e,t,a,n){var o=r.cardCache.deleteCacheById;r.cardCache.getNextId,o(t,a,n)},t.getCacheDataByPk=function(e,t,a){return(0,r.cardCache.getCacheById)(a,t)},t.addCacheData=function(e,t,a,n,o,i){(0,r.cardCache.addCache)(a,n,o,i)},t.hasListCache=function(e,t){return e.table.hasCacheData(t)},t.setDefData=function(e,t,a){(0,r.cardCache.setDefData)(t,e,a)},t.getDefData=function(e,t){return(0,r.cardCache.getDefData)(t,e)},t.getCurrentLastId=function(e){return(0,r.cardCache.getCurrentLastId)(e)},t.getNextId=function(e,t,a){return(0,r.cardCache.getNextId)(t,a)},t.deleteCacheDataForList=function(e,t,a){a instanceof Array?a.forEach(function(a){e.table.deleteCacheId(t,a)}):e.table.deleteCacheId(t,a)},t.updateCacheDataForList=function(e,t,a,r,n){var o=r.sucessVOs;if(null!=o&&0!=o.length){var i=[];if(void 0==n){var c={};e.table.getCheckedRows(t).forEach(function(e){var t=e.data.values[a].value;c[t]=e.index}),o[t].rows.forEach(function(e,t){var r=e.values[a].value,n={index:c[r],data:{values:e.values}};i.push(n)})}else{var d={index:n,data:{values:o[t].rows[0].values}};i.push(d)}e.table.updateDataByIndexs(t,i)}},t.rewriteTransferSrcBids=function(e,t,a){if(a){var r=[];a.forEach(function(e){r.push(e.values[t].value)}),e.transferTable.setSavedTransferTableDataPk(r)}},t.clearTransferCache=function(e,t){e.transferTable.deleteCache(t)}},15:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={GRID:"grid",TREE:"tree"};t.MAINORG_TYPE=r,t.setReferMultiUnitShow=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return e[t].items.map(function(e){var t=e.attrcode;a.length>0?a.includes(t)&&(e.isShowUnit=r):"refer"===e.itemtype&&(e.isShowUnit=r)}),e},t.setReferMultiUnitShowByItem=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.attrcode;t.includes(r)&&(e.isShowUnit=a)},t.setRefMainOrgPermisson=function(e,t,a,n){return e[t].items.map(function(e){e.attrcode===a&&(n&&n===r.TREE?e.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.scmpub.ref.AppPermissionOrgRefFilter"}}:e.queryCondition=function(){return{GridRefActionExt:"nccloud.web.scmpub.ref.AppPermissionOrgRefFilter"}})}),e},t.setRefMainOrgPermissonByItem=function(e,t){t&&t===r.TREE?e.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.scmpub.ref.AppPermissionOrgRefFilter"}}:e.queryCondition=function(){return{GridRefActionExt:"nccloud.web.scmpub.ref.AppPermissionOrgRefFilter"}}},t.setRefMainOrgVIDPermissonByItem=function(e,t){t&&t===r.TREE?e.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.scmpub.ref.AppPermissionOrgVidRefFilter"}}:e.queryCondition=function(){return{GridRefActionExt:"nccloud.web.scmpub.ref.AppPermissionOrgVidRefFilter"}}},t.orgMultiSelectHandler=function(e,t,a,r,n,o){var i=e.meta.getMeta(),c=i[t].items;Array.isArray(r)||(r=[r]),n?Array.isArray(n)||(n=[n]):n=[],o?Array.isArray(o)||(o=[o]):o=[];var d=e.search.getSearchValByField(t,a);d&&d.value&&d.value.firstvalue&&-1==d.value.firstvalue.indexOf(",")?c.map(function(e){r.includes(e.attrcode)&&(e.isShowUnit=!1);for(var t=0;t<o.length;t++)0==e.attrcode.indexOf(o[t])&&(e.isShowUnit=!1);for(var a=0;a<n.length;a++)0==e.attrcode.indexOf(n[a])&&(e.isShowUnit=!1)}):c.map(function(e){r.includes(e.attrcode)&&(e.isShowUnit=!0);for(var t=0;t<o.length;t++)0==e.attrcode.indexOf(o[t])&&(e.isShowUnit=!0);for(var a=0;a<n.length;a++)0==e.attrcode.indexOf(n[a])&&(e.isShowUnit=!0)}),e.meta.setMeta(i)},t.initMultiSelect=function(e,t,a,r,n){var o=e[t].items;Array.isArray(a)||(a=[a]),r?Array.isArray(r)||(r=[r]):r=[],n?Array.isArray(n)||(n=[n]):n=[],o.map(function(e){a.includes(e.attrcode)&&(e.isShowUnit=!0);for(var t=0;t<n.length;t++)0==e.attrcode.indexOf(n[t])&&(e.isShowUnit=!0);for(var o=0;o<r.length;o++)0==e.attrcode.indexOf(r[o])&&(e.isShowUnit=!0)})}},16:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPsndocShowLeavePower=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.isShowDimission=t},t.setRefShowDisabledData=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.isShowDisabledData=t,e.unitPropsExtend={isShowDisabledData:t,isHasDisabledData:t}}},179:function(e,t,a){e.exports=a(87)},19:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(1);t.default={onBlur:function(e,t,a,n,o,i){var c=this;if(i){var d={onhandDimAppcode:e.appcode,onhandDimPagecode:e.pagecode,onhandDimVOGrid:{head:{areaType:"table",rows:[e.headRows.rows[0]]},pageid:e.pagecode},appcode:t.appcode,pagecode:t.pagecode,bodyarea:t.bodyarea,currGrid:function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},t.bodyarea,{rows:[t.record]}),batchcode:i,canInsert:n};(0,r.ajax)({url:a,data:d,mode:"normal",success:function(e){o&&o.call(c,t.bodyarea,t.index,e.data)}})}}}},2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLangByResId=t.initLang=void 0;var r=a(1);t.initLang=function(e,t,a,n){e.lang=null,e.inlt=null,(0,r.getMultiLang)({moduleId:t,domainName:a,callback:function(t,a,r){a&&(e.lang=t,e.inlt=r),n&&n()},needInlt:!0})},t.getLangByResId=function(e,t,a){return function(e,t){if(!e)throw(0,r.toast)({color:"danger",content:"请检查代码中this是否能够取到！当前为undifined,位置："+t}),new Error("请检查代码中this是否能够取到！当前为undifined,位置："+t)}(e,t),a?e.inlt?e.inlt.get(t,a)||t:"":e.lang?e.lang[t]||t:""}},20:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=function(e){var t=decodeURIComponent(window.parent.location.href).split("?");if(t&&t[1]){var a=t[1].split("&");if(a&&a instanceof Array){var r={};return a.forEach(function(e){var t=e.split("=")[0],a=e.split("=")[1];r[t]=a}),r[e]}}}},21:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o=a(8);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c(e,t){if(e&&e[t]&&e[t].rows&&e[t].rows[0]){var a=(0,o.deepClone)(e),r=a[t].rows[0].values,n={},i=void 0;for(i in r)r[i]&&r[i].value&&(n[i]=r[i]);return a[t].rows=[{values:n}],JSON.stringify(a)}}t.default={beforeEdit:function(e){var t=e.props,a=e.appcode,o=e.pagecode,d=e.headarea,s=e.bodyarea,u=e.key,l=e.isHead,p=e.record,f=e.billtype,y=e.pk_org_field,g=e.transtypeid_field,h=t.meta.getMeta(),m=void 0;if(l){var b=t.cardTable.getCheckedRows(s);!b&&b.length>0&&(p=b[0]),m=h[d].items.find(function(e){return e.attrcode==u})}else m=h[s].items.find(function(e){return e.attrcode==u});var v={};v.pk_org=(t.form.getFormItemsValue(d,y)||{}).value,v.transtype=(t.form.getFormItemsValue(d,g)||{}).value,v.key=u,v.billtype=f,v.currarea=l?d:s,v.appcode=a,v.pagecode=o,v.headarea=d,v.bodyarea=s,v.headdata=c(i({},d,t.form.getAllFormValue(d)),d),v.bodydata=c(i({},s,{rows:[p]}),s),m._queryCondition=m._queryCondition||m.queryCondition;var _=l?m._queryCondition:m.queryCondition;_&&_.crossRuleParams||(l?(m&&"refer"==m.itemtype&&(m.queryCondition=function(e){if(_=n({},"function"==typeof _?_(e):"object"===(void 0===_?"undefined":r(_))?_:{}),!e)return _;var t="TreeRefActionExt";return"grid"!=e.refType&&"gridTree"!=e.refType||(t="GridRefActionExt"),(!_[t]||_[t].indexOf("nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder")<0)&&(_[t]=_[t]?_[t]+",nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder":"nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder"),(!_.UsualGridRefActionExt||_.UsualGridRefActionExt.indexOf("nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder")<0)&&(_.UsualGridRefActionExt=_.UsualGridRefActionExt?_.UsualGridRefActionExt+",nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder":"nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder"),_.crossRuleParams=JSON.stringify(v),_}),t.meta.setMeta(h)):t.cardTable.setQueryCondition(s,i({},u,function(e){if(_=n({},"function"==typeof _?_(e):"object"===(void 0===_?"undefined":r(_))?_:{}),!e)return _;var t="TreeRefActionExt";return"grid"!=e.refType&&"gridTree"!=e.refType||(t="GridRefActionExt"),(!_[t]||_[t].indexOf("nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder")<0)&&(_[t]=_[t]?_[t]+",nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder":"nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder"),(!_.UsualGridRefActionExt||_.UsualGridRefActionExt.indexOf("nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder")<0)&&(_.UsualGridRefActionExt=_.UsualGridRefActionExt?_.UsualGridRefActionExt+",nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder":"nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder"),_.crossRuleParams=JSON.stringify(v),_})))}}},22:function(e,t,a){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,a,c){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?o(i(e),function(i){var c=encodeURIComponent(r(i))+a;return n(e[i])?o(e[i],function(e){return c+encodeURIComponent(r(e))}).join(t):c+encodeURIComponent(r(e[i]))}).join(t):c?encodeURIComponent(r(c))+a+encodeURIComponent(r(e)):""};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var a=[],r=0;r<e.length;r++)a.push(t(e[r],r));return a}var i=Object.keys||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.push(a);return t}},23:function(e,t,a){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,a,o){t=t||"&",a=a||"=";var i={};if("string"!=typeof e||0===e.length)return i;var c=/\+/g;e=e.split(t);var d=1e3;o&&"number"==typeof o.maxKeys&&(d=o.maxKeys);var s=e.length;d>0&&s>d&&(s=d);for(var u=0;u<s;++u){var l,p,f,y,g=e[u].replace(c,"%20"),h=g.indexOf(a);h>=0?(l=g.substr(0,h),p=g.substr(h+1)):(l=g,p=""),f=decodeURIComponent(l),y=decodeURIComponent(p),r(i,f)?n(i[f])?i[f].push(y):i[f]=[i[f],y]:i[f]=y}return i};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},24:function(e,t,a){"use strict";t.decode=t.parse=a(23),t.encode=t.stringify=a(22)},25:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},o=a(1);a(24);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}t.default={resetItem:function(e,t,a,o,c,d){var s=e.meta.getMeta()[o].items.find(function(e){return e.attrcode==c});if("refer"==s.itemtype){var u=s.queryCondition;"function"!=typeof u||s.filterCon||(s.filterCon=u),e.cardTable.setQueryCondition(o,i({},c,function(e){"function"==typeof u?u=n({},u(e)):"object"===(void 0===u?"undefined":r(u))&&(u=n({},s.filterCon(e)));var l="TreeRefActionExt";return"grid"!=e.refType&&"gridTree"!=e.refType||(l="GridRefActionExt"),u.appcode=t,u.pagecode=a,u.areacode=o,u.data=JSON.stringify(i({},o,{areacode:o,rows:[d]})),u.defineField=c,u[l]="nccloud.web.scmpub.pub.marasst.MarAsstDefaultRef",u.UsualGridRefActionExt="nccloud.web.scmpub.pub.marasst.MarAsstDefaultRef",u}))}},afterEdit:function(e,t,a,r,n,i,c,d){var s={appcode:t,pagecode:a,areacode:r,controlField:n,controlValue:(c.values[n]||{}).value,materialvid:(c.values[i]||{}).value};(0,o.ajax)({url:"/nccloud/scmpub/pub/marasstAfterEdit.do",data:s,async:!1,mode:"normal",success:function(t){if(console.log(t,"hj"),t.data&&t.data.data)for(var a in t.data.data){var n=t.data.data[a];if(n&&0!=n.length){var o=(c.values[a]||{}).value;n.includes(o)||e.cardTable.setValByKeyAndIndex(r,d,a,{value:null,display:null,scale:-1})}else e.cardTable.setValByKeyAndIndex(r,d,a,{value:null,display:null,scale:-1})}}})},resetGridItem:function(e,t,a,o,c,d){var s=e.meta.getMeta()[o].items.find(function(e){return e.attrcode==c});if("refer"==s.itemtype){var u=s.queryCondition;s.queryCondition=function(e){u=n({},"function"==typeof u?u(e):"object"===(void 0===u?"undefined":r(u))?u:{});var s="TreeRefActionExt";return"grid"!=e.refType&&"gridTree"!=e.refType||(s="GridRefActionExt"),u.appcode=t,u.pagecode=a,u.areacode=o,u.data=JSON.stringify(i({},o,{areacode:o,rows:[d]})),u.defineField=c,u[s]="nccloud.web.scmpub.pub.marasst.MarAsstDefaultRef",u.UsualGridRefActionExt="nccloud.web.scmpub.pub.marasst.MarAsstDefaultRef",u}}},resetViewItem:function(e,t,a,o,c,d){var s=e.meta.getMeta()[o].items.find(function(e){return e.attrcode==c});if("refer"==s.itemtype){var u=s.queryCondition;"function"!=typeof u||s.filterCon||(s.filterCon=u),e.cardTable.setQueryCondition(o,i({},c,function(e){"function"==typeof u?u=n({},u(e)):"object"===(void 0===u?"undefined":r(u))&&(u=n({},s.filterCon(e)));var l="TreeRefActionExt";return"grid"!=e.refType&&"gridTree"!=e.refType||(l="GridRefActionExt"),u.appcode=t,u.pagecode=a,u.areacode=o,u.data=JSON.stringify(i({},o,{areacode:o,rows:[d]})),u.defineField=c,u[l]="nccloud.web.scmpub.pub.marasst.ViewMarAsstDefaultRef",u.UsualGridRefActionExt="nccloud.web.scmpub.pub.marasst.ViewMarAsstDefaultRef",u}))}}}},26:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e}}},3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showQuitTransferWarningDialog=t.showBackWarningDialog=t.showBatchOprReturnMessage=t.showQueryResultInfoForNoPage=t.showSaveInfo=t.showRefreshInfo=t.showNoQueryResultInfo=t.showHasQueryResultInfo=t.showChangeOrgDialog=t.showDeleteDialog=t.showSingleDeleteDialog=t.showCancelDialog=t.showBatchOperateInfo=t.showBatchOprMessage=t.showWarningDialog=t.showErrorDialog=t.showInfoDialog=t.showSuccessDialog=t.showInfoInfo=t.showErrorInfo=t.showWarningInfo=t.showSuccessInfo=void 0;var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),n=a(1);var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lang=null,this.inlt=null,console.log("LangContainer初始化"),(0,n.getMultiLang)({moduleId:"4001pubmessage",domainName:"scmpub",callback:this.init.bind(this),needInlt:!0})}return r(e,[{key:"init",value:function(e,t,a){t&&(this.lang=e,this.inlt=a)}},{key:"getLangByResId",value:function(e,t){return t?this.inlt.get(e,t)||e:this.lang&&this.lang[e]||e}}]),e}());function i(e,t,a){d(e,t,a)}function c(e,t,a){d(e,t,a,"warning")}function d(e,t,a,r,o,i,c,d,s){(0,n.toast)({duration:a,color:r,title:e,content:t,groupOperation:o,TextArr:i,groupOperationMsg:c,onExpand:d,onClose:s})}function s(e,t){u(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"warning")}function u(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3];(0,n.promptBox)({color:r,title:e,content:t,noFooter:a.noFooter,noCancelBtn:a.noCancelBtn,beSureBtnName:a.beSureBtnName,cancelBtnName:a.cancelBtnName,beSureBtnClick:a.beSureBtnClick,cancelBtnClick:a.cancelBtnClick,closeBtnClick:a.closeBtnClick,closeByClickBackDrop:a.closeByClickBackDrop})}function l(){c(null,o.getLangByResId("4001PUBMESSAGE-000016"))}t.showSuccessInfo=i,t.showWarningInfo=c,t.showErrorInfo=function(e,t){d(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"infinity","danger")},t.showInfoInfo=function(e,t,a){d(e,t,a,"info")},t.showSuccessDialog=function(e,t){u(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})},t.showInfoDialog=function(e,t){u(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"info")},t.showErrorDialog=function(e,t){u(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"danger")},t.showWarningDialog=s,t.showBatchOprMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.getLangByResId("4001PUBMESSAGE-000003"),t=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=t.failedNum,d=t.sucessNum;if(0==c)i(o.getLangByResId("4001PUBMESSAGE-000018",{0:r}),o.getLangByResId("4001PUBMESSAGE-000022",{0:t.sucessNum}));else if(0==d){e=o.getLangByResId("4001PUBMESSAGE-000019",{0:r});var s=o.getLangByResId("4001PUBMESSAGE-000020",{0:t.failedNum,1:t.failedNum});(0,n.toast)({duration:"infinity",color:"danger",title:e,content:s,groupOperation:!0,TextArr:[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],groupOperationMsg:t.errorMessages,onExpand:a.onExpand,onClose:a.onClose})}else{e=o.getLangByResId("4001PUBMESSAGE-000019",{0:r});var u=o.getLangByResId("4001PUBMESSAGE-000021",{0:Number(t.sucessNum)+Number(t.failedNum),1:t.sucessNum,2:t.failedNum});(0,n.toast)({duration:"infinity",color:"danger",title:e,content:u,groupOperation:!0,TextArr:[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],groupOperationMsg:t.errorMessages,onExpand:a.onExpand,onClose:a.onClose})}},t.showBatchOperateInfo=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};d(e,t,"infinity","danger",!0,[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],a,r.onExpand,r.onClose)},t.showCancelDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(o.getLangByResId("4001PUBMESSAGE-000007"),o.getLangByResId("4001PUBMESSAGE-000008"),e)},t.showSingleDeleteDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(o.getLangByResId("4001PUBMESSAGE-000009"),o.getLangByResId("4001PUBMESSAGE-000010"),e)},t.showDeleteDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(o.getLangByResId("4001PUBMESSAGE-000009"),o.getLangByResId("4001PUBMESSAGE-000011"),e)},t.showChangeOrgDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(o.getLangByResId("4001PUBMESSAGE-000012"),o.getLangByResId("4001PUBMESSAGE-000013"),e)},t.showHasQueryResultInfo=function(e){i(null,e?o.getLangByResId("4001PUBMESSAGE-000015",{1:e}):o.getLangByResId("4001PUBMESSAGE-000014"))},t.showNoQueryResultInfo=l,t.showRefreshInfo=function(){i(o.getLangByResId("4001PUBMESSAGE-000017"))},t.showSaveInfo=function(){i(o.getLangByResId("4001PUBMESSAGE-000023"))},t.showQueryResultInfoForNoPage=function(e){e?i(null,o.getLangByResId("4001PUBMESSAGE-000015",{1:e})):l()},t.showBatchOprReturnMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.getLangByResId("4001PUBMESSAGE-000003"),t=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c="",d=t.failedNum,s=t.sucessNum;if(0==d)i(o.getLangByResId("4001PUBMESSAGE-000018",{0:r}),o.getLangByResId("4001PUBMESSAGE-000022",{0:t.sucessNum})),c=o.getLangByResId("4001PUBMESSAGE-000022",{0:t.sucessNum});else if(0==s){e=o.getLangByResId("4001PUBMESSAGE-000019",{0:r});var u=o.getLangByResId("4001PUBMESSAGE-000020",{0:t.failedNum,1:t.failedNum});(0,n.toast)({duration:"infinity",color:"danger",title:e,content:u,groupOperation:!0,TextArr:[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],groupOperationMsg:t.errorMessages,onExpand:a.onExpand,onClose:a.onClose,customBtn:a.customBtn}),t.errorMessages.forEach(function(e){c+=e})}else{e=o.getLangByResId("4001PUBMESSAGE-000019",{0:r});var l=o.getLangByResId("4001PUBMESSAGE-000021",{0:Number(t.sucessNum)+Number(t.failedNum),1:t.sucessNum,2:t.failedNum});(0,n.toast)({duration:"infinity",color:"danger",title:e,content:l,groupOperation:!0,TextArr:[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],groupOperationMsg:t.errorMessages,onExpand:a.onExpand,onClose:a.onClose,customBtn:a.customBtn}),t.errorMessages.forEach(function(e){c+=e})}return c},t.showBackWarningDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(o.getLangByResId("4001PUBMESSAGE-000024"),o.getLangByResId("4001PUBMESSAGE-000025"),e,"warning")},t.showQuitTransferWarningDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(o.getLangByResId("4001PUBMESSAGE-000026"),o.getLangByResId("4001PUBMESSAGE-000027"),e,"warning")}},4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearTransferCache=t.rewriteTransferSrcBids=t.updateCacheDataForList=t.deleteCacheDataForList=t.getNextId=t.getCurrentLastId=t.getDefData=t.setDefData=t.hasListCache=t.addCacheData=t.getCacheDataByPk=t.deleteCacheData=t.updateCacheData=t.changeUrlParam=void 0;var r=a(10);t.changeUrlParam=r.changeUrlParam,t.updateCacheData=r.updateCacheData,t.deleteCacheData=r.deleteCacheData,t.getCacheDataByPk=r.getCacheDataByPk,t.addCacheData=r.addCacheData,t.hasListCache=r.hasListCache,t.setDefData=r.setDefData,t.getDefData=r.getDefData,t.getCurrentLastId=r.getCurrentLastId,t.getNextId=r.getNextId,t.deleteCacheDataForList=r.deleteCacheDataForList,t.updateCacheDataForList=r.updateCacheDataForList,t.rewriteTransferSrcBids=r.rewriteTransferSrcBids,t.clearTransferCache=r.clearTransferCache},44:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transferSkipToSrcBillUtil=function(e,t,a){if(arguments.length>3&&void 0!==arguments[3]&&arguments[3]){var r=a.billtypefield,n=a.billcodefield,o=void 0===n?"vbillcode":n,i=a.pkfield;if(t.attrcode==o)return t.width=150,t.renderStatus="browse",t.render=function(t,a,n){var c=i?a[i].value:a.headKey;if(a[r]&&a[r].value){var d=a[r].value;return React.createElement("a",{style:{cursor:"pointer"},onClick:function(t){t.stopPropagation(),e.openTo(null,{billtype:d,sence:4,status:"browse",id:c})}},a[o].display?a[o].display:a[o].value)}},t}else{var c=a.billtype,d=a.billcodefield,s=void 0===d?"vbillcode":d,u=a.pkfield;if(t.attrcode==s)return t.width=150,t.renderStatus="browse",t.render=function(t,a,r){return React.createElement("a",{style:{cursor:"pointer"},onClick:function(t){c&&a[u]&&(t.stopPropagation(),e.openTo(null,{billtype:c,sence:4,status:"browse",id:a[u].value}))}},a[s].display?a[s].display:a[s].value)},t}}},52:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this,i={queryInfo:t,templetid:e.meta.getMeta().pageid,pageCode:n.PAGECODE.ref20Pagecode};this.bordernumexec=((e.search.getSearchValByField(n.AREA.searchId,n.FIELDS.bordernumexec)||{}).value||{}).firstvalue,(0,r.ajax)({url:n.URL.query20,data:i,success:function(t){t.data?(e.transferTable.setTransferTableValue(n.AREA.srcHead,n.AREA.srcBody,t.data,n.FIELDS.pk_praybill,n.FIELDS.pk_praybill_b),(0,o.showHasQueryResultInfo)(t.data.length)):(e.transferTable.setTransferTableValue(n.AREA.srcHead,n.AREA.srcBody,[],n.FIELDS.pk_praybill,n.FIELDS.pk_praybill_b),(0,o.showNoQueryResultInfo)()),a.setState({ntotalnum:0})}})};var r=a(1),n=a(0),o=a(3)},7:function(e,a){e.exports=t},8:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRefShowDisabledData=t.setPsndocShowLeavePower=t.vbatchcodeHelper=t.getUrlParam=t.crossRuleUtils=t.marAsstUtils=t.transtypeUtils=t.dateFormat=t.deepClone=void 0;var r=l(a(26)),n=l(a(9)),o=l(a(25)),i=l(a(21)),c=a(20),d=l(a(19)),s=a(1),u=a(16);function l(e){return e&&e.__esModule?e:{default:e}}t.deepClone=s.deepClone,t.dateFormat=r.default,t.transtypeUtils=n.default,t.marAsstUtils=o.default,t.crossRuleUtils=i.default,t.getUrlParam=c.getUrlParam,t.vbatchcodeHelper=d.default,t.setPsndocShowLeavePower=u.setPsndocShowLeavePower,t.setRefShowDisabledData=u.setRefShowDisabledData},81:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){o.default.call(this,e,(0,i.getDefData)(c.DATASOURCECACHE.dataSourceRef20CacheKey,c.DEFCACHEKEY.query20CacheKey))};var r,n=a(52),o=(r=n)&&r.__esModule?r:{default:r},i=a(4),c=a(0)},82:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.pushTo(r.URL.list,{})};var r=a(0)},83:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.search.getQueryInfo(n.AREA.srcSearch);t&&t.querycondition&&(e.button.setDisabled(function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a;return e}({},n.BUTTONID.Refresh,!1)),(0,c.setDefData)(n.DATASOURCECACHE.dataSourceRef20CacheKey,n.DEFCACHEKEY.query20CacheKey,t),i.default.call(this,e,t))};var r,n=a(0),o=a(52),i=(r=o)&&r.__esModule?r:{default:r},c=a(4)},84:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchBtnClick=t.buttonClick=void 0;var r=a(0),n=c(a(83)),o=c(a(82)),i=c(a(81));function c(e){return e&&e.__esModule?e:{default:e}}t.buttonClick=function(e,t,a,n,c){switch(t){case r.BUTTONID.Back:o.default.call(this,e);break;case r.BUTTONID.Refresh:i.default.call(this,e)}},t.searchBtnClick=n.default},85:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this;e.createUIDom({pagecode:r.PAGECODE.ref20Pagecode,appcode:r.APPCODE.appcode20},function(a){if(a){if(a.button){var d=a.button;e.button.setButtons(d);var s=(0,c.getDefData)(r.DATASOURCECACHE.dataSourceRef20CacheKey,r.DEFCACHEKEY.query20CacheKey);e.button.setDisabled(r.BUTTONID.Refresh,!s)}if(a.template){var u=a.template;!function(e,t){var a=this;t[r.AREA.srcSearch].items.map(function(t){t.attrcode===r.FIELDS.pk_purchaseorg?(0,n.setRefMainOrgPermissonByItem)(t):t.attrcode==r.FIELDS.praybill_srcmaterial?t.queryCondition=function(){return{pk_org:((e.search.getSearchValByField(r.AREA.srcSearch,r.FIELDS.pk_purchaseorg)||{}).value||{}).firstvalue,SCM_DISCOUNTFLAG:"N",SCM_FEEFLAG:"N",GridRefActionExt:"nccloud.web.scmpub.ref.MaterialRefFilterUtils"}}:t.attrcode===r.FIELDS.depid?t.queryCondition=function(){return{pk_org:((e.search.getSearchValByField(r.AREA.srcSearch,r.FIELDS.pk_purchaseorg)||{}).value||{}).firstvalue,busifuncode:"pu"}}:t.attrcode===r.FIELDS.pk_employee?(t.isShowUnit=!1,t.queryCondition=function(){var t=(e.search.getSearchValByField(r.AREA.srcSearch,r.FIELDS.pk_purchaseorg)||{}).value,a=(e.search.getSearchValByField(r.AREA.srcSearch,r.FIELDS.depid)||{}).value;return{pk_org:(t||{}).firstvalue,pk_dept:(a||{}).firstvalue,busifuncode:"pu"}}):t.attrcode.match("vbdef")||t.attrcode.match("vfree")||t.attrcode.match("vdef")?t.queryCondition=function(){var t=e.search.getSearchValByField(r.AREA.srcSearch,r.FIELDS.pk_purchaseorg);return t&&-1==t.value.firstvalue.indexOf(",")?{pk_org:t.value.firstvalue}:{}}:t.queryCondition=function(){return{pk_org:((e.search.getSearchValByField(r.AREA.srcSearch,r.FIELDS.pk_purchaseorg)||{}).value||{}).firstvalue}},(0,o.setRefShowDisabledData)(t),(0,o.setPsndocShowLeavePower)(t)}),t[r.AREA.srcHead].items.map(function(t,n){i.transferSkipToSrcBillUtil.call(a,e,t,{billtype:"20",billcodefield:r.FIELDS.vbillcode,pkfield:r.FIELDS.pk_praybill})})}(e,u),e.meta.setMeta(u)}if(a.context){t.contexts=a.context;var l=t.contexts.paramMap?t.contexts.paramMap.scm_transfer_app:null,p=t.isRefAddLine;e.BillHeadInfo.setBillHeadInfoVisible({showBackBtn:"Y"!=l&&!p,showBillCode:!1,billCode:null})}}})};var r=a(0),n=a(15),o=a(8),i=a(44),c=a(4)},86:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTemplate=void 0;var r,n=a(85),o=(r=n)&&r.__esModule?r:{default:r};t.initTemplate=o.default},87:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),o=a(7),i=(r=o)&&r.__esModule?r:{default:r},c=a(1),d=a(86),s=a(84),u=a(0),l=a(2);var p=c.base.NCToggleViewBtn,f=c.base.NCDiv,y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.isShowBackBtn=function(){var e=!0;return(a.contexts&&a.contexts.paramMap&&"Y"==a.contexts.paramMap.scm_transfer_app||a.isRefAddLine)&&(e=!1),e},a.refAddLineComfirmBtnClick=e.refAddLineComfirmBtnClick,a.isRefAddLine=e.isRefAddLine,a.contexts,a.bordernumexec="N",(0,l.initLang)(a,["4004purdaily"],"ct",d.initTemplate.bind(a,a.props)),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"componentDidMount",value:function(){var e,t,a;this.props.button.setDisabled((e={},t=u.BUTTONID.Refresh,a=!0,t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e)),this.props.transferTable.setTransferTableValue(u.AREA.srcHead,u.AREA.srcBody,[],u.FIELDS.pk_praybill,u.FIELDS.pk_praybill_b)}},{key:"render",value:function(){var e=this,t=this.props,a=t.transferTable,r=t.search.NCCreateSearch,n=a.createTransferTable,o=this.props.BillHeadInfo.createBillHeadInfo,c=a.getSelectedListDisplay(u.AREA.cardFormId),y=this.isShowBackBtn(),g=this.isRefAddLine;return i.default.createElement("div",{id:"transferList",className:"nc-bill-list"},c?"":i.default.createElement("div",null,i.default.createElement(f,{areaCode:f.config.HEADER,className:"nc-bill-header-area"},i.default.createElement("div",{className:"header-title-search-area"},o({title:(0,l.getLangByResId)(this,"4004PURDAILY-000060"),billCode:"",initShowBackBtn:y,backBtnClick:s.buttonClick.bind(this,this.props,u.BUTTONID.Back)})),i.default.createElement("div",{className:"header-button-area"},this.props.button.createButtonApp({area:u.AREA.list_head,onButtonClick:s.buttonClick.bind(this)})),i.default.createElement(p,{onClick:function(){e.props.meta.getMeta()[u.AREA.srcView]||d.initTemplate.call(e),e.props.transferTable.changeViewType()}})),i.default.createElement("div",{className:"nc-bill-search-area",style:{borderBottom:"1px solid #d0d0d0"}},r(u.AREA.srcSearch,{clickSearchBtn:s.searchBtnClick.bind(this,this.props)}))),i.default.createElement("div",{className:"nc-bill-transferTable-area"},n({searchAreaCode:u.AREA.srcSearch,dataSource:g?null:u.DATASOURCECACHE.dataSourceRef20CacheKey,pkname:u.FIELDS.pk_praybill,headTableId:u.AREA.srcHead,bodyTableId:u.AREA.srcBody,fullTableId:u.AREA.srcView,transferBtnText:(0,l.getLangByResId)(this,"4004PURDAILY-000061"),containerSelector:"#transferList",totalKey:[u.FIELDS.nastnum],totalTitle:[(0,l.getLangByResId)(this,"4004PURDAILY-000062")],onTransferBtnClick:function(t){1==e.isRefAddLine?e.refAddLineComfirmBtnClick(t):e.props.pushTo(u.URL.card,{status:u.UISTATUS.ref20,source:u.URL.ref20,bordernumexec:e.bordernumexec})},onChangeViewClick:function(){e.props.meta.getMeta()[u.AREA.srcView]||d.initTemplate.call(e),e.props.transferTable.changeViewType(e.headTableId)}})))}}]),t}();y=(0,c.createPage)({})(y),t.default=y},9:function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(){return(this.transtypeData||{}).pk_transtype}function o(){return(this.transtypeData||{}).transtype_name}Object.defineProperty(t,"__esModule",{value:!0}),t.default={init:function(e){e&&e.paramMap&&e.paramMap.transtype&&(this.transtypeData={transtype:e.paramMap.transtype,transtype_name:e.paramMap.transtype_name,pk_transtype:e.paramMap.pk_transtype})},getTranstypeID:n,getTranstypeCode:function(){return(this.transtypeData||{}).transtype},getTranstypeName:o,beforeEdit:function(e,t,a){return e!=t&&e!=a||!this.transtypeData||!this.transtypeData.transtype},setValue:function(e,t,a){var n;this.transtypeData&&this.props.form.setFormItemsValue(e,(r(n={},t,{value:this.transtypeData.pk_transtype,display:this.transtypeData.transtype_name}),r(n,a,{value:this.transtypeData.transtype,display:this.transtypeData.transtype}),n))},beforeSearch:function(e,t,a){if(e&&this.transtypeData&&this.transtypeData.pk_transtype){e.querycondition||(e.querycondition={}),e.querycondition.conditions||(e.querycondition.conditions=[]),e.querycondition.logic||(e.querycondition.logic="and");var r={field:t,datatype:"204",oprtype:"=",value:{firstvalue:this.transtypeData.pk_transtype}};e.querycondition.conditions.push(r)}return e},initQuery:function(e,t,a,r){var n=t[a].items.find(function(e){return e.attrcode==r});n&&this.transtypeData&&(n.disabled=!0,n.isfixedcondition=!0,n.visible=!0)},setQueryDefaultValue:function(e,t,a){this.transtypeData&&e.search.setSearchValByField(t,a,{display:o.call(this),value:n.call(this)})}}}})});
//# sourceMappingURL=index.207b7573.js.map