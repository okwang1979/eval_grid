!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nc-lightapp-front"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["nc-lightapp-front","react","react-dom"],t):"object"==typeof exports?exports["ct/ct/saledaily/main/index"]=t(require("nc-lightapp-front"),require("react"),require("react-dom")):e["ct/ct/saledaily/main/index"]=t(e["nc-lightapp-front"],e.React,e.ReactDOM)}(window,function(__WEBPACK_EXTERNAL_MODULE__0__,__WEBPACK_EXTERNAL_MODULE__10__,__WEBPACK_EXTERNAL_MODULE__61__){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=933)}({0:function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__0__},10:function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__10__},103:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.batchUncommit_BtnClick=t.output_BtnClick=t.unend_BtnClick=t.unvalidate_BtnClick=t.validate_BtnClick=t.unfreeze_BtnClick=t.modifyHistoryBtnClick=t.receive_BtnClick=t.onReasonBtnClick=t.buttonClick_BtnClick=t.showDoc_BtnClick=t.pageInfoClick=t.queryPayPlan_BtnClick=t.copy_BtnClick=t.receiveStartControl_BtnClick=t.print_BtnClick=t.modiDelete_BtnClick=t.modify_BtnClick=t.queryAboutBusiness_BtnClick=t.fileManage_BtnClick=t.approveInfo_BtnClick=t.batchUnvalidate_BtnClick=t.batchValidate_BtnClick=t.batchUnfreeze_BtnClick=t.batchFreeze_BtnClick=t.batchUnend_BtnClick=t.batchEnd_BtnClick=t.commit_BtnClick=t.doubleClick_BtnClick=t.onListButtonClicks=t.onListInnerButtonClicks=t.edit_BtnClick=t.delete_BtnClick=t.batchDelete_BtnClick=t.add_BtnClick=t.commonSearch_BtnClick=t.ref4310_BtnClick=void 0;var n=F(a(853)),r=F(a(854)),o=F(a(855)),l=F(a(856)),i=F(a(857)),s=F(a(858)),c=F(a(859)),u=F(a(860)),d=F(a(861)),f=F(a(862)),A=F(a(863)),p=F(a(864)),_=F(a(865)),L=F(a(866)),E=F(a(867)),D=F(a(868)),S=F(a(869)),C=F(a(870)),T=F(a(871)),b=F(a(872)),v=F(a(873)),I=F(a(874)),y=F(a(875)),h=F(a(876)),m=F(a(877)),g=F(a(878)),R=F(a(879)),O=F(a(880)),B=F(a(314)),N=F(a(881)),k=F(a(882)),w=F(a(883)),Y=F(a(884)),M=F(a(885)),P=F(a(886)),U=F(a(887)),x=F(a(888));function F(e){return e&&e.__esModule?e:{default:e}}t.ref4310_BtnClick=R.default,t.commonSearch_BtnClick=n.default,t.add_BtnClick=r.default,t.batchDelete_BtnClick=o.default,t.delete_BtnClick=l.default,t.edit_BtnClick=i.default,t.onListInnerButtonClicks=s.default,t.onListButtonClicks=c.default,t.doubleClick_BtnClick=u.default,t.commit_BtnClick=D.default,t.batchEnd_BtnClick=f.default,t.batchUnend_BtnClick=A.default,t.batchFreeze_BtnClick=p.default,t.batchUnfreeze_BtnClick=_.default,t.batchValidate_BtnClick=L.default,t.batchUnvalidate_BtnClick=E.default,t.approveInfo_BtnClick=S.default,t.fileManage_BtnClick=C.default,t.queryAboutBusiness_BtnClick=T.default,t.modify_BtnClick=b.default,t.modiDelete_BtnClick=v.default,t.print_BtnClick=I.default,t.receiveStartControl_BtnClick=y.default,t.copy_BtnClick=h.default,t.queryPayPlan_BtnClick=m.default,t.pageInfoClick=g.default,t.showDoc_BtnClick=O.default,t.buttonClick_BtnClick=B.default,t.onReasonBtnClick=N.default,t.receive_BtnClick=k.default,t.modifyHistoryBtnClick=w.default,t.unfreeze_BtnClick=Y.default,t.validate_BtnClick=M.default,t.unvalidate_BtnClick=P.default,t.unend_BtnClick=U.default,t.output_BtnClick=x.default,t.batchUncommit_BtnClick=d.default},104:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){console.log(111,t);var a=t.valueChange;if(t.item.attrcode==e){if(0==a.length)return!0;if(/^-?[0-9]*(\.\d*)?$|^-?d^(\.\d*)?$/.test(a)){if(-1!=a.indexOf("-")&&"0"==a.substr(1,1)){if("."==a.substr(1))return!1;if(a.length>2&&"."!=a.substr(2,1))return!1}else if("0"==a.substr(0,1)){if("."==a.substr(0))return!1;if(a.length>1&&"."!=a.substr(1,1))return!1}return!0}return!1}return!0}},105:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processCardTableAutoAddRow=t.processEditTableAutoAddRow=void 0;var n=a(46),r=a(79);t.processEditTableAutoAddRow=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.isMuli,l=n.isAutoAddFunc,i=n.autoAddFunc,s=n.hasCrownoField,c=void 0===s||s,u=n.crownoField;if(!(o||l&&l())){var d=e.editTable.getNumberOfRows(t,!1);d==a+1&&(i?i():(e.editTable.addRow(t,d),c&&r.RownoUtils.setRowNo(e,t,u||"crowno")))}},t.processCardTableAutoAddRow=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.isMuli,l=r.isAutoAddFunc,i=r.autoAddFunc,s=r.hasCrownoField,c=void 0===s||s,u=r.crownoField,d=r.defaultValue;if(!o&&(!l||l())){var f=e.cardTable.getNumberOfRows(t,!1);f==a+1&&(i?i():(e.cardTable.addRow(t,f,d,!1),c&&n.RownoUtils.setRowNo(e,t,u||"crowno")))}}},107:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SCMImageView=function(e,t){var a=t.billId,r=t.billType,o=t.tranTypeId,l=t.pk_org,i={};i.pk_billid=a,i.pk_billtype=r,i.pk_tradetype=o,i.pk_org=l,(0,n.imageView)(i,"iweb")},t.SCMImageScan=function(e,t){var a=t.billId,r=t.billType,o=t.tranTypeId,l=t.pk_org,i=t.pk_org_name,s=t.billDate,c=t.pk_billtype,u=t.vbillcode,d=t.cash,f={};f.pk_billid=a,f.pk_billtype=r,f.pk_tradetype=o,f.pk_org=l,f.BillType=r,f.BillDate=s,f.Busi_Serial_No=a,f.pk_billtype=c,f.OrgNo=l,f.BillCode=u,f.OrgName=i,f.Cash=d,(0,n.imageScan)(f,"iweb")};var n=a(177)},108:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bytesToSize=function(e,t,a){if(t=t||2,0==e||void 0===e||!l(e))return t>0?"0."+Array(t+1).join("0")+"B":"0B";var n=i(a)?Math.floor(Math.log(e)/Math.log(1024)):a;return(e/Math.pow(1024,n)).toFixed(t)+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][n]},t.isRealNum=l,t.isWrong=i,t.getAesKey=s,t.decryptResponse=function(e){if(n.Cipher.cipherFlag||"true"===r("localStorage","rockin")){var t=s();e="string"==typeof e?n.Cipher.decrypt(e,t):e}1==r("localStorage","gzip")&&(e=(new n.gzip).unzip(e));return e};var n=a(0),r=n.viewModel.getGlobalStorage,o=n.viewModel.getCookie;function l(e){return null!=/^(-)?\d+(\.\d+)?$/.exec(e)&&""!==e}function i(e){return null==e||""===e}function s(){var e=o("cookiets")||Date.now();e=isNaN(e)?e:Number(e);var t=n.Cipher.opaqueDecrypt(r("localStorage","cowboy")),a=e+"";return t=a+t.substring(0,t.length-a.length)}},109:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALMAAACzCAYAAADCFC3zAAAAAXNSR0IArs4c6QAADtxJREFUeAHtXQvMHFUZtZQK1YJCeAnVCpZKWx8tRNACUkI0bYwSQKsGo0BobA2gwUeCYknQ+IoEiRgSCjZaMYpEYhqlPokkLWJEKrZFSmsELW1psaUt1D5oPaf5p51/u7tz792dnXu/e77k+2d25j6+c76z95+ZOzM74hWyuhg4DA1fBZ8Onwx/Gv4I/HvwrXCZGEiCgfGIcil8Xxt/BtsugsvEQPQMTESE6+HthFxs2439l0aPRAFmzYCLkCXorCWSBngfIUvQaeQ0yyhDhCxBZymVuEH3ImQJOu7cZhVdP4QsQWclmTjB9lPIEnScOc4iqjqELEFnIZ24QNYpZAk6rlybjmYQQpagTUsoDnCDFLIEHUfOTUbRhJAlaJNSahZUk0KWoJvNvaneYxCyBG1KUs2AiUnIEnQzGjDRa4xClqBNSGuwIGIWsgQ9WC0k3VsKQpagk5bYYIJPScgS9GA0kWQvKQpZgk5SavUGnbKQJeh6tZFU6xaELEEnJbl6grUkZAm6Ho0k0eqJiHItvBCBpeUu4DoviSwoyL4wsAitWBJwK5ZngW90X5hSI1EzMA7R7YW3CsDa549GnYUaguP70HKzswB4RAagz8kA4zCIOYo5l3+/ueA8IOgcxfzYAfS2V3LBaTuLFeh4iPEo3NoxchnPduA7uYIH7TbCwNnA8RK8LABL69cYyZNgODIwDeX4AnBLIn4ReD7piN9csRzO6rsl7XDsvBj+djgnUnzsQyh8jE8Fx7KbUe5njmWLYluwsgZ+L5zrMjHgxcDfUbqOUZ3tygIYyPFqRgBNqpICAxJzCllSjE4MSMxONKlQCgxIzClkSTE6MSAxO9GkQikwIDGnkCXF6MSAxOxEkwqlwIDEnEKWFKMTAxKzE00qlAIDEnMKWVKMTgxIzE40qVAKDPBGm6aMfR/bVOelfndi/YXS5xRXj0bQR0YSOG+U4g/dm7eRQHgl/C9wiqiOG3VC2uSdZgvhp8BdbTkKhvRVVcf1RqPj0f98+PM1xVEVZ6f9exDPCvj18CPgJo2jx2J4JxJi2M5R5SOO7Dcp5vcjxuci55L55BM9Jp94+WkC5DMBfInKFHiVNXUL6HgExpvwY/jyu8TwMGIdVUVmSvtnJUQ+E7QMXnVy3JSYH0qMS/J5A9yEvRoo/g13+RbHVOZdFew3IeaJCfLInPIB27EVfPa8u2r06bkDNDAPXjuQfgTa0sbbWj7H8DHGmFx44YB2i0vBXsrULeYJCO4zvQTYYN0Yj/OavJTaayp4qHlhr410q1+3mL+Lzl/ZLYCI962KMLYYY/KhiXpI8gt5GQKP6RjYJ5b/IPaqa6RNHDPzafonE+aVOUjuPzXfc/avhEmfgdirrAkxM6Zp8JfhPl/OmMpuQey+r3VAlWqr6zDjS+h6XHX30ZWgSG6Ec3InVluKwDi68Xp4ivYaBP3NVALnRf3/wWMaDapioYgfgp8Jd7WmRuYivklY+S2c08dV+GLbz/djV136RBE/q+Ng/DaEUHW82S7KL2LjonY7at62G+2vg2/17Kfpt0GtRLzvgY+Bnwxv6kSbU+tfg/sYubsd/g44hR2lfQBRhYwCy1CPNyGlZE2PzLFwxbwxfyF5nxMLiNY4eAsi33cWAur81sYS+CwxH0wS8xeS902oF8NtwAeRDK3dFAjoR4e0lMYGiXl4npjHEEHfMbyZ5j+9ESGEvO94G+rxeC9Fk5iHZ415ZD59Bc2T76nDm2r20y8CQBD0F5oNu6feJeZD6WM+fcXM8kvgTZ9Q70czMxAAZ7KaOgPfH3iPfyTmQwlkPkNnKD9xaHOD3cJLcKvgId9GfglSNom5ffZCB7f1aI5PIzVmnOkLETIPS1I3iblzBkMPO2/t3GS9e96A5kMe3+Hs4Gn1hjaQ1iXmzjQzvyGzwJzAmty52fr23IemQ0blm+sLaaAtS8zd6f5KoD7+0L3Z/u/lNGqIkJ9BvVf1P5xGWpSYu9POPDPfITqZ1b3p/u3lExhPBAb5wf6F0XhLEnN1CpjvEDHzmVE+alW7hV5L/H3tkQ22A4nZjW/mPUTQvjcvuUVTKnUK1rcFBNfYgX0p9n6vSsxujPKEjvn3FfRO1DndrYuwUj8JCIogGrvkEgbTqdYfA7moSirbtWbMfxXudvt/VRcR0wMD2oB6fLrAmt0NQO0S0Os2tmvNmH/qIIQb3lbcV+NN/MvhIcFc2ddI4mnsU4F8VHHIdi0adVCFvd3+NajH24v7ZnyjY7uOqrb9CfVG9C2KuBrq5T6ETrylfr9KtwxRB9RDJ+zdtn+5W8M++05C4RcCguDjMHwsxrJNBbi/wbslwnUf25limSxgKx6TcuWkKPcS6o6r4sZl1FyIRj5W1VCb/Xdh2+w2261t4mNDvMjPV2eNh/ucH3CQWA1/HH4v/GW4dZsPgFcHgPw56lwWUO9AlfOwVnw7fJabUe/4A61oRQwcZIC6oD589FSU5cxzkHHECf0Xem1Qj6qUCwPURyFQnyVnnjkD7W2hHfJfJr8IMjHQiQHqgzrxEXJR9vOdGu20/QTsCP1XcEGnRrVdDJQYoE4Kgfost6Ke13OjCwI74gyhTAy4MkC9+Ai5KHuPawfvREFeVisqui63o85Y105UTgwM6YW6cdVYudz5VQwehgKPBjZ+Q1Xj2i8G2jBA3ZRF6rrOixNdz83mBjb8FOqFvF8O1WSZM0DdUD+uIi6Xu6bMXXnS5Djs4HTqseUCjuufQ7kHHMs2UWwnOn0WvqOJzhvuczT65wlTzIPNTMT37QCetqDOBPjG1rp3YkNZ9dbWdwEfbyk8oxW40c/ESbzEbS2XZTycaR5mnDPnVGq5kNV1js5zhqG394H4iNNqDsu4eLHi7CKFPNR4JBPgBQn84k4rCDC2JK5cBqYin38G5v2HzDOwUmzMabkKuLueDWN/akY8xJVTHgusM3gp7vLUMtaneE9HO9ZGZ+IhrhztcoqZZ4O52iRjwK3h8UnPBIr5KJ8axsrycqQls4bHJzdjKOaczdoX2RoeL23mLuZGX6HqlSm3wtbwuKEeKpW7mE/1Yiv+wtbweDGeu5jf7MVW/IWt4fFiPHcxjwNbPg+gepE74MLEQTzZGl/u4mu3oAKfJI7R3oeg5nkExi/zu+GLPOrEWpQ4fAenm1Hnl5ECmoW4PusTW4iYn0YHnD6M0XYhKB8xE8NFcAtiJg5fux8V+OuqMdo5vkHxm8zpQCu2HED48wM+xncx+I5oPu0PoizjJw4fI0/ky4yRhP03aBhBtAc4HvPEwke9LvSsE1txxu/7yBp5Il9mLPURqV0ift1uY8W2ayv2x747JP4QnqLmgWK2dJhBskOOfy9GvXNZOUFj3Izf10J48u1joOWtHWaQvL/C1waw+K2AOjFUCYmb/JAnU2ZxZGaCfhyQJd4+eUlAvSarMN6Q21hD+GkSp1PfFkdmAp8PDzl8+jrq8QHQFIxxMl5fIy/kx5xZHZmfQqYeDMgWp4MXBNRrogrjDJm+Ji/kx5xZHZmZqFsDs/Vh1LsxsO6gqjE+xhliobyE9DXwOivQ4z4PD7kMNHBQQx2GPqi7F/VjPX5mXIzPJ2dFWfKRilFnRdwuyxWWR2Ym7abAzHEiaSGc9zvEZIyHcYVOdM2LCUy/Y6GYLdtigPtdIED+3C3rhvxkQWCXXasxDsbDuEKMdc1NlJSJsHoCWMY4Fx9879co6o/CCs/8b4OPLDYOeMl+2T/jYDwhRvzkwbRZP8xg8lbDv9pjFq9D/QfgY3tsx7c6+2O/7L8XI37yYN5WAqHLAXZRJqUTwCJ5HNGWeuIs8JaXO9DGN+CvhddpbJ/9sL9y/yHrxH04PDXzPgEkQMtXM8oJfD0+bIKHCKK1zvNo53r4EfB+Gttju2y/tc+Qz8RL3ClakJhzGJmLZM7Eyh54iDDa1dmAtr4DPwvei7E+22F77foJ2UacxJuqeYs5xX8/vSSHx58fh/PyVj+u5JyAdj495BTig3D+W/8H/En4c/DyyeeR+Mw6nLk7A877Kngv8onwftpeNEacxJuV5TQyF4llogf1pszd6Iu/kMRlyAjrW4e4iC91CxqZSVZu9kMA5n+lu+ChExCunLGfo1wL91iOuZwNJ77srB//alMl7fsIfA7cypeZOIiHuLI0irnukSlmYu9EcBzJeAiQsjF+4iCebI1itjIyhSbxblS8AL42tIGG6zFuxk8cWVvuI3OR/Iexwstji4sNiSwZ75lwxp+9aWQ+KAFeWuN12Svgm+ExG+O7As54eflPBgY0Mh8qgx9g0yQ4/23zMldMxngYF+NjnLISAxSz7FAG1mPT1fC3wu+HN31ewf4Zx1vgjIvxyVoY0GFGCyEtH5/A50vhE+G3w7fBB2nsj/2yf8bBmUVZBwZ0mNGBmJbNnJrmjNRY+FVwvjlzF7wOY7tsn/2wP/bL/mUVDHB2SubOAKelFwz50Vi+F37ukE/BchTc13iNeBl8yZD/Bkv2I/NkQGL2JKxUnIK7b8i5mbdvngZ/05Dz5qExcD7mNBq+A/4ifDt8A3zNkP8Ty51wWY8MUMxNn9z0CCGa6hQkj7HpsgYY4DGzTAyYYEBiNpFGgSADErN0YIYBidlMKgVEYpYGzDAgMZtJpYBIzNKAGQYkZjOpFBCJWRoww4DEbCaVAiIxSwNmGJCYzaRSQCRmacAMAxKzmVQKiMQsDZhhQGI2k0oBkZilATMMSMxmUikgErM0YIYBidlMKgVEYpYGzDAgMZtJpYBIzNKAGQYkZjOpFBCJWRoww4DEbCaVAiIxSwNmGJCYzaRSQCRmacAMAxKzmVQKCF9p6/ujlpegzqmiTgzUzMBU3/Yp5BVw/nqRTAykzMBKHWaknD7FPowBiXkYHfqQMgMSc8rZU+zDGJCYh9GhDykzQDHrB3pSzqBiLxjYRzFvLD5pKQYSZmAjxcwfU5SJgdQZWMLrzK+D81rzMamjUfzZMrAZyCdzZF4Hvy5bGgTcAgPU77qRQ0gex3I1fDqcP40rEwMpMPBfBDkbfg+Dbb0v4yRsmwvnj5sfB+fILRMDMTGwF8FsgvNc7w74evh++z9z5WIfQPZkbwAAAABJRU5ErkJggg=="},110:function(e,t,a){"use strict";function n(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(e){return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new XMLHttpRequest;t.upload&&(t.upload.onloadstart=function(t){e.onStart(t)},t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var a=new FormData;e.data&&Object.keys(e.data).map(function(t){a.append(t,e.data[t])});a.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){if(t.status<200||t.status>=300)return e.onError(function(e,t){var a="cannot post "+e.action+" "+t.status+"'",n=new Error(a);return n.status=t.status,n.method="post",n.url=e.action,n}(e,t),n(t));e.onSuccess(n(t))},t.open("post",e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var r=e.headers||{};null!==r["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest");for(var o in r)r.hasOwnProperty(o)&&null!==r[o]&&t.setRequestHeader(o,r[o]);return t.send(a),{abort:function(){t.abort()}}}},111:function(e,t,a){var n=a(112);"string"==typeof n&&(n=[[e.i,n,""]]);var r={transform:void 0};a(42)(n,r);n.locals&&(e.exports=n.locals)},112:function(e,t,a){(e.exports=a(41)(!1)).push([e.i,".scm-upload.u-modal .u-modal-dialog {\n  width: 720px;\n  height: 500px;\n}\n.scm-upload.u-modal .top-box {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  border-bottom: 1px solid #d0d0d0;\n  padding-bottom: 12px;\n}\n.scm-upload.u-modal .top-box .btns {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  margin-right: 0;\n  margin-left: auto;\n}\n.scm-upload.u-modal .upload-list {\n  position: relative;\n  height: 350px;\n  overflow: auto;\n}\n.scm-upload.u-modal .upload-list .hide {\n  display: none;\n}\n.scm-upload.u-modal .upload-list .empty-list {\n  position: absolute;\n  top: 40%;\n  left: 50%;\n  margin-left: -30px;\n  margin-top: -56px;\n}\n.scm-upload.u-modal .upload-list .empty-list img {\n  width: 60px;\n  opacity: .2;\n}\n.scm-upload.u-modal .upload-list .empty-list .info {\n  text-align: center;\n  color: #bbb;\n}\n.scm-upload.u-modal .upload-list .empty-list a.upload {\n  margin-top: 5px;\n  font-size: 16px;\n  text-align: center;\n  cursor: pointer;\n}\n.scm-upload.u-modal .upload-list li {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  height: 40px;\n  border-bottom: 1px solid #d0d0d0;\n}\n.scm-upload.u-modal .upload-list li:last-child {\n  border-bottom: none;\n}\n.scm-upload.u-modal .upload-list li:hover {\n  background-color: #f5f6f6;\n}\n.scm-upload.u-modal .upload-list li .itemCheck {\n  margin-top: 5px;\n}\n.scm-upload.u-modal .upload-list li .file-name {\n  -webkit-box-flex: 2;\n      -ms-flex: 2;\n          flex: 2;\n  color: #555;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.scm-upload.u-modal .upload-list li .file-status {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  margin-left: 10px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: baseline;\n      -ms-flex-align: baseline;\n          align-items: baseline;\n}\n.scm-upload.u-modal .upload-list li .file-status .status-error {\n  color: #e14c46;\n}\n.scm-upload.u-modal .upload-list li .file-status .status-success {\n  color: #3dbd7d;\n}\n.scm-upload.u-modal .upload-list li .file-status .upload-percent {\n  margin-right: 5px;\n}\n.scm-upload.u-modal .upload-list li .file-status .u-progress {\n  margin-bottom: 0;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.scm-upload.u-modal .upload-list li .file-status .fadeOut {\n  -webkit-animation-name: fadeOut;\n          animation-name: fadeOut;\n  -webkit-animation-duration: 3s;\n          animation-duration: 3s;\n}\n.scm-upload.u-modal .upload-list li .options {\n  -webkit-box-flex: 2;\n      -ms-flex: 2;\n          flex: 2;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n}\n.scm-upload.u-modal .upload-list li .options a {\n  margin-left: 10px;\n  cursor: pointer;\n}\n.scm-upload.u-modal .status-error-tip .tooltip-inner {\n  padding: 5px;\n  color: #000;\n}\n.scm-upload.u-modal .test-tip {\n  height: 30px;\n  background: #fff0ef;\n  border-radius: 3px;\n  color: #e14c46;\n  margin: 5px 20px 0;\n  padding: 0 14px;\n  line-height: 30px;\n}\n.scm-upload.u-modal .test-tip .icon-zhuyi1 {\n  margin-right: 12px;\n  font-size: 20px;\n  vertical-align: sub;\n}\n.scm-upload.u-modal .test-tip .icon-guanbi {\n  font-size: 12px;\n  color: #888;\n  float: right;\n  padding-right: 3px;\n  cursor: pointer;\n}\n.scm-upload.u-modal .test-tip .icon-guanbi:hover {\n  color: #666;\n}\n@-webkit-keyframes fadeOut {\n  0% {\n    opacity: 1;\n  }\n  90% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n    visibility: hidden;\n  }\n}\n@keyframes fadeOut {\n  0% {\n    opacity: 1;\n  }\n  90% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n    visibility: hidden;\n  }\n}\n",""])},113:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(10),l=(n=o)&&n.__esModule?n:{default:n},i=a(0);a(114);var s=a(2);var c=i.base.NCButton,u=i.base.NCModal,d=u.Header,f=u.Title,A=u.Body,p=u.Footer,_={query:"/nccloud/scmpub/datasource/query.do",confirm:"/nccloud/scmpub/datasource/confirm.do"},L={treeName:"dataSourceTree",fileName:"数据源配置.xml"},E=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.loadTreeData=function(t,a){(0,i.ajax)({url:_.query,data:{metaparams:t},success:function(t){t.success&&t.data&&(D(t.data.rows),e.props.asyncTree.setTreeData(L.treeName,t.data.rows,a))}})},e.state={},e.pk_checked=null,e.isFlag=!1,e.billType=null,(0,s.initLang)(e,["4001components"],"scmpub"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.show&&!this.isFlag&&(this.billType=e.billType,(0,i.ajax)({url:_.query,data:{billType:this.billType},success:function(e){e.success&&e.data&&(t.isFlag=!0,D(e.data.rows),t.props.asyncTree.setTreeData(L.treeName,e.data.rows),t.props.asyncTree.openNodeByPkAsync(L.treeName,e.data.rows[0].refpk))}}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.asyncTree.createAsyncTree;return l.default.createElement(u,{show:a,onHide:this.props.close,size:"md",className:"data-source-dlg"},l.default.createElement(d,{closeButton:!0},l.default.createElement(f,null,(0,s.getLangByResId)(this,"4001COMPONENTS-000026"))),l.default.createElement(A,null,n({treeId:L.treeName,loadTreeData:this.loadTreeData.bind(this),checkable:!0,checkStrictly:!1,onCheckEve:function(t,a,n){n.checked,n.checkedNodes,n.node,n.event;e.pk_checked=a}})),l.default.createElement(p,null,l.default.createElement(c,{onClick:S.bind(this),className:"button-primary",fieldid:"confirm"},(0,s.getLangByResId)(this,"4001COMPONENTS-000000")),l.default.createElement(c,{onClick:this.props.close,fieldid:"cancel"},(0,s.getLangByResId)(this,"4001COMPONENTS-000001"))))}}]),t}();function D(e){e.map(function(e){Object.assign(e,{beforeName:e.refcode})})}function S(){var e=this,t=new Map;this.pk_checked.map(function(a){var n=e.props.asyncTree.getAsyncTreeValue(L.treeName,a);t.set(n.fullPath,n.refname)}),(0,i.formDownload)({params:{billType:this.billType,checkNodes:JSON.stringify(t),fileName:L.fileName},url:_.confirm,enctype:1})}t.default=E},114:function(e,t,a){var n=a(115);"string"==typeof n&&(n=[[e.i,n,""]]);var r={transform:void 0};a(42)(n,r);n.locals&&(e.exports=n.locals)},115:function(e,t,a){(e.exports=a(41)(!1)).push([e.i,".u-modal.data-source-dlg .u-modal-content {\n  height: 570px;\n}\n",""])},116:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(10),l=(n=o)&&n.__esModule?n:{default:n};function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.inputChange=function(e){var t=e.target.files[0];t&&(t.uid="upload-"+(new Date).getTime(),n.props.uploadRequest(t,!1),e.target.value="")},n.selectFile=function(){n.refs.file.click()},i(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props.accept,t=void 0===e?"":e;return l.default.createElement("div",{onClick:this.selectFile},l.default.createElement("input",{fieldid:"File_Input",type:"file",ref:"file",style:{display:"none"},accept:t,onChange:this.inputChange}),this.props.children)}}]),t}();t.default=s},117:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTemplate=void 0;var n,r=a(118),o=(n=r)&&n.__esModule?n:{default:n};t.initTemplate=o.default},118:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this;e.createUIDom({pagecode:e.pagecode},function(a){if(a&&a.template){var n=a.template;e.meta.setMeta(n),e.bodycode.map(function(e){t.bodyname.push(n[e].name)})}})}},12:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRefShowDisabledData=t.setPsndocShowLeavePower=t.vbatchcodeHelper=t.getUrlParam=t.crossRuleUtils=t.marAsstUtils=t.transtypeUtils=t.dateFormat=t.deepClone=void 0;var n=d(a(27)),r=d(a(19)),o=d(a(30)),l=d(a(34)),i=a(35),s=d(a(36)),c=a(0),u=a(21);function d(e){return e&&e.__esModule?e:{default:e}}t.deepClone=c.deepClone,t.dateFormat=n.default,t.transtypeUtils=r.default,t.marAsstUtils=o.default,t.crossRuleUtils=l.default,t.getUrlParam=i.getUrlParam,t.vbatchcodeHelper=s.default,t.setPsndocShowLeavePower=u.setPsndocShowLeavePower,t.setRefShowDisabledData=u.setRefShowDisabledData},135:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6);t.default=function(e,t,a){var r={},o=[],l=[];if(null==a){var i=e.table.getCheckedRows(n.SALEDAILY_CONST.LISTTABLEID);if(0==i.length)return null;i.forEach(function(e){var t={pk:e.data.values.pk_ct_sale.value,ts:e.data.values.ts.value,pk_origct:e.data.values.pk_origct&&e.data.values.pk_origct.value?e.data.values.pk_origct.value:""};o.push(t),l.push(e.index)})}else{var s={pk:t.pk_ct_sale.value,ts:t.ts.value,pk_origct:t.pk_origct&&t.pk_origct.value?t.pk_origct.value:""};o.push(s),l.push(a)}return r.index=l,r.bills=o,r}},137:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transferSkipToSrcBillUtil=function(e,t,a){if(arguments.length>3&&void 0!==arguments[3]&&arguments[3]){var n=a.billtypefield,r=a.billcodefield,o=void 0===r?"vbillcode":r,l=a.pkfield;if(t.attrcode==o)return t.width=150,t.renderStatus="browse",t.render=function(t,a,r){var i=l?a[l].value:a.headKey;if(a[n]&&a[n].value){var s=a[n].value;return React.createElement("a",{style:{cursor:"pointer"},onClick:function(t){t.stopPropagation(),e.openTo(null,{billtype:s,sence:4,status:"browse",id:i})}},a[o].display?a[o].display:a[o].value)}},t}else{var i=a.billtype,s=a.billcodefield,c=void 0===s?"vbillcode":s,u=a.pkfield;if(t.attrcode==c)return t.width=150,t.renderStatus="browse",t.render=function(t,a,n){return React.createElement("a",{style:{cursor:"pointer"},onClick:function(t){i&&a[u]&&(t.stopPropagation(),e.openTo(null,{billtype:i,sence:4,status:"browse",id:a[u].value}))}},a[c].display?a[c].display:a[c].value)},t}}},160:function(e,t,a){"use strict";var n;function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0});var o={FORMID:"head",CARDTABLEID:"saledaily_base",CARDTABLE_TERM:"saledaily_term",CARDTABLE_EXP:"saledaily_exp",CARDTABLE_MEMORA:"saledaily_memora",CARDTABLE_CHANGE:"saledaily_change",CARDTABLE_EXEC:"saledaily_exec",CARDTABLE_PAYTERM:"saledaily_payterm",CARDPAGEID:"400600200_card",LISTPAGEID:"400600200_list",HISPAGECODE:"400600200_history",SEARCHID:"400600200",MODULEID:"4006",LISTTABLEID:"ct_saledaily",LISTHEADBUTTONAREA:"list_head",LISTINNERBUTTONAREA:"list_inner",CARDHEADBUTTONAREA:"card_head",CARDBODYBUTTONAREA:"card_body",CARDBODYTERMBUTTONAREA:"card_body_term",CARDBODYEXPBUTTONAREA:"card_body_exp",CARDBODYMEMORABUTTONAREA:"card_body_memora",CARDBODYPAYTERMBUTTONAREA:"card_body_payterm",CARDBODYINNERBUTTONAREA:"card_body_inner",CARDBODYMEMORAINNERBUTTONAREA:"card_memora_inner",CARDBODYTERMINNERBUTTONAREA:"card_term_inner",CARDBODYPAYTERMINNERBUTTONAREA:"card_payterm_inner",CARDBODYEXPINNERBUTTONAREA:"card_exp_inner",CARD_BODY_EDIT_BUTTONS:["Spread","DeleteLine","CopyLine","ResetRowNo"],CARD_BODY_PASTE_BUTTONS:["PasteLineToTail","CanelCopy"],STATUS_BROWSE:"browse",STATUS_EDIT:"edit",STATUS_MODIFY:"modify",STATUS_ADD:"add",DATA_SOURCE:"ct.ct.saledaily.saledailycache",extendAttribute:"extendAttribute",transTypeCacheKey:"transTypeCacheKey"},l=[o.CARDTABLEID,o.CARDTABLE_TERM,o.CARDTABLE_EXP,o.CARDTABLE_MEMORA,o.CARDTABLE_CHANGE,o.CARDTABLE_EXEC,o.CARDTABLE_PAYTERM],i=(r(n={pk_ct_sale:"pk_ct_sale",fstatusflag:"fstatusflag",version:"version",vchangecode:"vchangecode",pk_org_v:"pk_org_v",controltype:"controltype",pk_org:"pk_org",ctrantypeid:"ctrantypeid",vbillcode:"vbillcode",blatest:"blatest"},"fstatusflag","fstatusflag"),r(n,"vtrantypecode","vtrantypecode"),r(n,"marbasclassbound","marbasclassbound"),r(n,"pk_marbasclass","pk_ct_sale_b.pk_marbasclass"),n);t.SALEDAILY_CONST=o,t.CARD_BODY_BUTTONS={ALL:["AddLine","ResetRowNo","CopyLine","CancelCopy","PasteToTail","DeleteLine","Term_AddLine","Term_CopyLine","Term_DeleteLine","Term_PasteToTail","Term_ResetRowNo","Term_CancelCopy","Exp_AddLine","Exp_CopyLine","Exp_CancelCopy","Exp_DeleteLine","Exp_PasteToTail","Exp_ResetRowNo","Memora_AddLine","Memora_CopyLine","Memora_CancelCopy","Memora_DeleteLine","Memora_PasteToTail","Memora_ResetRowNo","Payterm_AddLine","Payterm_CopyLine","Payterm_CancelCopy","Payterm_DeleteLine","Payterm_PasteToTail","Payterm_ResetRowNo"],BROWSE:[],EDIT:["DeleteLine","CopyLine","ResetRowNo","AddLine"],EDIT_COPYING:["PasteToTail","CancelCopy"],TERM_EDIT:["Term_DeleteLine","Term_CopyLine","Term_AddLine"],TERM_EDIT_COPYING:["Term_PasteToTail","Term_CancelCopy"],MEMORA_EDIT:["Memora_DeleteLine","Memora_CopyLine","Memora_AddLine"],MEMORA_EDIT_COPYING:["Memora_PasteToTail","Memora_CancelCopy"],EXP_EDIT:["Exp_DeleteLine","Exp_CopyLine","Exp_AddLine"],EXP_EDIT_COPYING:["Exp_PasteToTail","Exp_CancelCopy"],PAYTERM_EDIT:["Payterm_DeleteLine","Payterm_CopyLine","Payterm_AddLine"],PAYTERM_EDIT_COPYING:["Payterm_PasteToTail","Payterm_CancelCopy"]},t.CARD_BODY_INNER_BUTTONS={ALL:["CloseOut","OpenOut","CheckBill","PriceChange","Spread","PasteLine"],BROWSE:["Spread"]},t.CARD_HEAD_BUTTONS={ALL:["Copy","Cancel","CancelValidate","End","ModiDelete","Output","Save","SaveCommit","Receive","Excute","File","Print","Validate","Freeze","UnFreeze","CTUnEnd","ReceivePlan","Ref4310","Edit","Delete","Commit","UnCommit","Modify","StructuredFile","ModifyHistory","ApproveInfo","ReceiveStartControl","Add","BillLinkQuery","QueryAboutBusiness","Refresh","QuitTransfer","ImageScan","ImageView"],EDIT:["Save","Cancel","SaveCommit"],EDIT_APPROVING:["Save","Cancel"],EDIT_TRANSFER:["Save","Cancel","SaveCommit","QuitTransfer"],EDIT_RECEIVE:["Save","Cancel"],BROWSE_FREE:["Copy","Output","Excute","File","Print","Ref4310","Edit","Delete","Commit","StructuredFile","QueryAboutBusiness","ApproveInfo","Add","BillLinkQuery","Refresh","ImageScan","ImageView"],BROWSE_FREE_VERSIONED:["Copy","ModiDelete","Output","Excute","File","Print","Ref4310","Edit","Commit","StructuredFile","QueryAboutBusiness","ModifyHistory","Modify","ApproveInfo","Add","BillLinkQuery","Refresh","ImageScan","ImageView"],BROWSE_VALIDATE:["Add","Ref4310","Copy","CancelValidate","Freeze","End","Modify","StructuredFile","File","Receive","BillLinkQuery","QueryAboutBusiness","Print","Output","ApproveInfo","Refresh","ImageScan","ImageView"],BROWSE_APPROVING:["Add","UnCommit","Copy","Ref4310","StructuredFile","File","ModifyHistory","Print","Output","QueryAboutBusiness","ApproveInfo","Refresh","ImageScan","ImageView"],BROWSE_APPROVED:["Add","UnCommit","Copy","Ref4310","Validate","StructuredFile","File","Print","Output","QueryAboutBusiness","ApproveInfo","Refresh","ImageScan","ImageView"],BROWSE_APPROVED_VERSIONED:["Add","UnCommit","Copy","Ref4310","Validate","StructuredFile","File","ModifyHistory","Print","Output","QueryAboutBusiness","ApproveInfo","Refresh","ImageScan","ImageView"],BROWSE_END:["Add","CTUnEnd","Copy","Ref4310","StructuredFile","File","ModifyHistory","Print","Output","QueryAboutBusiness","ReceivePlan","ApproveInfo","Refresh"],BROWSE_FREEZE:["Add","UnFreeze","Copy","Ref4310","StructuredFile","File","Print","Output","QueryAboutBusiness","ReceivePlan","ApproveInfo","Refresh"],BROWSE_FREEZE_VERSIONED:["Add","UnFreeze","Copy","Ref4310","StructuredFile","File","ModifyHistory","Print","Output","QueryAboutBusiness","ReceivePlan","ApproveInfo","Refresh"],BROWSE_NOPASS:["Add","Edit","Copy","Ref4310","StructuredFile","File","Print","Output","QueryAboutBusiness","ApproveInfo","Refresh"],BROWSE_NOPASS_VERSIONED:["Add","Copy","Ref4310","Modify","ModiDelete","StructuredFile","File","ModifyHistory","Print","Output","QueryAboutBusiness","ApproveInfo","Refresh","ImageScan","ImageView"],BROWSE_EMPTY:["Add","Ref4310"],BROWSE_APPROVECENTER_APPROVING:["Edit","QueryAboutBusiness","CreditQuery","FileManage","Print","Output","SplitPrint"]},t.BILL_STATUS={I_FREE:"1",I_AUDITING:"7",I_AUDIT:"2",I_CLOSED:"4",I_NOPASS:"8"},t.SALEDAILY_URL={CARD_URL:"/ct/ct/saledaily/card/index.html",LIST_URL:"/ct/ct/saledaily/list/index.html",LIST_QUERY_URL:"/nccloud/ct/saledaily/listquery.do",CARD_QUERY_URL:"/nccloud/ct/saledaily/cardquery.do",CARD_EDIT_URL:"/nccloud/ct/saledaily/cardedit.do",CARD_DELETE_URL:"/nccloud/ct/saledaily/carddelete.do",CARD_MODIFY_URL:"/nccloud/ct/saledaily/cardmodify.do",CARD_MODIDELETE_URL:"/nccloud/ct/saledaily/cardmodidelete.do",CARD_SAVE_URL:"/nccloud/ct/saledaily/cardsave.do",CARD_MODIFYSAVE_URL:"/nccloud/ct/saledaily/cardmodifysave.do",CARD_COMMIT_URL:"/nccloud/ct/saledaily/cardcommit.do",CARD_VALIDATE_URL:"/nccloud/ct/saledaily/cardvalidate.do",CARD_UNVALIDATE_URL:"/nccloud/ct/saledaily/cardunvalidate.do",CARD_UNCOMMIT_URL:"/nccloud/ct/saledaily/carduncommit.do",CARD_END_URL:"/nccloud/ct/saledaily/cardend.do",CARD_UNEND_URL:"/nccloud/ct/saledaily/cardunend.do",CARD_FREEZE_URL:"/nccloud/ct/saledaily/cardfreeze.do",CARD_UNFREEZE_URL:"/nccloud/ct/saledaily/cardunfreeze.do",CARD_COPY_URL:"/nccloud/ct/saledaily/cardcopy.do",CARD_ADDLINE_URL:"/nccloud/ct/saledaily/bodyaddline.do",LIST_DELETE_URL:"/nccloud/ct/saledaily/listdelete.do",LIST_COMMIT_URL:"/nccloud/ct/saledaily/listcommit.do",LIST_UNCOMMIT_URL:"/nccloud/ct/saledaily/listuncommit.do",LIST_EDIT_URL:"/nccloud/ct/saledaily/listedit.do",LIST_END_URL:"/nccloud/ct/saledaily/listend.do",LIST_UNEND_URL:"/nccloud/ct/saledaily/listunend.do",LIST_FREEZE_URL:"/nccloud/ct/saledaily/listfreeze.do",LIST_UNFREEZE_URL:"/nccloud/ct/saledaily/listunfreeze.do",LIST_VALIDATE_URL:"/nccloud/ct/saledaily/listvalidate.do",LIST_UNVALIDATE_URL:"/nccloud/ct/saledaily/listunvalidate.do",LIST_MODIDELETE_URL:"/nccloud/ct/saledaily/listmodidelete.do",LIST_GATHERMNY_URL:"/nccloud/ct/saledaily/listgathermny.do",LIST_QUERYBYPKS_URL:"/nccloud/ct/saledaily/listquerybypks.do",CARD_HEAD_BEFORE_URL:"/nccloud/ct/saledaily/headbefore.do",CARD_BODY_BEFORE_URL:"/nccloud/ct/saledaily/bodybefore.do",CARD_HEAD_AFTER_URL:"/nccloud/ct/saledaily/headafter.do",CARD_BODY_AFTER_URL:"/nccloud/ct/saledaily/bodyafter.do",PRINT_URL:"/nccloud/ct/saledaily/print.do",printdatapermission:"/nccloud/ct/saledaily/checkPrintDataPermission.do",TRANSFER4310_URL:"/nccloud/ct/saledaily/tranfer4310.do",RECEIVE_URL:"/nccloud/ct/saledaily/receive.do",MODIFYHISTORY_URL:"/nccloud/ct/saledaily/modifyhistory.do",queryTranstype:"/nccloud/ct/saledaily/queryTranstype.do",queryTranstypeBypk:"/nccloud/ct/saledaily/queryTranstypeBypk.do"},t.FIELDS=i,t.CARDTABLEAREAIDS=l},161:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new Promise(function(a,r){var o=t.key,l=t.areahid,i=t.areabid,s=t.index,c=t.cmaterialid,u=e.form.getFormItemsValue(l,"pk_org");u||a(!1);var d=e.cardTable.getValByKeyAndIndex(i,s,c);if(d&&d.value){var f={key:o,params:{cmaterialvid:d.value,pk_org:u.value,key:o}};(0,n.ajax)({url:"/nccloud/ct/saledaily/vfreebefore.do",data:f,success:function(e){if(e.data){var t=e.data.isedit;t?a(t):e.data.message&&(0,n.toast)({color:"warning",content:e.data.message}),a(!1)}},error:function(e){(0,n.toast)({color:"warning",content:e.message}),a(!1)}})}else a(!1)})};var n=a(0)},162:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getUrlParam("status");null==t&&(t=e.form.getFormStatus(r.SALEDAILY_CONST.FORMID)),null==t&&(t=r.SALEDAILY_CONST.STATUS_BROWSE),i.call(this,e,t);var a=t===r.SALEDAILY_CONST.STATUS_BROWSE;s.call(this,e,t,a),u.call(this,e,a),d.call(this,e,a)};var n,r=a(6),o=a(78),l=(n=o)&&n.__esModule?n:{default:n};a(23);function i(e,t){var a=t,n=null;n=t==r.SALEDAILY_CONST.STATUS_BROWSE?r.SALEDAILY_CONST.STATUS_BROWSE:r.SALEDAILY_CONST.STATUS_EDIT,t==r.SALEDAILY_CONST.STATUS_MODIFY&&(a=r.SALEDAILY_CONST.STATUS_EDIT),e.form.setFormStatus(r.SALEDAILY_CONST.FORMID,a),e.cardTable.setStatus(r.SALEDAILY_CONST.CARDTABLEID,n),e.cardTable.setStatus(r.SALEDAILY_CONST.CARDTABLE_CHANGE,n),e.cardTable.setStatus(r.SALEDAILY_CONST.CARDTABLE_EXEC,n),e.cardTable.setStatus(r.SALEDAILY_CONST.CARDTABLE_EXP,n),e.cardTable.setStatus(r.SALEDAILY_CONST.CARDTABLE_MEMORA,n),e.cardTable.setStatus(r.SALEDAILY_CONST.CARDTABLE_PAYTERM,n),e.cardTable.setStatus(r.SALEDAILY_CONST.CARDTABLE_TERM,n)}function s(e,t,a){if(a){e.button.setButtonVisible(r.CARD_HEAD_BUTTONS.ALL,!1);var n=c.call(this,e),o=e.getUrlParam("scene");o&&"approvesce"==o&&n&&n.indexOf("ApproveInfo")>-1&&(n=n.filter(function(e){return"ApproveInfo"!=e})),e.button.setButtonVisible(n,!0),"ref4310"==this.props.getUrlParam("type")?(e.button.setButtonVisible("QuitTransfer",!0),e.button.setButtonVisible(["Add","Ref4310"],!1)):(e.button.setButtonVisible("QuitTransfer",!1),e.button.setButtonVisible(["Add","Ref4310"],!0));var i=(e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"version")||{}).value;parseInt(i)>1?(e.button.setButtonVisible("Edit",!1),e.button.setButtonVisible("ModifyHistory",!0)):e.button.setButtonVisible("ModifyHistory",!1)}else e.button.setButtonVisible(r.CARD_HEAD_BUTTONS.ALL,!1),e.button.setButtonVisible(function(e){var t=e.getUrlParam("type");if("ref4310"==t)return r.CARD_HEAD_BUTTONS.EDIT_TRANSFER;if("receive"==t)return r.CARD_HEAD_BUTTONS.EDIT_RECEIVE;var a=e.getUrlParam("scene");if(a&&("approvesce"==a||"zycl"==a))return r.CARD_HEAD_BUTTONS.EDIT_APPROVING;return r.CARD_HEAD_BUTTONS.EDIT}(e),!0);if(r.SALEDAILY_CONST.STATUS_EDIT!=e.getUrlParam("status")&&"ref4310"!=e.getUrlParam("type")||e.form.setFormItemsDisabled(r.SALEDAILY_CONST.FORMID,{pk_org_v:!0}),e.button.setButtonVisible(r.CARD_BODY_BUTTONS.ALL,!1),!a&&"receive"!=this.props.getUrlParam("type")){var s=!!this.state.copyRowDatas;if(s?e.button.setButtonVisible(r.CARD_BODY_BUTTONS.EDIT_COPYING,!0):e.button.setButtonVisible(r.CARD_BODY_BUTTONS.EDIT,!0),(s=!!this.state.termCopyRowDatas)?e.button.setButtonVisible(r.CARD_BODY_BUTTONS.TERM_EDIT_COPYING,!0):e.button.setButtonVisible(r.CARD_BODY_BUTTONS.TERM_EDIT,!0),s=!!this.state.paytermCopyRowDatas)e.button.setButtonVisible(r.CARD_BODY_BUTTONS.PAYTERM_EDIT_COPYING,!0);else(e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_payterm")||{}).value&&this.props.getUrlParam("status")!=r.SALEDAILY_CONST.STATUS_MODIFY?e.button.setButtonVisible(r.CARD_BODY_BUTTONS.PAYTERM_EDIT,!0):e.button.setButtonVisible(r.CARD_BODY_BUTTONS.PAYTERM_EDIT,!1);(s=!!this.state.expCopyRowDatas)?e.button.setButtonVisible(r.CARD_BODY_BUTTONS.EXP_EDIT_COPYING,!0):e.button.setButtonVisible(r.CARD_BODY_BUTTONS.EXP_EDIT,!0),(s=!!this.state.memoraCopyRowDatas)?e.button.setButtonVisible(r.CARD_BODY_BUTTONS.MEMORA_EDIT_COPYING,!0):e.button.setButtonVisible(r.CARD_BODY_BUTTONS.MEMORA_EDIT,!0)}"receive"!=this.props.getUrlParam("type")&&l.default.call(this)}function c(e){var t=(e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"fstatusflag")||{}).value,a=(e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"version")||{}).value,n=((e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"ctrantypeid")||{}).value,(e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_payterm")||{}).value);switch(t){case null:case void 0:return r.CARD_HEAD_BUTTONS.BROWSE_EMPTY;case"0":return 1==a?r.CARD_HEAD_BUTTONS.BROWSE_FREE:r.CARD_HEAD_BUTTONS.BROWSE_FREE_VERSIONED;case"1":var o=JSON.parse(JSON.stringify(r.CARD_HEAD_BUTTONS.BROWSE_VALIDATE));return this.state.showPayTerm&&n&&o.push("ReceiveStartControl"),this.state.showPayTerm||o.push("ReceivePlan"),1!=a&&o.push("ModifyHistory"),o;case"2":var l=JSON.parse(JSON.stringify(r.CARD_HEAD_BUTTONS.BROWSE_APPROVING)),i=e.getUrlParam("scene");return!i||"approvesce"!=i&&"zycl"!=i||l.push("Edit"),l;case"3":return 1==a?r.CARD_HEAD_BUTTONS.BROWSE_APPROVED:r.CARD_HEAD_BUTTONS.BROWSE_APPROVED_VERSIONED;case"4":return 1==a?r.CARD_HEAD_BUTTONS.BROWSE_NOPASS:r.CARD_HEAD_BUTTONS.BROWSE_NOPASS_VERSIONED;case"5":return 1==a?r.CARD_HEAD_BUTTONS.BROWSE_FREEZE:r.CARD_HEAD_BUTTONS.BROWSE_FREEZE_VERSIONED;case"6":return r.CARD_HEAD_BUTTONS.BROWSE_END;default:return r.CARD_HEAD_BUTTONS.BROWSE_EMPTY}}function u(e,t){var a=!0,n=e.getUrlParam("scene");t&&"zycl"!=n&&"zycx"!=n&&"approvesce"!=n||(a=!1),"ref4310"==e.getUrlParam("type")&&(a=!0),e.BillHeadInfo.setBillHeadInfoVisible({showBackBtn:a,showBillCode:!0,billCode:(e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"vbillcode")||{}).value})}function d(e,t){var a=t,n=e.getUrlParam("scene"),o=(e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"fstatusflag")||{}).value,l=this.props.getUrlParam("type");o?"approvesce"==n||"zycl"==n?(a=!1,e.form.setFormItemsDisabled(r.SALEDAILY_CONST.FORMID,{ctrantypeid:!0})):"ref4310"==l&&(a=!1):a=!1,e.cardPagination.setCardPaginationVisible("cardPaginationBtn",a)}},163:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.btn_Controller=t.buttonClick=t.serach_btnClick=void 0;var n=l(a(894)),r=l(a(895)),o=l(a(897));function l(e){return e&&e.__esModule?e:{default:e}}t.serach_btnClick=n.default,t.buttonClick=r.default,t.btn_Controller=o.default},166:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(10),l=(n=o)&&n.__esModule?n:{default:n},i=a(0),s=a(211);var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getData=function(){a.props.table.setAllTableData(a.tableId,a.payPlanData&&a.payPlanData.payplan?a.payPlanData.payplan:{rows:[]})},a.props=e,a.tableId="payplan",a.pageId="400600200_payplan",a.payPlanData=e.payPlanData,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this.props.table.createSimpleTable;return l.default.createElement("div",null,l.default.createElement("div",{className:"table-area",style:{paddingTop:"20px"}},e(this.tableId,{})))}}]),t}();c=(0,i.createPage)({initTemplate:s.initTemplate})(c),t.default=c},17:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buttonController=void 0;var n,r=a(162),o=(n=r)&&n.__esModule?n:{default:n};t.buttonController=o.default},177:function(module,exports,__webpack_require__){"use strict";(function(module){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t;window,t=function(__WEBPACK_EXTERNAL_MODULE__8__){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==(void 0===e?"undefined":_typeof(e))&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=29)}([,,,,,,function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.broadcast=t.convertNum=t.createPageIcon=t.toastVR=t.printerView=t.printPreview=t.printOnClient=t.Cipher=t.gzip=t.excelImportconfig=t.getMultiLangByID=t.getAllMultiLangByModule=t.initMultiLangByModule=t.ESAPI=t.viewModel=t.LangContainer=t.inlt=t.getLangCode=t.getAttachments=t.simplifyData=t.sum=t.tableTotal=t.isDongba=t.DongbaToLocalTime=t.LocalToDongbaTime=t.spaCache=t.cardCache=t.getBusinessInfo=t.deepClone=t.pageTo=t.loadjs=t.shell=t.persistence=t.withShell=t.RouteWithSubRoutes=t.RenderRouter=t.withNav=t.withViewModel=t.asyncComponent=t.mutiInit=t.formatAcuracy=t.createScript=t.cacheTools=t.approve=t.high=t.dateUtils=t.promptBox=t.clearToast=t.toast=t.output=t.printer=t.print=t.formDownload=t.getMultiLang=t.getGizp=t.clearOneTypeToast=t.ajax=t.base=t.createPage=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(8)),r=function(e){return e&&e.__esModule?e:{default:e}}(a(9)),o=n.ajax;n.ajax=function(e){var t=(0,r.default)(e);t?e.success(t):o(e)};var l=n.createPage,i=n.base,s=n.ajax,c=n.clearOneTypeToast,u=n.getGizp,d=n.getMultiLang,f=n.formDownload,A=n.print,p=n.printer,_=n.output,L=n.toast,E=n.clearToast,D=n.promptBox,S=n.dateUtils,C=n.high,T=n.approve,b=n.cacheTools,v=n.createScript,I=n.formatAcuracy,y=n.mutiInit,h=n.asyncComponent,m=n.withViewModel,g=n.withNav,R=n.RenderRouter,O=n.RouteWithSubRoutes,B=n.withShell,N=n.persistence,k=n.shell,w=n.loadjs,Y=n.pageTo,M=n.deepClone,P=n.getBusinessInfo,U=n.cardCache,x=n.spaCache,F=n.LocalToDongbaTime,j=n.DongbaToLocalTime,V=n.isDongba,G=n.tableTotal,H=n.sum,q=n.simplifyData,W=n.getAttachments,z=n.getLangCode,Q=n.inlt,K=n.LangContainer,X=n.viewModel,Z=n.ESAPI,J=n.initMultiLangByModule,$=n.getAllMultiLangByModule,ee=n.getMultiLangByID,te=n.excelImportconfig,ae=n.gzip,ne=n.Cipher,re=n.printOnClient,oe=n.printPreview,le=n.printerView,ie=n.toastVR,se=n.createPageIcon,ce=n.convertNum,ue=n.broadcast;t.createPage=l,t.base=i,t.ajax=s,t.clearOneTypeToast=c,t.getGizp=u,t.getMultiLang=d,t.formDownload=f,t.print=A,t.printer=p,t.output=_,t.toast=L,t.clearToast=E,t.promptBox=D,t.dateUtils=S,t.high=C,t.approve=T,t.cacheTools=b,t.createScript=v,t.formatAcuracy=I,t.mutiInit=y,t.asyncComponent=h,t.withViewModel=m,t.withNav=g,t.RenderRouter=R,t.RouteWithSubRoutes=O,t.withShell=B,t.persistence=N,t.shell=k,t.loadjs=w,t.pageTo=Y,t.deepClone=M,t.getBusinessInfo=P,t.cardCache=U,t.spaCache=x,t.LocalToDongbaTime=F,t.DongbaToLocalTime=j,t.isDongba=V,t.tableTotal=G,t.sum=H,t.simplifyData=q,t.getAttachments=W,t.getLangCode=z,t.inlt=Q,t.LangContainer=K,t.viewModel=X,t.ESAPI=Z,t.initMultiLangByModule=J,t.getAllMultiLangByModule=$,t.getMultiLangByID=ee,t.excelImportconfig=te,t.gzip=ae,t.Cipher=ne,t.printOnClient=re,t.printPreview=oe,t.printerView=le,t.toastVR=ie,t.createPageIcon=se,t.convertNum=ce,t.broadcast=ue},,function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__8__},function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(e){if(r.default){var t=n({},o);for(var a in t)if(e.url==t[a].url)return console.log("params:"),console.log(e.data),console.log("ResultData:"),console.log(t[a].data),t[a].data}};var r=function(e){return e&&e.__esModule?e:{default:e}}(a(10)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}(a(11))},function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default=!1},function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.ApplicationQryAction=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(12));t.ApplicationQryAction=n.default},function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.default={url:"/nccloud/sscivm/ivsale/ApplicationQryAction.do",data:{success:!0,data:{InvApplication:{rows:[{values:{pk_org:{value:"pk_org01",display:"组织01"}}}]}}}}},,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(30)},function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0});var n=a(31);Object.defineProperty(t,"imageScan",{enumerable:!0,get:function(){return n.imageScan}}),Object.defineProperty(t,"imageView",{enumerable:!0,get:function(){return n.imageView}}),Object.defineProperty(t,"imageuploadBrowserByUrl",{enumerable:!0,get:function(){return n.imageuploadBrowserByUrl}}),Object.defineProperty(t,"imageScanWhenNoTask",{enumerable:!0,get:function(){return n.imageScanWhenNoTask}}),Object.defineProperty(t,"imageScanByBillId",{enumerable:!0,get:function(){return n.imageScanByBillId}})},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.imageScanByBillId=exports.imageScanWhenNoTask=exports.imageuploadBrowserByUrl=exports.imageView=exports.imageScan=void 0;var _ncLightappFront=__webpack_require__(6),multiLang={};(0,_ncLightappFront.getMultiLang)({moduleId:1056,domainName:"sscrp",currentLocale:"zh-CN",callback:function(e){multiLang=e}});var util={};!function(e){var t={get:function(e,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.onreadystatechange=function(){(4==a.readyState&&200==a.status||304==a.status)&&t.call(this,a.responseText)},a.send()},post:function(e,t,a){var n=new XMLHttpRequest;n.open("POST",e,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){4!=n.readyState||200!=n.status&&304!=n.status||a.call(this,JSON.parse(n.responseText))},t||(t={}),n.send(t)}};util.ajax=t}(),util.jsonp=function(e,t,a){"function"==typeof t&&(a=t,t={}),t||(t={});var n,r,o=t.prefix||"__jp",l=0,i=t.name||o+l++,s=t.param||"callback",c=null!=t.timeout?t.timeout:6e4,u=encodeURIComponent,d=document.getElementsByTagName("script")[0]||document.head;function f(){n.parentNode&&n.parentNode.removeChild(n),window[i]=null,r&&clearTimeout(r)}return c&&(r=setTimeout(function(){f(),a&&a(new Error("Timeout"))},c)),window[i]=function(e){f(),a&&a(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+s+"="+u(i)).replace("?&","?"),(n=document.createElement("script")).src=e,d.parentNode.insertBefore(n,d),function(){window[i]&&f()}},util.appendHTML=function(e,t){var a=document.createElement("div"),n=document.createDocumentFragment();a.innerHTML=t;for(var r=a.childNodes,o=0,l=r.length;o<l;o++)n.appendChild(r[o].cloneNode(!0));e.appendChild(n)};var w=1440,h=900,l=1440,t=900;function imageScan(e,t){if(e=e){var a={},n=JSON.stringify(e);a.bill=n,a.compressType="",a.compression=!1,a.checkscanway=t,(0,_ncLightappFront.ajax)({url:"/nccloud/web/image/SSCImageUploadAction.do?time="+(new Date).getTime(),data:a,success:function(e){if("true"==e.data.success){var t=e.data.factoryCode;imageuploadBrowserByUrl(t,e.data.ipaddr,"tchzt2"==t?e.data.parastr:encodeURI(encodeURI(e.data.parastr)))}else alert(e.error.message)}})}}function imageScanWhenNoTask(e,t){if(e=e){var a={},n=JSON.stringify(e);a.bill=n,a.compressType="",a.compression=!1,a.checkscanway=t,(0,_ncLightappFront.ajax)({url:"/nccloud/web/image/SSCImageScan4NoTaskAction.do?time="+(new Date).getTime(),data:a,success:function(e){if("true"==e.data.success){var t=e.data.factoryCode;imageuploadBrowserByUrl(t,e.data.ipaddr,"tchzt2"==t?e.data.parastr:encodeURI(encodeURI(e.data.parastr)))}else alert(e.error.message)}})}}function imageScanByBillId(e,t){if(e=e){var a={},n=JSON.stringify(e);a.bill=n,a.compressType="",a.compression=!1,a.checkscanway=t,(0,_ncLightappFront.ajax)({url:"/nccloud/web/image/SSCImageScanByBillIdAction.do?time="+(new Date).getTime(),data:a,success:function(e){if("true"==e.data.success){var t=e.data.factoryCode;imageuploadBrowserByUrl(t,e.data.ipaddr,"tchzt2"==t?e.data.parastr:encodeURI(encodeURI(e.data.parastr)))}else alert(e.error.message)}})}}function imageuploadBrowserByUrl(e,t,a){if("tchzt2"==e)return openTBrowser(a);window.open(a)}function imageView(e,t){if(e){var a={},n=JSON.stringify(e);a.bill=n,a.compressType="",a.compression=!1,(0,_ncLightappFront.ajax)({url:"/nccloud/web/image/SSCImageShowAction.do?time="+(new Date).getTime(),data:a,success:function(e){if("true"==e.data.success){var t=e.data.ipaddr;if(!t||0===Object.keys(t).length)return;var a=encodeURI(encodeURI(e.data.parastr));imageshowBrowserByUrl(e.data.factoryCode,t,a)}else alert(e.error.message)}})}}function imageshowBrowserByUrl(e,a,n){null==window.opener?window.imageBrowserWin=window.open(n,multiLang["1056image-0039"],"width="+w+",height="+h+",left="+l+",top="+t+",toolbar=no, menubar=no, scrollbars=no, resizable=yes, location=no, status=no"):window.imageBrowserWin=window.opener.open(n,multiLang["1056image-0039"],"width="+w+",height="+h+",left="+l+",top="+t+",toolbar=no, menubar=no, scrollbars=no, resizable=yes, location=no, status=no")}var protocol_name="TURLProtocol:";function openTBrowser(dataStr){if(dataStr.indexOf("{")>-1&&dataStr.indexOf("}")>-1){var data=eval("("+dataStr+")");if(null==data.url_opensoft||null==data.url_opensoft||""==data.url_opensoft)return void alert(multiLang["1056image-0035"]);if(data.url_opensoft.indexOf(protocol_name)>-1){var uuid=data.uuid,finalurl=data.url_opensoft;util.appendHTML(document.body,'<iframe billid="image_iframe" style="display:none;" src="'+finalurl+'"></iframe>');var param={};param.uuid=uuid,window.setTimeout(function(){window.onbeforeunload=null,(0,_ncLightappFront.ajax)({url:"/nccloud/web/image/SSCCheckOpenStatusAction.do?time="+(new Date).getTime(),data:param,success:function(e){"N"==e.data&&window.open(data.url_download,"Download","height=400, width=800, top=100, left=100, toolba=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no")}})},1e3*data.time)}}else window.open(dataStr,multiLang["1056image-0039"],"toolbar=no, menubar=no, scrollbars=no, resizable=yes, location=no, status=no")}exports.imageScan=imageScan,exports.imageView=imageView,exports.imageuploadBrowserByUrl=imageuploadBrowserByUrl,exports.imageScanWhenNoTask=imageScanWhenNoTask,exports.imageScanByBillId=imageScanByBillId}])},"object"==_typeof(exports)&&"object"==_typeof(module)?module.exports=t(__webpack_require__(0)):(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(0)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=t)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}).call(this,__webpack_require__(178)(module))},178:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},19:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(){return(this.transtypeData||{}).pk_transtype}function o(){return(this.transtypeData||{}).transtype_name}Object.defineProperty(t,"__esModule",{value:!0}),t.default={init:function(e){e&&e.paramMap&&e.paramMap.transtype&&(this.transtypeData={transtype:e.paramMap.transtype,transtype_name:e.paramMap.transtype_name,pk_transtype:e.paramMap.pk_transtype})},getTranstypeID:r,getTranstypeCode:function(){return(this.transtypeData||{}).transtype},getTranstypeName:o,beforeEdit:function(e,t,a){return e!=t&&e!=a||!this.transtypeData||!this.transtypeData.transtype},setValue:function(e,t,a){var r;this.transtypeData&&this.props.form.setFormItemsValue(e,(n(r={},t,{value:this.transtypeData.pk_transtype,display:this.transtypeData.transtype_name}),n(r,a,{value:this.transtypeData.transtype,display:this.transtypeData.transtype}),r))},beforeSearch:function(e,t,a){if(e&&this.transtypeData&&this.transtypeData.pk_transtype){e.querycondition||(e.querycondition={}),e.querycondition.conditions||(e.querycondition.conditions=[]),e.querycondition.logic||(e.querycondition.logic="and");var n={field:t,datatype:"204",oprtype:"=",value:{firstvalue:this.transtypeData.pk_transtype}};e.querycondition.conditions.push(n)}return e},initQuery:function(e,t,a,n){var r=t[a].items.find(function(e){return e.attrcode==n});r&&this.transtypeData&&(r.disabled=!0,r.isfixedcondition=!0,r.visible=!0)},setQueryDefaultValue:function(e,t,a){this.transtypeData&&e.search.setSearchValByField(t,a,{display:o.call(this),value:r.call(this)})}}},2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLangByResId=t.initLang=void 0;var n=a(0);t.initLang=function(e,t,a,r){e.lang=null,e.inlt=null,(0,n.getMultiLang)({moduleId:t,domainName:a,callback:function(t,a,n){a&&(e.lang=t,e.inlt=n),r&&r()},needInlt:!0})},t.getLangByResId=function(e,t,a){return function(e,t){if(!e)throw(0,n.toast)({color:"danger",content:"请检查代码中this是否能够取到！当前为undifined,位置："+t}),new Error("请检查代码中this是否能够取到！当前为undifined,位置："+t)}(e,t),a?e.inlt?e.inlt.get(t,a)||t:"":e.lang?e.lang[t]||t:""}},207:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rowCopyPasteUtils=void 0;var n=a(0),r=a(6);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t,a,r,l){var c=s(t);!function(e,t,a,r,o){var l=(0,n.deepClone)(a);if(l)if(l instanceof Array)for(var s=l.length,c=0;c<s;c++){var u=l[c].data;i(u,o),e.cardTable.insertRowsAfterIndex(t,u,r+c)}else i(l,o),e.cardTable.insertRowsAfterIndex(t,l,r)}(e,t,this.state[c],a-1,r),this.setState(o({},c,null),l),e.cardTable.selectAllRows(t,!1),e.cardTable.setAllCheckboxAble(t,!0)}function i(e,t){t&&t instanceof Array&&(e instanceof Array?e.forEach(function(e){t.forEach(function(t){e.values[t]={value:null,display:null,scale:-1}})}):t.forEach(function(t){e.values[t]={value:null,display:null,scale:-1}}))}function s(e){var t=void 0;return e==r.SALEDAILY_CONST.CARDTABLEID?t="copyRowDatas":e==r.SALEDAILY_CONST.CARDTABLE_EXP?t="expCopyRowDatas":e==r.SALEDAILY_CONST.CARDTABLE_MEMORA?t="memoraCopyRowDatas":e==r.SALEDAILY_CONST.CARDTABLE_TERM?t="termCopyRowDatas":e==r.SALEDAILY_CONST.CARDTABLE_PAYTERM&&(t="paytermCopyRowDatas"),t}var c={copyRow:function(e,t,a,n){var r=s(t);return this.setState(o({},r,a),n),e.cardTable.setAllCheckboxAble(t,!1),a},copyRows:function(e,t,a){var n=s(t),r=e.cardTable.getCheckedRows(t);if(r&&r.length>0)return this.setState(o({},n,r),a),e.cardTable.setAllCheckboxAble(t,!1),r},pasteRowsToIndex:l,pasteRowsToTail:function(e,t,a,n){var r=e.cardTable.getNumberOfRows(t);l.call(this,e,t,r,a,n)},cancel:function(e,t,a){var n=s(t);this.setState(o({},n,null),a),e.cardTable.selectAllRows(t,!1),e.cardTable.setAllCheckboxAble(t,!0)},getEditButtonsByTableId:function(e){return e==r.SALEDAILY_CONST.CARDTABLEID&&r.CARD_BODY_BUTTONS.EDIT||e==r.SALEDAILY_CONST.CARDTABLE_EXP&&r.CARD_BODY_BUTTONS.EXP_EDIT||e==r.SALEDAILY_CONST.CARDTABLE_MEMORA&&r.CARD_BODY_BUTTONS.MEMORA_EDIT||e==r.SALEDAILY_CONST.CARDTABLE_TERM&&r.CARD_BODY_BUTTONS.TERM_EDIT||e==r.SALEDAILY_CONST.CARDTABLE_PAYTERM&&r.CARD_BODY_BUTTONS.PAYTERM_EDIT||r.CARD_BODY_BUTTONS.EDIT},getCopyingButtonsByTableId:function(e){return e==r.SALEDAILY_CONST.CARDTABLEID&&r.CARD_BODY_BUTTONS.EDIT_COPYING||e==r.SALEDAILY_CONST.CARDTABLE_EXP&&r.CARD_BODY_BUTTONS.EXP_EDIT_COPYING||e==r.SALEDAILY_CONST.CARDTABLE_MEMORA&&r.CARD_BODY_BUTTONS.MEMORA_EDIT_COPYING||e==r.SALEDAILY_CONST.CARDTABLE_TERM&&r.CARD_BODY_BUTTONS.TERM_EDIT_COPYING||e==r.SALEDAILY_CONST.CARDTABLE_PAYTERM&&r.CARD_BODY_BUTTONS.PAYTERM_EDIT_COPYING||r.CARD_BODY_BUTTONS.EDIT_COPYING},getCopyDataNameByTableId:s};t.rowCopyPasteUtils=c},208:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConfig=void 0;var n=a(6);t.getConfig=function(){var e=new Map;return e.set("pk_ct_sale_b",n.SALEDAILY_CONST.CARDTABLEID),e.set("pk_ct_sale_term",n.SALEDAILY_CONST.CARDTABLE_TERM),e.set("pk_ct_sale_exec",n.SALEDAILY_CONST.CARDTABLE_EXEC),e.set("pk_ct_sale_exp",n.SALEDAILY_CONST.CARDTABLE_EXP),e.set("pk_ct_sale_memora",n.SALEDAILY_CONST.CARDTABLE_MEMORA),e.set("pk_ct_sale_change",n.SALEDAILY_CONST.CARDTABLE_CHANGE),e.set("pk_ct_sale_payterm",n.SALEDAILY_CONST.CARDTABLE_PAYTERM),{headAreaId:n.SALEDAILY_CONST.FORMID,bodyIdAndPkMap:e,baseBack:!0}}},209:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryZ3TransType=void 0;var n=a(0),r=a(6);t.queryZ3TransType=function(e,t){var a=this,o=this.z3trantypevo;return new Promise(function(l,i){if("{}"!=JSON.stringify(o||{})&&t)l(o);else{var s={pk:e};(0,n.ajax)({url:r.SALEDAILY_URL.queryTranstypeBypk,data:s,success:function(e){e.success&&e.data&&(l(e.data),a.z3trantypevo=e.data)}})}})}},21:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPsndocShowLeavePower=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.isShowDimission=t},t.setRefShowDisabledData=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.isShowDisabledData=t,e.unitPropsExtend={isShowDisabledData:t,isHasDisabledData:t}}},210:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleCardTable=t.addRowForModify=t.setCardCompareData=t.setCardPage=t.clearCardData=t.cardBodyAreas=void 0;var n,r=a(6),o=a(7),l=a(162),i=(n=l)&&n.__esModule?n:{default:n},s=a(50);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var u=[r.SALEDAILY_CONST.CARDTABLEID,r.SALEDAILY_CONST.CARDTABLE_CHANGE,r.SALEDAILY_CONST.CARDTABLE_EXEC,r.SALEDAILY_CONST.CARDTABLE_EXP,r.SALEDAILY_CONST.CARDTABLE_MEMORA,r.SALEDAILY_CONST.CARDTABLE_PAYTERM,r.SALEDAILY_CONST.CARDTABLE_TERM];t.cardBodyAreas=u,t.clearCardData=function(e){e.form.EmptyAllFormValue(r.SALEDAILY_CONST.FORMID),u.forEach(function(t){e.cardTable.setTableData(t,{rows:[]})}),e.initMetaByPkorg(r.FIELDS.pk_org_v)},t.setCardPage=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.beforeUpdatePage();var n=null;t.head&&t.head.head&&(e.form.setAllFormValue(c({},r.SALEDAILY_CONST.FORMID,t.head.head)),n=t.head.head.rows[0].values[r.FIELDS.pk_ct_sale].value),t.bodys&&u.forEach(function(n){t.bodys[n]?(a?t.bodys[n]=e.cardTable.updateDataByRowId(n,t.bodys[n],!0):e.cardTable.setTableData(n,t.bodys[n],null,!0,!0),e.cardTable.selectAllRows(n,!1)):e.cardTable.setTableData(n,{rows:[]})}),(0,o.updateCacheData)(e,r.FIELDS.pk_ct_sale,n,t,r.SALEDAILY_CONST.FORMID,DATASOURCECACHE.dataSourceCacheKey),i.default.call(this,e),e.updatePage(r.SALEDAILY_CONST.FORMID,u)},t.setCardCompareData=function(e,t,a){e.beforeUpdatePage(),(0,s.updateExtBillDataForCompareByPk)(e,t,a),i.default.call(this,e),(0,o.updateCacheData)(e,r.FIELDS.pk_ct_sale,e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,r.FIELDS.pk_ct_sale).value,t,r.SALEDAILY_CONST.FORMID,DATASOURCECACHE.dataSourceCacheKey),e.updatePage(r.SALEDAILY_CONST.FORMID,u)},t.addRowForModify=function(e){var t=e.getUrlParam("status"),a=e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,r.FIELDS.fstatusflag).value;if(t==UISTATUS.modify&&a==FSTATUSFLAG.validate){var n=parseInt(e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,r.FIELDS.version).value)+1;e.form.setFormItemsValue(r.SALEDAILY_CONST.FORMID,c({},r.FIELDS.version,{value:n}));var o=e.cardTable.getNumberOfRows(r.SALEDAILY_CONST.CARDTABLE_CHANGE);e.cardTable.addRow(r.SALEDAILY_CONST.CARDTABLE_CHANGE,o,c({},r.FIELDS.vchangecode,{value:n}),!0)}},t.toggleCardTable=function(e){e.cardTable.toggleCardTable(r.SALEDAILY_CONST.CARDTABLEID,!0),e.cardTable.toggleCardTable([r.SALEDAILY_CONST.CARDTABLE_CHANGE,r.SALEDAILY_CONST.CARDTABLE_EXEC,r.SALEDAILY_CONST.CARDTABLE_EXP,r.SALEDAILY_CONST.CARDTABLE_MEMORA,r.SALEDAILY_CONST.CARDTABLE_TERM],!1)}},211:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTemplate=void 0;var n,r=a(212),o=(n=r)&&n.__esModule?n:{default:n};t.initTemplate=o.default},212:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.createUIDom({pagecode:"400600200_payplan"},function(t){if(t&&t.template){var a=t.template;e.meta.setMeta(a)}})}},213:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.REF4310_CONST={Ref4310DataSource:"ref4310DataSource",formId:"head",tableId:"quotation_b",transPageId:"400600100_4310toZ3",singleTableId:"quotation_view",appcode:"400600100",searchId:"400600100_search",destPageUrl:"/card",ref4310Card:"/so/so/salequotation/main/index.html#/card",serachUrl:"/nccloud/ct/saledaily/queryforz3return.do",pk_head:"pk_salequotation",pk_body:"pk_salequotation_b",vbillcode:"vbillcode"}},216:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderCompleteEvent=void 0;var n=a(12);t.renderCompleteEvent=function(e,t,a,r){n.transtypeUtils.setQueryDefaultValue.call(this,this.props,e,r);var o=this.props.search.getSearchValByField(e,t),l=null;o&&o.value&&o.value.firstvalue&&(l=o.value.firstvalue.split(",").map(function(e){return{refpk:e}})),a&&a.call(this,t,l)}},23:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryZ3TransType=t.vfreeBeforeEvent=t.getConfig=t.rowCopyPasteUtils=void 0;var n,r=a(207),o=a(208),l=a(161),i=(n=l)&&n.__esModule?n:{default:n},s=a(209);t.rowCopyPasteUtils=r.rowCopyPasteUtils,t.getConfig=o.getConfig,t.vfreeBeforeEvent=i.default,t.queryZ3TransType=s.queryZ3TransType},26:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearTransferCache=t.rewriteTransferSrcBids=t.updateCacheDataForList=t.deleteCacheDataForList=t.getNextId=t.getCurrentLastId=t.getDefData=t.setDefData=t.hasListCache=t.addCacheData=t.getCacheDataByPk=t.deleteCacheData=t.updateCacheData=t.changeUrlParam=void 0;var n=a(0);t.changeUrlParam=function(e,t){e.setUrlParam(t)},t.updateCacheData=function(e,t,a,r,o,l){n.cardCache.addCache;var i=n.cardCache.updateCache;n.cardCache.getCacheById,i(t,a,r,o,l)},t.deleteCacheData=function(e,t,a,r){var o=n.cardCache.deleteCacheById;n.cardCache.getNextId,o(t,a,r)},t.getCacheDataByPk=function(e,t,a){return(0,n.cardCache.getCacheById)(a,t)},t.addCacheData=function(e,t,a,r,o,l){(0,n.cardCache.addCache)(a,r,o,l)},t.hasListCache=function(e,t){return e.table.hasCacheData(t)},t.setDefData=function(e,t,a){(0,n.cardCache.setDefData)(t,e,a)},t.getDefData=function(e,t){return(0,n.cardCache.getDefData)(t,e)},t.getCurrentLastId=function(e){return(0,n.cardCache.getCurrentLastId)(e)},t.getNextId=function(e,t,a){return(0,n.cardCache.getNextId)(t,a)},t.deleteCacheDataForList=function(e,t,a){a instanceof Array?a.forEach(function(a){e.table.deleteCacheId(t,a)}):e.table.deleteCacheId(t,a)},t.updateCacheDataForList=function(e,t,a,n,r){var o=n.sucessVOs;if(null!=o&&0!=o.length){var l=[];if(null==r){var i={};e.table.getCheckedRows(t).forEach(function(e){var t=e.data.values[a].value;i[t]=e.index}),o[t].rows.forEach(function(e,t){var n=e.values[a].value,r={index:i[n],data:{values:e.values}};l.push(r)})}else{var s={index:r,data:{values:o[t].rows[0].values}};l.push(s)}e.table.updateDataByIndexs(t,l)}},t.rewriteTransferSrcBids=function(e,t,a){if(a){var n=[];a.forEach(function(e){n.push(e.values[t].value)}),e.transferTable.setSavedTransferTableDataPk(n)}},t.clearTransferCache=function(e,t){e.transferTable.deleteCache(t)}},27:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e}}},29:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buttonController=void 0;var n,r=a(852),o=(n=r)&&n.__esModule?n:{default:n};t.buttonController=o.default},3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showQuitTransferWarningDialog=t.showBackWarningDialog=t.showBatchOprReturnMessage=t.showQueryResultInfoForNoPage=t.showSaveInfo=t.showRefreshInfo=t.showNoQueryResultInfo=t.showHasQueryResultInfo=t.showChangeOrgDialog=t.showDeleteDialog=t.showSingleDeleteDialog=t.showCancelDialog=t.showBatchOperateInfo=t.showBatchOprMessage=t.showWarningDialog=t.showErrorDialog=t.showInfoDialog=t.showSuccessDialog=t.showInfoInfo=t.showErrorInfo=t.showWarningInfo=t.showSuccessInfo=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0);var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lang=null,this.inlt=null,console.log("LangContainer初始化"),(0,r.getMultiLang)({moduleId:"4001pubmessage",domainName:"scmpub",callback:this.init.bind(this),needInlt:!0})}return n(e,[{key:"init",value:function(e,t,a){t&&(this.lang=e,this.inlt=a)}},{key:"getLangByResId",value:function(e,t){return t?this.inlt.get(e,t)||e:this.lang&&this.lang[e]||e}}]),e}());function l(e,t,a){s(e,t,a)}function i(e,t,a){s(e,t,a,"warning")}function s(e,t,a,n,o,l,i,s,c){(0,r.toast)({duration:a,color:n,title:e,content:t,groupOperation:o,TextArr:l,groupOperationMsg:i,onExpand:s,onClose:c})}function c(e,t){u(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"warning")}function u(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3];(0,r.promptBox)({color:n,title:e,content:t,noFooter:a.noFooter,noCancelBtn:a.noCancelBtn,beSureBtnName:a.beSureBtnName,cancelBtnName:a.cancelBtnName,beSureBtnClick:a.beSureBtnClick,cancelBtnClick:a.cancelBtnClick,closeBtnClick:a.closeBtnClick,closeByClickBackDrop:a.closeByClickBackDrop})}function d(){i(null,o.getLangByResId("4001PUBMESSAGE-000016"))}t.showSuccessInfo=l,t.showWarningInfo=i,t.showErrorInfo=function(e,t){s(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"infinity","danger")},t.showInfoInfo=function(e,t,a){s(e,t,a,"info")},t.showSuccessDialog=function(e,t){u(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})},t.showInfoDialog=function(e,t){u(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"info")},t.showErrorDialog=function(e,t){u(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"danger")},t.showWarningDialog=c,t.showBatchOprMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.getLangByResId("4001PUBMESSAGE-000003"),t=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=t.failedNum,s=t.sucessNum;if(0==i)l(o.getLangByResId("4001PUBMESSAGE-000018",{0:n}),o.getLangByResId("4001PUBMESSAGE-000022",{0:t.sucessNum}));else if(0==s){e=o.getLangByResId("4001PUBMESSAGE-000019",{0:n});var c=o.getLangByResId("4001PUBMESSAGE-000020",{0:t.failedNum,1:t.failedNum});(0,r.toast)({duration:"infinity",color:"danger",title:e,content:c,groupOperation:!0,TextArr:[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],groupOperationMsg:t.errorMessages,onExpand:a.onExpand,onClose:a.onClose})}else{e=o.getLangByResId("4001PUBMESSAGE-000019",{0:n});var u=o.getLangByResId("4001PUBMESSAGE-000021",{0:Number(t.sucessNum)+Number(t.failedNum),1:t.sucessNum,2:t.failedNum});(0,r.toast)({duration:"infinity",color:"danger",title:e,content:u,groupOperation:!0,TextArr:[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],groupOperationMsg:t.errorMessages,onExpand:a.onExpand,onClose:a.onClose})}},t.showBatchOperateInfo=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};s(e,t,"infinity","danger",!0,[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],a,n.onExpand,n.onClose)},t.showCancelDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(o.getLangByResId("4001PUBMESSAGE-000007"),o.getLangByResId("4001PUBMESSAGE-000008"),e)},t.showSingleDeleteDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(o.getLangByResId("4001PUBMESSAGE-000009"),o.getLangByResId("4001PUBMESSAGE-000010"),e)},t.showDeleteDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(o.getLangByResId("4001PUBMESSAGE-000009"),o.getLangByResId("4001PUBMESSAGE-000011"),e)},t.showChangeOrgDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(o.getLangByResId("4001PUBMESSAGE-000012"),o.getLangByResId("4001PUBMESSAGE-000013"),e)},t.showHasQueryResultInfo=function(e){l(null,e?o.getLangByResId("4001PUBMESSAGE-000015",{1:e}):o.getLangByResId("4001PUBMESSAGE-000014"))},t.showNoQueryResultInfo=d,t.showRefreshInfo=function(){l(o.getLangByResId("4001PUBMESSAGE-000017"))},t.showSaveInfo=function(){l(o.getLangByResId("4001PUBMESSAGE-000023"))},t.showQueryResultInfoForNoPage=function(e){e?l(null,o.getLangByResId("4001PUBMESSAGE-000015",{1:e})):d()},t.showBatchOprReturnMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.getLangByResId("4001PUBMESSAGE-000003"),t=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i="",s=t.failedNum,c=t.sucessNum;if(0==s)l(o.getLangByResId("4001PUBMESSAGE-000018",{0:n}),o.getLangByResId("4001PUBMESSAGE-000022",{0:t.sucessNum})),i=o.getLangByResId("4001PUBMESSAGE-000022",{0:t.sucessNum});else if(0==c){e=o.getLangByResId("4001PUBMESSAGE-000019",{0:n});var u=o.getLangByResId("4001PUBMESSAGE-000020",{0:t.failedNum,1:t.failedNum});(0,r.toast)({duration:"infinity",color:"danger",title:e,content:u,groupOperation:!0,TextArr:[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],groupOperationMsg:t.errorMessages,onExpand:a.onExpand,onClose:a.onClose,customBtn:a.customBtn}),t.errorMessages.forEach(function(e){i+=e})}else{e=o.getLangByResId("4001PUBMESSAGE-000019",{0:n});var d=o.getLangByResId("4001PUBMESSAGE-000021",{0:Number(t.sucessNum)+Number(t.failedNum),1:t.sucessNum,2:t.failedNum});(0,r.toast)({duration:"infinity",color:"danger",title:e,content:d,groupOperation:!0,TextArr:[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],groupOperationMsg:t.errorMessages,onExpand:a.onExpand,onClose:a.onClose,customBtn:a.customBtn}),t.errorMessages.forEach(function(e){i+=e})}return i},t.showBackWarningDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(o.getLangByResId("4001PUBMESSAGE-000024"),o.getLangByResId("4001PUBMESSAGE-000025"),e,"warning")},t.showQuitTransferWarningDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(o.getLangByResId("4001PUBMESSAGE-000026"),o.getLangByResId("4001PUBMESSAGE-000027"),e,"warning")}},30:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=a(0);a(31);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}t.default={resetItem:function(e,t,a,o,i,s){var c=e.meta.getMeta()[o].items.find(function(e){return e.attrcode==i});if("refer"==c.itemtype){var u=c.queryCondition;"function"!=typeof u||c.filterCon||(c.filterCon=u),e.cardTable.setQueryCondition(o,l({},i,function(e){"function"==typeof u?u=r({},u(e)):"object"===(void 0===u?"undefined":n(u))&&(u=r({},c.filterCon(e)));var d="TreeRefActionExt";return"grid"!=e.refType&&"gridTree"!=e.refType||(d="GridRefActionExt"),u.appcode=t,u.pagecode=a,u.areacode=o,u.data=JSON.stringify(l({},o,{areacode:o,rows:[s]})),u.defineField=i,u[d]="nccloud.web.scmpub.pub.marasst.MarAsstDefaultRef",u.UsualGridRefActionExt="nccloud.web.scmpub.pub.marasst.MarAsstDefaultRef",u}))}},afterEdit:function(e,t,a,n,r,l,i,s){var c={appcode:t,pagecode:a,areacode:n,controlField:r,controlValue:(i.values[r]||{}).value,materialvid:(i.values[l]||{}).value};(0,o.ajax)({url:"/nccloud/scmpub/pub/marasstAfterEdit.do",data:c,async:!1,mode:"normal",success:function(t){if(console.log(t,"hj"),t.data&&t.data.data)for(var a in t.data.data){var r=t.data.data[a];if(r&&0!=r.length){var o=(i.values[a]||{}).value;r.includes(o)||e.cardTable.setValByKeyAndIndex(n,s,a,{value:null,display:null,scale:-1})}else e.cardTable.setValByKeyAndIndex(n,s,a,{value:null,display:null,scale:-1})}}})},resetGridItem:function(e,t,a,o,i,s){var c=e.meta.getMeta()[o].items.find(function(e){return e.attrcode==i});if("refer"==c.itemtype){var u=c.queryCondition;c.queryCondition=function(e){u=r({},"function"==typeof u?u(e):"object"===(void 0===u?"undefined":n(u))?u:{});var c="TreeRefActionExt";return"grid"!=e.refType&&"gridTree"!=e.refType||(c="GridRefActionExt"),u.appcode=t,u.pagecode=a,u.areacode=o,u.data=JSON.stringify(l({},o,{areacode:o,rows:[s]})),u.defineField=i,u[c]="nccloud.web.scmpub.pub.marasst.MarAsstDefaultRef",u.UsualGridRefActionExt="nccloud.web.scmpub.pub.marasst.MarAsstDefaultRef",u}}},resetViewItem:function(e,t,a,o,i,s){var c=e.meta.getMeta()[o].items.find(function(e){return e.attrcode==i});if("refer"==c.itemtype){var u=c.queryCondition;"function"!=typeof u||c.filterCon||(c.filterCon=u),e.cardTable.setQueryCondition(o,l({},i,function(e){"function"==typeof u?u=r({},u(e)):"object"===(void 0===u?"undefined":n(u))&&(u=r({},c.filterCon(e)));var d="TreeRefActionExt";return"grid"!=e.refType&&"gridTree"!=e.refType||(d="GridRefActionExt"),u.appcode=t,u.pagecode=a,u.areacode=o,u.data=JSON.stringify(l({},o,{areacode:o,rows:[s]})),u.defineField=i,u[d]="nccloud.web.scmpub.pub.marasst.ViewMarAsstDefaultRef",u.UsualGridRefActionExt="nccloud.web.scmpub.pub.marasst.ViewMarAsstDefaultRef",u}))}}}},31:function(e,t,a){"use strict";t.decode=t.parse=a(32),t.encode=t.stringify=a(33)},310:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a={qryinfo:[{pk:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_ct_sale").value,ts:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"ts").value}]};(0,n.ajax)({pageid:r.SALEDAILY_CONST.CARDPAGEID,url:r.SALEDAILY_URL.CARD_MODIFY_URL,data:a,success:function(a){var n=a.success;a.data;n&&(e.beforeUpdatePage(),e.setUrlParam({status:r.SALEDAILY_CONST.STATUS_MODIFY}),e.cardTable.selectAllRows(r.SALEDAILY_CONST.CARDTABLEID,!1),o.buttonController.call(t,e),l.call(t,e),e.form.setFormItemsDisabled(r.SALEDAILY_CONST.FORMID,{ctrantypeid:!0}),e.updatePage(r.SALEDAILY_CONST.FORMID,r.CARDTABLEAREAIDS))}})};var n=a(0),r=a(6),o=a(17);a(50),a(23);function l(e){var t=e.getUrlParam("status"),a=e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"fstatusflag").value;if("modify"==t&&1==a){var n=parseInt(e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"version").value)+1;e.form.setFormItemsValue(r.SALEDAILY_CONST.FORMID,{version:{value:n}});var o=e.cardTable.getNumberOfRows(r.SALEDAILY_CONST.CARDTABLE_CHANGE);e.cardTable.addRow(r.SALEDAILY_CONST.CARDTABLE_CHANGE,o,{vchangecode:{value:n}},!0),e.cardTable.toggleCardTable(r.SALEDAILY_CONST.CARDTABLE_CHANGE,!0)}}},311:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(this.props.beforeUpdatePage(),e.form.EmptyAllFormValue(l.SALEDAILY_CONST.FORMID),e.cardTable.setTableData(l.SALEDAILY_CONST.CARDTABLEID,{rows:[]}),e.cardTable.setTableData(l.SALEDAILY_CONST.CARDTABLE_CHANGE,{rows:[]}),e.cardTable.setTableData(l.SALEDAILY_CONST.CARDTABLE_EXEC,{rows:[]}),e.cardTable.setTableData(l.SALEDAILY_CONST.CARDTABLE_EXP,{rows:[]}),e.cardTable.setTableData(l.SALEDAILY_CONST.CARDTABLE_MEMORA,{rows:[]}),e.cardTable.setTableData(l.SALEDAILY_CONST.CARDTABLE_PAYTERM,{rows:[]}),e.cardTable.setTableData(l.SALEDAILY_CONST.CARDTABLE_TERM,{rows:[]}),e.getUrlParam("status")==l.SALEDAILY_CONST.STATUS_ADD&&"copy"!=e.getUrlParam("type")){e.initMetaByPkorg("pk_org_v");var t=(0,i.getDefData)(l.SALEDAILY_CONST.DATA_SOURCE,"pk_org_v");t&&t.value&&(0,u.mainOrgEdit)(e,l.SALEDAILY_CONST.FORMID,"pk_org_v",{value:t.value},c.default.bind(this,e,l.SALEDAILY_CONST.FORMID,"pk_org_v",t)),d.call(this,e),o.buttonController.call(this,e)}else r.cardQuery_BtnClick.call(this,e);this.props.updatePage(l.SALEDAILY_CONST.FORMID,l.CARDTABLEAREAIDS)};a(0);var n,r=a(55),o=a(17),l=a(6),i=a(7),s=a(312),c=(n=s)&&n.__esModule?n:{default:n},u=a(800);function d(e){var t=e.getUrlParam("transtypecode");if(t){var a=e.getUrlParam("billtypename"),n=e.getUrlParam("billtypeid");e.form.setFormItemsValue(l.SALEDAILY_CONST.FORMID,{ctrantypeid:{value:n,display:a},vtrantypecode:{value:t,display:t}}),(0,i.setDefData)(l.SALEDAILY_CONST.transTypeCacheKey,"transtypecode",t),(0,i.setDefData)(l.SALEDAILY_CONST.transTypeCacheKey,"billtypeid",n),(0,i.setDefData)(l.SALEDAILY_CONST.transTypeCacheKey,"billtypename",a),n&&c.default.call(this,e,l.SALEDAILY_CONST.FORMID,"ctrantypeid",{value:n})}}},312:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n,s,u){if("pk_org_v"==a){if(!n.value)return(0,o.showChangeOrgDialog)({beSureBtnClick:_.bind(this,e),cancelBtnClick:function(){e.form.setFormItemsValue(t,{pk_org_v:{value:s.value,display:s.display}})}}),void c.default.call(this,e);if(n.value){var d=(0,i.createExtBillHeadAfterEventData)(e,r.SALEDAILY_CONST.CARDPAGEID,r.SALEDAILY_CONST.FORMID,l.cardBodyAreas,t,a,n);if(d.card.bodys=[],e.resMetaAfterPkorgEdit(),s&&s.value)return void(0,o.showChangeOrgDialog)({beSureBtnClick:L.bind(this,e,d,a),cancelBtnClick:function(){e.form.setFormItemsValue(t,{pk_org_v:{value:s.value,display:s.display}})}});L.call(this,e,d,a)}}else if("pk_customer"==a||"personnelid"==a||"subscribedate"==a||"invallidate"==a||"valdate"==a||"ctrantypeid"==a||"nglobalexchgrate"==a||"nexchangerate"==a||"ngroupexchgrate"==a||"corigcurrencyid"==a){var f=(0,i.createExtBillHeadAfterEventData)(e,r.SALEDAILY_CONST.CARDPAGEID,r.SALEDAILY_CONST.FORMID,l.cardBodyAreas,t,a,n);L.call(this,e,f,a)}else if("pk_payterm"==a){for(var A=e.cardTable.getAllRows(r.SALEDAILY_CONST.CARDTABLE_PAYTERM),p=[],E=[],D=A.length,S=0;S<D;S++)"3"!=A[S].status&&(E.push(S),p.push(A[S].rowid));if(e.cardTable.delRowsByIndex(r.SALEDAILY_CONST.CARDTABLE_PAYTERM,E),n.value){var C=(0,i.createExtBillHeadAfterEventData)(e,r.SALEDAILY_CONST.CARDPAGEID,r.SALEDAILY_CONST.FORMID,l.cardBodyAreas,t,a,n);L.call(this,e,C,a)}else c.default.call(this,e)}};var n=a(0),r=a(6),o=a(3),l=a(210),i=a(43),s=a(2),c=A(a(162)),u=A(a(313)),d=a(12),f=a(26);function A(e){return e&&e.__esModule?e:{default:e}}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _(e){l.clearCardData.call(this,e);var t=(0,f.getDefData)(r.SALEDAILY_CONST.transTypeCacheKey,"transtypecode");if(t){var a,n=(0,f.getDefData)(r.SALEDAILY_CONST.transTypeCacheKey,"billtypeid"),o=(0,f.getDefData)(r.SALEDAILY_CONST.transTypeCacheKey,"billtypename");e.form.setFormItemsValue(r.SALEDAILY_CONST.FORMID,(p(a={},r.FIELDS.ctrantypeid,{value:n,display:o}),p(a,r.FIELDS.vtrantypecode,{value:t,display:t}),a))}}function L(e,t,a){var A=this;(0,n.ajax)({url:r.SALEDAILY_URL.CARD_HEAD_AFTER_URL,data:t,async:!1,success:function(n){if(n.data){if(A.props.beforeUpdatePage(),"pk_payterm"==a&&(n.data.extbillcard.bodys[r.SALEDAILY_CONST.CARDTABLE_PAYTERM]&&n.data.extbillcard.bodys[r.SALEDAILY_CONST.CARDTABLE_PAYTERM].rows.map(function(t,a){t.status=2,t.values[r.FIELDS.pk_ct_sale].value=e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,r.FIELDS.pk_ct_sale).value,e.cardTable.insertRowsAfterIndex(r.SALEDAILY_CONST.CARDTABLE_PAYTERM,t)}),n.data.extbillcard.bodys[r.SALEDAILY_CONST.CARDTABLE_PAYTERM]=null),(0,i.processExtBillCardHeadEditResult)(e,r.SALEDAILY_CONST.FORMID,l.cardBodyAreas,n.data),"pk_org_v"==a){l.cardBodyAreas.forEach(function(t){e.cardTable.setTableData(t,{rows:[]})}),d.transtypeUtils.setValue.call(A,r.SALEDAILY_CONST.FORMID,r.FIELDS.ctrantypeid,r.FIELDS.vtrantypecode);var _=(0,f.getDefData)(r.SALEDAILY_CONST.transTypeCacheKey,"transtypecode");if(_){var L,D=(0,f.getDefData)(r.SALEDAILY_CONST.transTypeCacheKey,"billtypeid"),S=(0,f.getDefData)(r.SALEDAILY_CONST.transTypeCacheKey,"billtypename");e.form.setFormItemsValue(r.SALEDAILY_CONST.FORMID,(p(L={},r.FIELDS.ctrantypeid,{value:D,display:S}),p(L,r.FIELDS.vtrantypecode,{value:_,display:_}),L))}u.default.call(A,e,r.SALEDAILY_CONST.CARDTABLEID),E.call(A,e)}if(n.data.userObject.errMsg){var C=t.oldvalue.value;A.props.form.setFormItemsValue(r.SALEDAILY_CONST.FORMID,p({},a,{value:C})),(0,o.showWarningInfo)((0,s.getLangByResId)(A,"4006SALEDAILY-000045"),n.data.userObject.errMsg)}void 0!==n.data.userObject.showPayTerm&&A.setState({showPayTerm:n.data.userObject.showPayTerm}),c.default.call(A,e),A.props.updatePage(r.SALEDAILY_CONST.FORMID,r.CARDTABLEAREAIDS)}}})}function E(e){e.cardTable.addRow(r.SALEDAILY_CONST.CARDTABLE_CHANGE,void 0,{vchangecode:{value:1},vmemo:{value:(0,s.getLangByResId)(this,"4006SALEDAILY-000086")}},!0)}},313:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this;if(t==o.SALEDAILY_CONST.CARDTABLEID){var n=o.SALEDAILY_CONST.CARDTABLEID,s=[o.SALEDAILY_CONST.CARDTABLEID,o.SALEDAILY_CONST.CARDTABLE_CHANGE,o.SALEDAILY_CONST.CARDTABLE_EXEC,o.SALEDAILY_CONST.CARDTABLE_EXP,o.SALEDAILY_CONST.CARDTABLE_MEMORA,o.SALEDAILY_CONST.CARDTABLE_PAYTERM,o.SALEDAILY_CONST.CARDTABLE_TERM],d=e.createExtCardData(o.SALEDAILY_CONST.CARDPAGEID,o.SALEDAILY_CONST.FORMID,s);(0,r.ajax)({url:o.SALEDAILY_URL.CARD_ADDLINE_URL,data:d,success:function(t){var r=t.success,o=t.data;r&&o&&o.bodys&&(e.cardTable.addRow(n,void 0,o.bodys.saledaily_base.rows[0].values,!1),i.RownoUtils.setRowNo(e,n),l.buttonController.call(a,e))}})}else{var f,A=e.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"pk_org"),p=e.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"pk_org_v"),_=e.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"pk_group");e.cardTable.addRow(t,void 0,(u(f={},"pk_org",A),u(f,"pk_org_v",p),u(f,"pk_group",_),f)),i.RownoUtils.setRowNo(e,t),l.buttonController.call(this,e),c.default.call(this,t)}};var n,r=a(0),o=a(6),l=a(17),i=a(44),s=a(78),c=(n=s)&&n.__esModule?n:{default:n};function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},314:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n,s,f){var A="",p="",_="",L=!0;switch(t){case"Freeze":A=(0,o.getLangByResId)(this,"4006SALEDAILY-000002"),p=(0,o.getLangByResId)(this,"4006SALEDAILY-000003"),_=(0,o.getLangByResId)(this,"4006SALEDAILY-000004");break;case"UnFreeze":A=(0,o.getLangByResId)(this,"4006SALEDAILY-000005"),p=(0,o.getLangByResId)(this,"4006SALEDAILY-000006"),_=(0,o.getLangByResId)(this,"4006SALEDAILY-000007");break;case"End":if(A=(0,o.getLangByResId)(this,"4006SALEDAILY-000008"),_=(0,o.getLangByResId)(this,"4006SALEDAILY-000010"),p=(0,o.getLangByResId)(this,"4006SALEDAILY-000009"),f&&f.invallidate&&f.invallidate.value){var E=f.invallidate.value,D=(0,i.getBusinessInfo)().businessDate;E.split(" ")[0]!=D.split(" ")[0]?p=(0,o.getLangByResId)(this,"4006SALEDAILY-000084"):L=!1}break;case"CTUnEnd":A=(0,o.getLangByResId)(this,"4006SALEDAILY-000011"),p=(0,o.getLangByResId)(this,"4006SALEDAILY-000012"),_=(0,o.getLangByResId)(this,"4006SALEDAILY-000013");break;case"CancelValidate":A=(0,o.getLangByResId)(this,"4006SALEDAILY-000014"),p=(0,o.getLangByResId)(this,"4006SALEDAILY-000015"),_=(0,o.getLangByResId)(this,"4006SALEDAILY-000016");break;case"Validate":if(A=(0,o.getLangByResId)(this,"4006SALEDAILY-000017"),_=(0,o.getLangByResId)(this,"4006SALEDAILY-000019"),p=(0,o.getLangByResId)(this,"4006SALEDAILY-000018"),f&&f.valdate&&f.valdate.value){var S=f.valdate.value,C=(0,i.getBusinessInfo)().businessDate;S.split(" ")[0]!=C.split(" ")[0]?p=(0,o.getLangByResId)(this,"4006SALEDAILY-000066"):L=!1}}(0,l.showWarningDialog)(A,p,{beSureBtnClick:function(e){var l=this;this.closeReason="",L?e.modal.show("ScriptActionDlg",{title:(0,o.getLangByResId)(this,"4006SALEDAILY-000020"),content:React.createElement(c.default,{changeData:function(e){l.closeReason=e},title:_}),leftBtnName:(0,o.getLangByResId)(this,"4006SALEDAILY-000021"),rightBtnName:(0,o.getLangByResId)(this,"4006SALEDAILY-000022"),beSureBtnClick:r.onReasonBtnClick.bind(this,e,t,a,n,s),closeModalEve:u.bind(this),cancelBtnClick:d.bind(this,e,t,a,n,s),size:"sm"}):r.onReasonBtnClick.call(this,e,t,a,n,s)}.bind(this,e)})};var n,r=a(103),o=a(2),l=a(3),i=a(0),s=a(71),c=(n=s)&&n.__esModule?n:{default:n};function u(){this.props.modal.close("ScriptActionDlg")}function d(e,t,a,n,o){this.closeReason="",r.onReasonBtnClick.call(this,e,t,a,n,o)}},315:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this;(0,r.ajax)({url:n.REF4310_CONST.serachUrl,data:t,success:function(t){var r=t.success,i=t.data;r&&(t.formulamsg&&t.formulamsg instanceof Array&&t.formulamsg.length>0&&e.dealFormulamsg(t.formulamsg),a.props.transferTable.setTransferTableValue(n.REF4310_CONST.formId,n.REF4310_CONST.tableId,i,n.REF4310_CONST.pk_head,n.REF4310_CONST.pk_body),o.btn_Controller.call(a,e),(0,l.showQueryResultInfoForNoPage)(i?i.length:null),a.setState({ntotalnum:0,ntotalmny:0}))}})};var n=a(51),r=a(0),o=a(163),l=a(3)},316:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.search_afterEvent=t.referEvent=void 0;var n=o(a(898)),r=o(a(900));function o(e){return e&&e.__esModule?e:{default:e}}t.referEvent=n.default,t.search_afterEvent=r.default},32:function(e,t,a){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,a,o){t=t||"&",a=a||"=";var l={};if("string"!=typeof e||0===e.length)return l;var i=/\+/g;e=e.split(t);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var u=0;u<c;++u){var d,f,A,p,_=e[u].replace(i,"%20"),L=_.indexOf(a);L>=0?(d=_.substr(0,L),f=_.substr(L+1)):(d=_,f=""),A=decodeURIComponent(d),p=decodeURIComponent(f),n(l,A)?r(l[A])?l[A].push(p):l[A]=[l[A],p]:l[A]=p}return l};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},33:function(e,t,a){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,a,i){return t=t||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e?o(l(e),function(l){var i=encodeURIComponent(n(l))+a;return r(e[l])?o(e[l],function(e){return i+encodeURIComponent(n(e))}).join(t):i+encodeURIComponent(n(e[l]))}).join(t):i?encodeURIComponent(n(i))+a+encodeURIComponent(n(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var a=[],n=0;n<e.length;n++)a.push(t(e[n],n));return a}var l=Object.keys||function(e){var t=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.push(a);return t}},34:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=a(12);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){if(e&&e[t]&&e[t].rows&&e[t].rows[0]){var a=(0,o.deepClone)(e),n=a[t].rows[0].values,r={},l=void 0;for(l in n)n[l]&&n[l].value&&(r[l]=n[l]);return a[t].rows=[{values:r}],JSON.stringify(a)}}t.default={beforeEdit:function(e){var t=e.props,a=e.appcode,o=e.pagecode,s=e.headarea,c=e.bodyarea,u=e.key,d=e.isHead,f=e.record,A=e.billtype,p=e.pk_org_field,_=e.transtypeid_field,L=t.meta.getMeta(),E=void 0;if(d){var D=t.cardTable.getCheckedRows(c);!D&&D.length>0&&(f=D[0]),E=L[s].items.find(function(e){return e.attrcode==u})}else E=L[c].items.find(function(e){return e.attrcode==u});var S={};S.pk_org=(t.form.getFormItemsValue(s,p)||{}).value,S.transtype=(t.form.getFormItemsValue(s,_)||{}).value,S.key=u,S.billtype=A,S.currarea=d?s:c,S.appcode=a,S.pagecode=o,S.headarea=s,S.bodyarea=c,S.headdata=i(l({},s,t.form.getAllFormValue(s)),s),S.bodydata=i(l({},c,{rows:[f]}),c),E._queryCondition=E._queryCondition||E.queryCondition;var C=d?E._queryCondition:E.queryCondition;C&&C.crossRuleParams||(d?(E&&"refer"==E.itemtype&&(E.queryCondition=function(e){if(C=r({},"function"==typeof C?C(e):"object"===(void 0===C?"undefined":n(C))?C:{}),!e)return C;var t="TreeRefActionExt";return"grid"!=e.refType&&"gridTree"!=e.refType||(t="GridRefActionExt"),(!C[t]||C[t].indexOf("nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder")<0)&&(C[t]=C[t]?C[t]+",nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder":"nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder"),(!C.UsualGridRefActionExt||C.UsualGridRefActionExt.indexOf("nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder")<0)&&(C.UsualGridRefActionExt=C.UsualGridRefActionExt?C.UsualGridRefActionExt+",nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder":"nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder"),C.crossRuleParams=JSON.stringify(S),C}),t.meta.setMeta(L)):t.cardTable.setQueryCondition(c,l({},u,function(e){if(C=r({},"function"==typeof C?C(e):"object"===(void 0===C?"undefined":n(C))?C:{}),!e)return C;var t="TreeRefActionExt";return"grid"!=e.refType&&"gridTree"!=e.refType||(t="GridRefActionExt"),(!C[t]||C[t].indexOf("nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder")<0)&&(C[t]=C[t]?C[t]+",nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder":"nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder"),(!C.UsualGridRefActionExt||C.UsualGridRefActionExt.indexOf("nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder")<0)&&(C.UsualGridRefActionExt=C.UsualGridRefActionExt?C.UsualGridRefActionExt+",nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder":"nccloud.web.scmpub.pub.crossrule.CrossRuleSqlBuilder"),C.crossRuleParams=JSON.stringify(S),C})))}}},35:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=function(e){var t=decodeURIComponent(window.parent.location.href).split("?");if(t&&t[1]){var a=t[1].split("&");if(a&&a instanceof Array){var n={};return a.forEach(function(e){var t=e.split("=")[0],a=e.split("=")[1];n[t]=a}),n[e]}}}},36:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}t.default={onBlur:function(e,t,a,o,l,i){var s=this;if(i){var c={onhandDimAppcode:e.appcode,onhandDimPagecode:e.pagecode,onhandDimVOGrid:{head:{areaType:"table",rows:[e.headRows.rows[0]]},pageid:e.pagecode},appcode:t.appcode,pagecode:t.pagecode,bodyarea:t.bodyarea,currGrid:r({},t.bodyarea,{rows:[t.record]}),batchcode:i,canInsert:o};(0,n.ajax)({url:a,data:c,mode:"normal",success:function(e){l&&l.call(s,t.bodyarea,t.index,e.data)}})}}}},41:function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var a=function(e,t){var a=e[1]||"",n=e[3];if(!n)return a;if(t&&"function"==typeof btoa){var r=(l=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(l))))+" */"),o=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[a].concat(o).concat([r]).join("\n")}var l;return[a].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+a+"}":a}).join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var l=e[r];"number"==typeof l[0]&&n[l[0]]||(a&&!l[2]?l[2]=a:a&&(l[2]="("+l[2]+") and ("+a+")"),t.push(l))}},t}},42:function(e,t,a){var n,r,o={},l=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=n.apply(this,arguments)),r}),i=function(e){var t={};return function(a){return void 0===t[a]&&(t[a]=e.call(this,a)),t[a]}}(function(e){return document.querySelector(e)}),s=null,c=0,u=[],d=a(73);function f(e,t){for(var a=0;a<e.length;a++){var n=e[a],r=o[n.id];if(r){r.refs++;for(var l=0;l<r.parts.length;l++)r.parts[l](n.parts[l]);for(;l<n.parts.length;l++)r.parts.push(D(n.parts[l],t))}else{var i=[];for(l=0;l<n.parts.length;l++)i.push(D(n.parts[l],t));o[n.id]={id:n.id,refs:1,parts:i}}}}function A(e,t){for(var a=[],n={},r=0;r<e.length;r++){var o=e[r],l=t.base?o[0]+t.base:o[0],i={css:o[1],media:o[2],sourceMap:o[3]};n[l]?n[l].parts.push(i):a.push(n[l]={id:l,parts:[i]})}return a}function p(e,t){var a=i(e.insertInto);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===e.insertAt)n?n.nextSibling?a.insertBefore(t,n.nextSibling):a.appendChild(t):a.insertBefore(t,a.firstChild),u.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");a.appendChild(t)}}function _(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function L(e){var t=document.createElement("style");return e.attrs.type="text/css",E(t,e.attrs),p(e,t),t}function E(e,t){Object.keys(t).forEach(function(a){e.setAttribute(a,t[a])})}function D(e,t){var a,n,r,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var l=c++;a=s||(s=L(t)),n=T.bind(null,a,l,!1),r=T.bind(null,a,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",E(t,e.attrs),p(e,t),t}(t),n=v.bind(null,a,t),r=function(){_(a),a.href&&URL.revokeObjectURL(a.href)}):(a=L(t),n=b.bind(null,a),r=function(){_(a)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=l()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var a=A(e,t);return f(a,t),function(e){for(var n=[],r=0;r<a.length;r++){var l=a[r];(i=o[l.id]).refs--,n.push(i)}e&&f(A(e,t),t);for(r=0;r<n.length;r++){var i;if(0===(i=n[r]).refs){for(var s=0;s<i.parts.length;s++)i.parts[s]();delete o[i.id]}}}};var S,C=(S=[],function(e,t){return S[e]=t,S.filter(Boolean).join("\n")});function T(e,t,a,n){var r=a?"":n.css;if(e.styleSheet)e.styleSheet.cssText=C(t,r);else{var o=document.createTextNode(r),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(o,l[t]):e.appendChild(o)}}function b(e,t){var a=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}function v(e,t,a){var n=a.css,r=a.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(n=d(n)),r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var l=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(l),i&&URL.revokeObjectURL(i)}},43:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processExtBillCardHeadEditResult=t.createExtBillHeadAfterEventData=t.processExtBillCardBodyEditResult=t.processGridEditResult=t.processBillCardBodyEditResultNotAddRow=t.processBillCardBodyEditResult=t.processBillCardHeadEditResult=t.createExtBodyAfterEventData=t.createHeadAfterEventData=t.createBodyAfterEventData=t.createGridAfterEventData=void 0;var n=a(48);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}t.createGridAfterEventData=function(e,t,a,o,l,i,s,c){var u=e.meta.getMeta(),d=e.editTable.getAllRows(a,!1),f=r({templetid:u.pageid,pageid:t},a,{areaType:"table",areacode:a,rows:[d[s]]});return f[a]=(0,n.simplifyData)(f[a]),{attrcode:l,changedrows:i,grid:f,index:0,userobject:c}},t.createBodyAfterEventData=function(e,t,a,r,o,l,i,s,c){var u=e.createBodyAfterEventData(t,a,r,o,l,i);u.index=0;var d=u.card.body[r].rows,f=[d[s]];u.card.body[r].rows=f,u.card.head[a]=(0,n.simplifyData)(u.card.head[a]),u.card.body[r]=(0,n.simplifyData)(u.card.body[r]),c=c||{};var A=[];return d.map(function(e){"3"!=e.status&&A.push(e.values.crowno?e.values.crowno.value:null)}),c.scm_originindex=s+"",c.scm_allrownos=A,u.userobject=c,u},t.createHeadAfterEventData=function(e,t,a,r,o,l,i,s,c){var u=!(arguments.length>9&&void 0!==arguments[9])||arguments[9],d=e.createHeadAfterEventData(t,a,r,o,l,i);return d.card.head[a]=(0,n.simplifyData)(d.card.head[a]),d.card.body[r]=c?(0,n.simplifyDataByFields)(d.card.body[r],!0,c,u):(0,n.simplifyData)(d.card.body[r]),s=s||{},d.userobject=s,d},t.createExtBodyAfterEventData=function(e,t,a,r,o,l,i,s,c){var u=e.createBodyAfterEventData(t,a,r,o,l,i);u.index=0;var d=u.card.bodys[o].rows,f=[d[s]];u.card.bodys[o].rows=f,u.card.head[a]=(0,n.simplifyData)(u.card.head[a]),u.card.bodys[o]=(0,n.simplifyData)(u.card.bodys[o]),c=c||{};var A=[];return d.map(function(e){"3"!=e.status&&A.push(e.values.crowno?e.values.crowno.value:null)}),c.scm_originindex=s+"",c.scm_allrownos=A,u.userObject=c,u},t.processBillCardHeadEditResult=function(e,t,a,n){n&&n.billCard&&(n.billCard.head&&e.form.setAllFormValue(r({},t,n.billCard.head[t])),n.billCard.body&&e.cardTable.updateDiffDataByRowId(a,n.billCard.body[a]))},t.processBillCardBodyEditResult=function(e,t,a,n){if(a&&a.billCard&&a.billCard.body&&a.billCard.body[t]&&a.billCard.body[t].rows.length>0){for(var r=a.billCard.body[t].rows,o=[],l=[],i=0;i<r.length;i++){var s={index:n+i,data:r[i]};0==i?l.push(s):o.push(s)}l.length>0&&e.cardTable.updateDataByIndexs(t,l),o.length>0&&e.cardTable.insertDataByIndexs(t,o,!0)}},t.processBillCardBodyEditResultNotAddRow=function(e,t,a,n){if(a&&a.billCard&&a.billCard.body&&a.billCard.body[t]&&a.billCard.body[t].rows.length>0){for(var r=a.billCard.body[t].rows,o=[],l=[],i=0;i<r.length;i++){var s={index:n+i,data:r[i]};l.push(s)}l.length>0&&e.cardTable.updateDataByIndexs(t,l),o.length>0&&e.cardTable.insertDataByIndexs(t,o,!0)}},t.processGridEditResult=function(e,t,a,n){if(a&&a.grid&&a.grid[t]){for(var r=a.grid[t].rows,o=[],l=[],i=0;i<r.length;i++){var s={index:n+i,data:r[i]};0==i?l.push(s):o.push(s)}l.length>0&&e.editTable.updateDataByIndexs(t,l),o.length>0&&e.editTable.insertDataByIndexs(t,o,!0)}},t.processExtBillCardBodyEditResult=function(e,t,a){if(a.extbillcard&&a.extbillcard.bodys&&a.extbillcard.bodys[t]){var n=[],r=[],o=a.userObject&&a.userObject.scm_originindex?parseInt(a.userObject.scm_originindex):1;a.extbillcard.bodys[t].rows.forEach(function(e,t){e.rowid?n.push(e):r.push({index:t+o,data:e})}),e.cardTable.updateDataByRowId(t,{rows:n},!1,!1),e.cardTable.insertDataByIndexs(t,r,!0)}},t.createExtBillHeadAfterEventData=function(e,t,a,r,o,l,i,s){var c=e.createHeadAfterEventData(t,a,r,o,l,i);return c.card.head[a]=(0,n.simplifyData)(c.card.head[a],!1),r instanceof Array&&r.forEach(function(e){c.card.bodys[e]=(0,n.simplifyData)(c.card.bodys[e],!1)}),s=s||{},c.userobject=s,c},t.processExtBillCardHeadEditResult=function(e,t,a,n){n&&n.extbillcard&&(n.extbillcard.head&&e.form.setAllFormValue(r({},t,n.extbillcard.head[t])),n.extbillcard.bodys&&(a instanceof Array?a.forEach(function(t){n.extbillcard.bodys[t]&&e.cardTable.updateDiffDataByRowId(t,n.extbillcard.bodys[t])}):e.cardTable.updateDiffDataByRowId(a,n.extbillcard.bodys[a])))}},44:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RownoUtils=t.rowCopyPasteUtils=void 0;var n=a(60),r=a(46);t.rowCopyPasteUtils=n.rowCopyPasteUtils,t.RownoUtils=r.RownoUtils},46:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RownoUtils=void 0;var n=a(0),r=0,o=8,l="crowno";function i(e,t,a,l,i){var s=l-i.length-1,c=(e.cardTable.getValByKeyAndIndex(t,s,a)||{}).value;c=c||r;var d=(e.cardTable.getValByKeyAndIndex(t,l,a)||{}).value,f=i.length,A=[];i.forEach(function(e){A.push(e)});for(var p=o;;){var _={};_[c]=!0,_[d]=!0;for(var L=0;L<f;L++){var E=A[L];if(new Number(c)-new Number(E)>=0||new Number(d)-new Number(E)<=0)break;_[E]=!0}if(Object.getOwnPropertyNames(_).length!==f+2)break;for(var D=0;D<f;D++)i[D]=A[D];if(p<=0)break;--p;for(var S=0;S<f;S++){var C=u((0,n.formatAcuracy)(A[S],p));A[S]="0.00000000"==C?"0.00000001":C}}return i}function s(e,t,a,n){for(var o=e.cardTable.getNumberOfRows(t),l=function(e,t,a,n){if(1===n)return r;for(var o=r,l=null,i=0;i<n;i++)(l=e.cardTable.getValByKeyAndIndex(t,i,a).value)&&Number(o)<Number(l)&&(o=Number(l));return o}(e,t,a,o),i=new Array(n.length),s=0;s<n.length;s++)i[s]=10*(s+1)+Number(l);return i}function c(e,t,a,l,i){var s=function(e,t,a,n){if(1==e.cardTable.getNumberOfRows(t))return r;for(var o=n-1;o>=0;o--){var l=(e.cardTable.getValByKeyAndIndex(t,o,a)||{}).value;if(""!=l&&null!=l)return l}return r}(e,t,a,l),c=e.cardTable.getValByKeyAndIndex(t,l,a).value,d=new Array(i.length);if(s===c)for(var f=0;f<i.length;f++)d[f]=s;else if(null==c||""==c)for(var A=0;A<i.length;A++)d[A]=10*(A+1)+Number(s);else for(var p=(c-s)/(i.length+1),_=s,L=0;L<i.length;L++){_=Number(_)+Number(p);var E=u((0,n.formatAcuracy)(_,o));d[L]="0.00000000"==E?"0.00000001":E}return d}function u(e){return e?e.toString().replace(/\,/gi,""):e}var d={setRowMaterilNo:function(e,t,a,n){null==a&&(a=l);for(var r=e.cardTable.getNumberOfRows(t),o=!0;r>0&&o;){for(var u=[],d=-1,f=0;f<r;f++){f==r-1&&(o=!1);var A=(e.cardTable.getValByKeyAndIndex(t,f,a)||{}).value,p=(e.cardTable.getValByKeyAndIndex(t,f,n)||{}).value;if(A||p){if(0==u.length)continue;d=f;break}u.push(f),d=-1}var _=null;_=-1!=d?i(e,t,a,d,_=c(e,t,a,d,u)):s(e,t,a,u);for(var L=0;L<u.length;L++){var E=u[L];e.cardTable.setValByKeyAndIndex(t,E,a,{value:_[L].toString(),display:_[L].toString()})}}},setRowNo:function(e,t,a){null==a&&(a=l);for(var n=e.cardTable.getNumberOfRows(t),r=!0;n>0&&r;){for(var o=[],u=-1,d=0;d<n;d++){if(d==n-1&&(r=!1),(e.cardTable.getValByKeyAndIndex(t,d,a)||{}).value){if(0==o.length)continue;u=d;break}o.push(d),u=-1}var f=null;f=-1!=u?i(e,t,a,u,f=c(e,t,a,u,o)):s(e,t,a,o);for(var A=0;A<o.length;A++){var p=o[A];e.cardTable.setValByKeyAndIndex(t,p,a,{value:f[A].toString(),display:f[A].toString()})}}},resetRowNo:function(e,t,a){null==a&&(a=l);for(var n=e.cardTable.getNumberOfRows(t),r=0;r<n;r++){var o=10*r+10;e.cardTable.setValByKeyAndIndex(t,r,a,{value:o.toString(),display:o.toString()})}}};t.RownoUtils=d},48:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function r(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return!(null!=e&&""!==e&&!a.find(function(t){return t==e}))}t.simplifyData=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e&&Array.isArray(e.rows)&&e.rows.length){var a=n({},e,{rows:[]});return e.rows.forEach(function(e){if(e.values){var o={};for(var l in e.values)e.values[l]&&(r(e.values[l].value)?t||-1==e.values[l].scale||(o[l]={scale:e.values[l].scale}):(o[l]={value:e.values[l].value},t||-1==e.values[l].scale||(o[l].scale=e.values[l].scale)));a.rows.push(n({},e,{values:o}))}}),a}return e},t.simplifyDataByFields=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e&&Array.isArray(e.rows)&&e.rows.length){var l=n({},e,{rows:[]});return e.rows.forEach(function(e){if(e.values){var i={};for(var s in e.values)a?o?a.includes(s)&&(i[s]={value:e.values[s].value}):a.includes(s)||(i[s]={value:e.values[s].value}):r(e.values[s].value)?t||-1==e.values[s].scale||(i[s]={scale:e.values[s].scale}):(i[s]={value:e.values[s].value},t||-1==e.values[s].scale||(i[s].scale=e.values[s].scale));l.rows.push(n({},e,{values:i}))}}),l}return e}},50:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0}),t.updateExtBillDataForCompareByPk=function(e,t,a,r){var o=a.headAreaId,l=a.bodyIdAndPkMap,i=a.baseBack;return e.form.setAllFormValue(n({},o,t.head[o])),l.forEach(function(a,n){var o=t.bodys[a];if(o){var l=void 0;if(i&&"saledaily_exec"==a||"validate"==r){var s=e.cardTable.getVisibleRows(a),c=new Map;s.forEach(function(e){var t=e.values[n].value;c.set(t,e.rowid)}),o.rows.forEach(function(e){if("{}"!=JSON.stringify(e.values)||i){var t=e.rowid,a=c.get(t);e.rowid=a}}),l=e.cardTable.updateDiffDataByRowId(a,o,!0,!0,!1)}else l=e.cardTable.updateDataByRowId(a,o,!0);t.bodys[a]=l}}),t},t.updateExtBillDataForCompare=function(e,t,a){var r=a.headAreaId,o=a.bodyIdAndPkMap;return e.form.setAllFormValue(n({},r,t.head[r])),o.forEach(function(a,n){var r=t.bodys[a];if(r){var o=e.cardTable.setTableData(a,r);t.bodys[a]=o}}),t}},51:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REF4310_CONST=void 0;var n=a(213);t.REF4310_CONST=n.REF4310_CONST},55:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exportBtnClick=t.modifyHistoryBtnClick=t.imageView_BtnClick=t.imageScan_BtnClick=t.receive_BtnClick=t.onReasonBtnClick=t.buttonClick_BtnClick=t.showDoc_BtnClick=t.quitTransfer_BtnClick=t.back_BtnClick=t.ref4310_BtnClick=t.onCardInnerButtonClicks=t.deleteRow_BtnClick=t.pasteLineToTail_BtnClick=t.pasteLine_BtnClick=t.copyline_BtnClick=t.delrow_BtnClick=t.canelCopy_BtnClick=t.insertline_BtnClick=t.addrow_BtnClick=t.onShoulderButtonClicks=t.pageInfo_BtnClick=t.queryPayPlan_BtnClick=t.copy_BtnClick=t.receiveStartControl_BtnClick=t.print_BtnClick=t.modify_BtnClick=t.modiDelete_BtnClick=t.queryAboutBusiness_BtnClick=t.openApprove_BtnClick=t.fileManage_BtnClick=t.unend_BtnClick=t.end_BtnClick=t.freeze_BtnClick=t.unfreeze_BtnClick=t.unvalidate_BtnClick=t.validate_BtnClick=t.uncommit_BtnClick=t.commit_BtnClick=t.add_BtnClick=t.initCard_BtnClick=t.delete_BtnClick=t.cancel_BtnClick=t.onCardButtonClicks=t.save_BtnClick=t.edit_BtnClick=t.cardQuery_BtnClick=void 0;var n=X(a(794)),r=X(a(795)),o=X(a(796)),l=X(a(797)),i=X(a(798)),s=X(a(799)),c=X(a(311)),u=X(a(801)),d=X(a(802)),f=X(a(803)),A=X(a(804)),p=X(a(805)),_=X(a(806)),L=X(a(807)),E=X(a(808)),D=X(a(809)),S=X(a(810)),C=X(a(811)),T=X(a(812)),b=X(a(813)),v=X(a(310)),I=X(a(814)),y=X(a(815)),h=X(a(816)),m=X(a(817)),g=X(a(818)),R=X(a(819)),O=X(a(313)),B=X(a(820)),N=X(a(821)),k=X(a(822)),w=X(a(823)),Y=X(a(824)),M=X(a(825)),P=X(a(826)),U=X(a(827)),x=X(a(828)),F=X(a(829)),j=X(a(830)),V=X(a(831)),G=X(a(832)),H=X(a(833)),q=X(a(834)),W=X(a(835)),z=X(a(836)),Q=X(a(837)),K=X(a(838));function X(e){return e&&e.__esModule?e:{default:e}}t.cardQuery_BtnClick=n.default,t.edit_BtnClick=r.default,t.save_BtnClick=o.default,t.onCardButtonClicks=l.default,t.cancel_BtnClick=i.default,t.delete_BtnClick=s.default,t.initCard_BtnClick=c.default,t.add_BtnClick=u.default,t.commit_BtnClick=d.default,t.uncommit_BtnClick=f.default,t.validate_BtnClick=A.default,t.unvalidate_BtnClick=p.default,t.unfreeze_BtnClick=_.default,t.freeze_BtnClick=L.default,t.end_BtnClick=E.default,t.unend_BtnClick=D.default,t.fileManage_BtnClick=S.default,t.openApprove_BtnClick=C.default,t.queryAboutBusiness_BtnClick=T.default,t.modiDelete_BtnClick=b.default,t.modify_BtnClick=v.default,t.print_BtnClick=I.default,t.receiveStartControl_BtnClick=y.default,t.copy_BtnClick=h.default,t.queryPayPlan_BtnClick=m.default,t.pageInfo_BtnClick=g.default,t.onShoulderButtonClicks=R.default,t.addrow_BtnClick=O.default,t.insertline_BtnClick=N.default,t.canelCopy_BtnClick=k.default,t.delrow_BtnClick=B.default,t.copyline_BtnClick=w.default,t.pasteLine_BtnClick=Y.default,t.pasteLineToTail_BtnClick=M.default,t.deleteRow_BtnClick=P.default,t.onCardInnerButtonClicks=U.default,t.ref4310_BtnClick=x.default,t.back_BtnClick=F.default,t.quitTransfer_BtnClick=j.default,t.showDoc_BtnClick=V.default,t.buttonClick_BtnClick=G.default,t.onReasonBtnClick=H.default,t.receive_BtnClick=q.default,t.imageScan_BtnClick=W.default,t.imageView_BtnClick=z.default,t.modifyHistoryBtnClick=Q.default,t.exportBtnClick=K.default},56:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function r(e,t){return t||e.props.getSearchParam("n")}t.createListTitle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,e.props.BillHeadInfo.createBillHeadInfo)(n({},t,{title:r(e,t.title),initShowBackBtn:!1}))},t.createCardTitle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,e.props.BillHeadInfo.createBillHeadInfo)(n({},t,{title:r(e,t.title)}))}},58:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e,t,a){"object"==(void 0===t?"undefined":n(t))&&t.constructor==Array&&e.map(function(e){t.includes(e.attrcode)&&(e.isShowUnit=a)}),"string"==typeof t&&t.constructor==String&&e.map(function(e){t==e.attrcode&&(e.isShowUnit=a)})}t.default=function(e,t,a,r){var o=e.meta.getMeta(),l=o[a].items,i=0;if("object"==(void 0===r?"undefined":n(r))&&r.constructor==Array)if(t&&(1==t.length||t.refpk))for(var s=0;s<l.length;s++)for(var c=0,u=r.length;c<u;c++){var d=l[s];if(d.attrcode==r[c]){if(d.isShowUnit&&0==d.isShowUnit)continue;if(i++,d.isShowUnit=!1,i==u)break}}else for(var f=0;f<l.length;f++)for(var A=0,p=r.length;A<p;A++){var _=l[f];if(_.attrcode==r[A]){if(_.isShowUnit)continue;if(i++,_.isShowUnit=!0,i==p)break}}else if("string"==typeof r&&r.constructor==String)if(t&&(1==t.length||t.refpk))for(var L=0;L<l.length;L++){var E=l[L];E.attrcode==r&&(E.isShowUnit=!1)}else for(var D=0;D<l.length;D++){var S=l[D];S.attrcode==r&&(S.isShowUnit=!0)}e.meta.setMeta(o)},t.multiCorpInit=function(e,t){if(!e)return;!function(e,t){e.map(function(e){e.isShowUnit=!1}),function(e,t){r(e,t,!0)}(e,t)}(e,t)}},6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CARDTABLEAREAIDS=t.FIELDS=t.SALEDAILY_URL=t.BILL_STATUS=t.CARD_HEAD_BUTTONS=t.CARD_BODY_INNER_BUTTONS=t.CARD_BODY_BUTTONS=t.SALEDAILY_CONST=void 0;var n=a(160);t.SALEDAILY_CONST=n.SALEDAILY_CONST,t.CARD_BODY_BUTTONS=n.CARD_BODY_BUTTONS,t.CARD_BODY_INNER_BUTTONS=n.CARD_BODY_INNER_BUTTONS,t.CARD_HEAD_BUTTONS=n.CARD_HEAD_BUTTONS,t.BILL_STATUS=n.BILL_STATUS,t.SALEDAILY_URL=n.SALEDAILY_URL,t.FIELDS=n.FIELDS,t.CARDTABLEAREAIDS=n.CARDTABLEAREAIDS},60:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rowCopyPasteUtils=void 0;var n=a(0),r=!0,o=!1;function l(e,t,a,o,l,c){!function(e,t,a,r,o){var l=(0,n.deepClone)(a);if(l)if(l instanceof Array){for(var s=l.length,c=[],u=0;u<s;u++){var d=l[u].data;i(d,o),c.push(d)}e.cardTable.insertRowsAfterIndex(t,c,r)}else i(l,o),e.cardTable.insertRowsAfterIndex(t,l,r)}(e,t,this.state.copyRowDatas,a-1,c),this.setState({copyRowDatas:null}),s(e,o,l,r),e.cardTable.selectAllRows(t,!1),e.cardTable.setAllCheckboxAble(t,!0)}function i(e,t){t&&t instanceof Array&&(e instanceof Array?e.forEach(function(e){t.forEach(function(t){e.values[t]={value:null,display:null,scale:-1}})}):t.forEach(function(t){e.values[t]={value:null,display:null,scale:-1}}))}function s(e,t,a,n){t&&e.button.setButtonVisible(t,n),a&&e.button.setButtonVisible(a,!n)}var c={copyRow:function(e,t,a,n,r){return this.setState({copyRowDatas:a}),s(e,n,r,o),e.cardTable.setAllCheckboxAble(t,!1),a},copyRows:function(e,t,a,n){var r=e.cardTable.getCheckedRows(t);if(r&&r.length>0)return this.setState({copyRowDatas:r}),s(e,a,n,o),e.cardTable.setAllCheckboxAble(t,!1),r},pasteRowsToIndex:l,pasteRowsToTail:function(e,t,a,n,r){var o=e.cardTable.getNumberOfRows(t);l.call(this,e,t,o,a,n,r)},cancel:function(e,t,a,n){this.setState({copyRowDatas:null}),s(e,a,n,r),e.cardTable.selectAllRows(t,!1),e.cardTable.setAllCheckboxAble(t,!0)}};t.rowCopyPasteUtils=c},61:function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__61__},7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearTransferCache=t.rewriteTransferSrcBids=t.updateCacheDataForList=t.deleteCacheDataForList=t.getNextId=t.getCurrentLastId=t.getDefData=t.setDefData=t.hasListCache=t.addCacheData=t.getCacheDataByPk=t.deleteCacheData=t.updateCacheData=t.changeUrlParam=void 0;var n=a(26);t.changeUrlParam=n.changeUrlParam,t.updateCacheData=n.updateCacheData,t.deleteCacheData=n.deleteCacheData,t.getCacheDataByPk=n.getCacheDataByPk,t.addCacheData=n.addCacheData,t.hasListCache=n.hasListCache,t.setDefData=n.setDefData,t.getDefData=n.getDefData,t.getCurrentLastId=n.getCurrentLastId,t.getNextId=n.getNextId,t.deleteCacheDataForList=n.deleteCacheDataForList,t.updateCacheDataForList=n.updateCacheDataForList,t.rewriteTransferSrcBids=n.rewriteTransferSrcBids,t.clearTransferCache=n.clearTransferCache},71:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(10),l=(n=o)&&n.__esModule?n:{default:n},i=a(0);a(92);i.base.NCFormControl;var s=i.base.NCTextArea,c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onChangeReason=function(t){e.setState({reason:t}),e.props.changeData(t)},e.state={reason:null},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return l.default.createElement(s,{onChange:this.onChangeReason,value:this.state.reason,placeholder:this.props.title,rows:"4"})}}]),t}();t.default=c},73:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var a=t.protocol+"//"+t.host,n=a+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?a+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},78:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(this.props.getUrlParam("status")!=n.SALEDAILY_CONST.STATUS_BROWSE){var t=this.props.cardTable.getCheckedRows(e),a=(this.props.form.getFormItemsValue(n.SALEDAILY_CONST.FORMID,"pk_payterm")||{}).value,r=void 0;e?e==n.SALEDAILY_CONST.CARDTABLE_TERM?r=["Term_DeleteLine","Term_CopyLine"]:e==n.SALEDAILY_CONST.CARDTABLE_PAYTERM&&a?r=["Payterm_DeleteLine","Payterm_CopyLine"]:e==n.SALEDAILY_CONST.CARDTABLE_MEMORA?r=["Memora_DeleteLine","Memora_CopyLine"]:e==n.SALEDAILY_CONST.CARDTABLE_EXP?r=["Exp_DeleteLine","Exp_CopyLine"]:e==n.SALEDAILY_CONST.CARDTABLEID&&(r=["DeleteLine","CopyLine"]):r=["DeleteLine","CopyLine","Exp_DeleteLine","Exp_CopyLine","Term_DeleteLine","Term_CopyLine","Payterm_DeleteLine","Payterm_CopyLine","Memora_DeleteLine","Memora_CopyLine"],null!=t&&t.length>0?this.props.button.setButtonDisabled(r,!1):this.props.button.setButtonDisabled(r,!0);var o=(this.props.form.getFormItemsValue(n.SALEDAILY_CONST.FORMID,"pk_org_v")||{}).value;this.props.button.setButtonDisabled(["AddLine","Term_AddLine","Exp_AddLine","Payterm_AddLine","Memora_AddLine"],!o)}this.props.getUrlParam("status")!=n.SALEDAILY_CONST.STATUS_BROWSE&&((this.props.form.getFormItemsValue(n.SALEDAILY_CONST.FORMID,"pk_payterm")||{}).value&&this.props.getUrlParam("status")!=n.SALEDAILY_CONST.STATUS_MODIFY?this.props.button.setButtonVisible("Payterm_InsertLine",!0):this.props.button.setButtonVisible("Payterm_InsertLine",!1))};var n=a(6)},79:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=0,r="crowno";function o(e,t,a,r){for(var o=e.editTable.getNumberOfRows(t),l=function(e,t,a,r){if(1===r)return n;for(var o=n,l=null,i=0;i<r;i++)l=e.editTable.getValByKeyAndIndex(t,i,a).value,Number(o)<Number(l)&&(o=l);return o}(e,t,a,o),i=new Array(r.length),s=0;s<r.length;s++)i[s]=10*(s+1)+Number(l);return i}function l(e,t,a,r,o){var l=function(e,t,a,r){if(1==e.editTable.getNumberOfRows(t))return n;for(var o=r-1;o>=0;o--){var l=(e.editTable.getValByKeyAndIndex(t,o,a)||{}).value;if(""!=l&&null!=l)return l}return n}(e,t,a,r),i=e.editTable.getValByKeyAndIndex(t,r,a).value,s=new Array(o.length);if(l===i)for(var c=0;c<o.length;c++)s[c]=l;else if(null==i||""==i)for(var u=0;u<o.length;u++)s[u]=10*(u+1)+Number(l);else for(var d=(i-l)/(o.length+1),f=l,A=0;A<o.length;A++)f=Number(f)+Number(d),s[A]=f;return s}var i={setRowNo:function(e,t,a){null==a&&(a=r);for(var n=e.editTable.getNumberOfRows(t),i=!0;n>0&&i;){for(var s=[],c=-1,u=0;u<n;u++){if(u==n-1&&(i=!1),(e.editTable.getValByKeyAndIndex(t,u,a)||{}).value){if(0==s.length)continue;c=u;break}s.push(u),c=-1}var d=null;d=-1!=c?l(e,t,a,c,s):o(e,t,a,s);for(var f=0;f<s.length;f++){var A=s[f];e.editTable.setValByKeyAndIndex(t,A,a,{value:d[f].toString(),display:d[f].toString()})}}},resetRowNo:function(e,t,a){null==a&&(a=r);for(var n=e.editTable.getNumberOfRows(t),o=0;o<n;o++){var l=10*o+10;e.editTable.setValByKeyAndIndex(t,o,a,{value:l.toString(),display:l.toString()})}},setRowNoByIndex:function(e,t,a,n){null==a&&(a=r);var o=0;0==n&&e.editTable.setValByKeyAndIndex(t,n,a,{value:"10",display:"10"});for(var l=0;l<n;l++){var i=(e.editTable.getValByKeyAndIndex(t,l,a)||{}).value;i&&Number(i)>o&&(o=Number(i))}var s=10*((o+10)/10).toFixed(0);e.editTable.setValByKeyAndIndex(t,n,a,{value:s.toString(),display:s.toString()})}};t.RownoUtils=i},790:function(e,t,a){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(10),l=I(o),i=a(0),s=a(791),c=a(6),u=a(51),d=a(55),f=a(2),A=a(17),p=a(7),_=a(12),L=I(a(94)),E=a(843),D=I(a(78)),S=I(a(95)),C=a(848),T=I(a(96)),b=I(a(104)),v=a(56);function I(e){return e&&e.__esModule?e:{default:e}}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var h=i.high.BillTrack,m=i.high.NCUploader,g=i.high.ApproveDetail,R=i.base.NCAffix,O=i.base.NCAnchor,B=i.base.NCScrollElement,N=i.base.NCScrollLink,k=i.base.NCDiv,w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getTableHead=function(e){var t=e==c.SALEDAILY_CONST.CARDTABLEID&&c.SALEDAILY_CONST.CARDBODYBUTTONAREA||e==c.SALEDAILY_CONST.CARDTABLE_EXP&&c.SALEDAILY_CONST.CARDBODYEXPBUTTONAREA||e==c.SALEDAILY_CONST.CARDTABLE_MEMORA&&c.SALEDAILY_CONST.CARDBODYMEMORABUTTONAREA||e==c.SALEDAILY_CONST.CARDTABLE_TERM&&c.SALEDAILY_CONST.CARDBODYTERMBUTTONAREA||e==c.SALEDAILY_CONST.CARDTABLE_PAYTERM&&c.SALEDAILY_CONST.CARDBODYPAYTERMBUTTONAREA||null,n=a.props.button.createButtonApp;return l.default.createElement("div",{className:"shoulder-definition-area"},l.default.createElement("div",{className:"definition-icons"},n({onButtonClick:d.onShoulderButtonClicks.bind(a,e),area:t})))},a.closeApprove=function(){a.setState({showApproveDetail:!1})},a.changeReason=function(e){a.reason=e},a.transferListClick=function(e,t,n,r){a.props.beforeUpdatePage(),e.head[a.formId].rows[0].values.pk_ct_sale.value||(r="add"),(0,p.changeUrlParam)(a.props,{status:r,id:e.head[a.formId].rows[0].values.pk_ct_sale.value}),a.curindex=t,"edit"==r?(a.props.form.setAllFormValue(y({},a.formId,e.head[a.formId]),!1),a.props.cardTable.setTableData(a.tableId,e.bodys[a.tableId],null,!1),a.props.cardTable.setTableData(c.SALEDAILY_CONST.CARDTABLE_CHANGE,e.bodys[c.SALEDAILY_CONST.CARDTABLE_CHANGE],null,!1),a.props.cardTable.setTableData(c.SALEDAILY_CONST.CARDTABLE_PAYTERM,e.bodys[c.SALEDAILY_CONST.CARDTABLE_PAYTERM],null,!1)):(a.props.form.setAllFormValue(y({},a.formId,e.head[a.formId])),a.props.cardTable.setTableData(a.tableId,e.bodys[a.tableId]),a.props.cardTable.setTableData(c.SALEDAILY_CONST.CARDTABLE_CHANGE,e.bodys[c.SALEDAILY_CONST.CARDTABLE_CHANGE]),a.props.cardTable.setTableData(c.SALEDAILY_CONST.CARDTABLE_PAYTERM,e.bodys[c.SALEDAILY_CONST.CARDTABLE_PAYTERM])),_.transtypeUtils.setValue.call(a,a.formId,"ctrantypeid","vtrantypecode"),a.state.billcode=e.head[a.formId].rows[0].values.vbillcode.value,A.buttonController.call(a,a.props,r),a.props.updatePage(a.formId,c.CARDTABLEAREAIDS)},a.toggleDocShow=function(){a.setState({showDoc:!a.state.showDoc})},a.switchController=function(){return!1},a.getNormalView=function(){var e=a.props,t=e.cardTable,n=e.form,r=e.button,o=e.cardPagination,i=e.modal,s=n.createForm,u=t.createCardTable,A=r.createButtonApp,p=o.createCardPagination,_=i.createModal;return l.default.createElement("div",{id:"ct-saledaily-card",className:"nc-bill-extCard"},l.default.createElement("div",{className:"nc-bill-top-area"},l.default.createElement(R,null,l.default.createElement(k,{areaCode:k.config.HEADER,className:"nc-bill-header-area"},l.default.createElement("span",null,(0,v.createCardTitle)(a,{billCode:"",backBtnClick:function(){d.back_BtnClick.call(a,a.props)}})),l.default.createElement("div",{className:"header-button-area"},A({onButtonClick:d.onCardButtonClicks.bind(a,"normal"),area:c.SALEDAILY_CONST.CARDHEADBUTTONAREA})),l.default.createElement("div",{className:"header-cardPagination-area",style:{float:"right"}},p({dataSource:c.SALEDAILY_CONST.DATA_SOURCE,handlePageInfoChange:d.pageInfo_BtnClick.bind(a)})))),M.call(a),l.default.createElement("div",{className:"nc-bill-form-area"},l.default.createElement(B,{name:a.formId},s(a.formId,{onBeforeEvent:E.head_BeforeEvent.bind(a),onAfterEvent:E.head_AfterEvent.bind(a)})))),l.default.createElement("div",{className:"nc-bill-bottom-area"},Y.call(a,u),l.default.createElement("div",{className:"nc-bill-tableTab-area",style:{display:1==a.state.showPayTerm?"block":"none"}},l.default.createElement(B,{name:c.SALEDAILY_CONST.CARDTABLE_PAYTERM},u(c.SALEDAILY_CONST.CARDTABLE_PAYTERM,{tableHead:a.getTableHead.bind(a,c.SALEDAILY_CONST.CARDTABLE_PAYTERM),onAfterEvent:E.body_AfterEvent.bind(a),onBeforeEvent:E.body_BeforeEvent.bind(a),onSelected:D.default.bind(a,c.SALEDAILY_CONST.CARDTABLE_PAYTERM),onSelectedAll:D.default.bind(a,c.SALEDAILY_CONST.CARDTABLE_PAYTERM),showCheck:!0,hideSwitch:a.switchController.bind(a)})))),l.default.createElement(h,{show:a.state.showBillTrack,close:function(){a.setState({showBillTrack:!1})},pk:a.state.billid,type:"Z3"}),a.state.showUploader&&l.default.createElement(m,{billId:a.state.billid,billNo:a.state.vbillcode,onHide:function(){a.setState({showUploader:!1})}}),a.state.compositedisplay&&l.default.createElement(T.default,{title:(0,f.getLangByResId)(a,"4006SALEDAILY-000053"),data:a.state.compositedata,display:a.state.compositedisplay,getResult:a.getAssginUsedr,cancel:function(){a.setState({compositedisplay:!1})}}),l.default.createElement(g,{show:a.state.showApproveDetail,close:a.closeApprove,billtype:a.state.transtype,billid:a.state.billid}),l.default.createElement(L.default,{show:a.state.showDoc,billId:a.state.billid,billType:"Z3",toggleShow:a.toggleDocShow,asyncTree:a.props.asyncTree}),l.default.createElement(S.default,{show:a.state.showPane,pagecode:c.SALEDAILY_CONST.HISPAGECODE,title:(0,f.getLangByResId)(a,"4006SALEDAILY-000047"),headcode:c.SALEDAILY_CONST.FORMID,bodycode:[c.SALEDAILY_CONST.CARDTABLEID,c.SALEDAILY_CONST.CARDTABLE_TERM,c.SALEDAILY_CONST.CARDTABLE_EXP,c.SALEDAILY_CONST.CARDTABLE_MEMORA,c.SALEDAILY_CONST.CARDTABLE_CHANGE,c.SALEDAILY_CONST.CARDTABLE_EXEC],data:a.paneData,close:function(){a.setState({showPane:!1})},showBodyData:!0}),_("MessageDlg",{title:(0,f.getLangByResId)(a,"4006SALEDAILY-000045")}),_("ScriptActionDlg",{title:(0,f.getLangByResId)(a,"4006SALEDAILY-000045")}),_("ReasonDlg",{title:(0,f.getLangByResId)(a,"4006SALEDAILY-000045")}))},a.clickFunction=function(e){a.props.cardTable.toggleCardTable(e,!0)},a.getAssginUsedr=function(e){d.commit_BtnClick.call(a,a.props,e),a.setState({compositedisplay:!1})},a.getTransferView=function(){var e=a.props,t=e.cardTable,n=e.form,r=e.button,o=e.modal,i=e.cardPagination,s=e.transferTable,A=n.createForm,p=t.createCardTable,_=s.createTransferList,S=r.createButtonApp,C=i.createCardPagination,b=o.createModal;return l.default.createElement("div",{className:"nc-bill-transferList",style:{backgroundColor:"#fff"}},l.default.createElement(R,null,l.default.createElement(k,{areaCode:k.config.HEADER,className:"nc-bill-header-area"},l.default.createElement("span",null,(0,v.createCardTitle)(a,{billCode:"",backBtnClick:function(){d.back_BtnClick.call(a,a.props,"ref4310")}})),l.default.createElement("div",{className:"header-button-area"},S({onButtonClick:d.onCardButtonClicks.bind(a,"ref4310"),area:c.SALEDAILY_CONST.CARDHEADBUTTONAREA})),l.default.createElement("div",{className:"header-cardPagination-area",style:{float:"right"}},C({dataSource:c.SALEDAILY_CONST.DATA_SOURCE,handlePageInfoChange:d.pageInfo_BtnClick.bind(a)})))),l.default.createElement("div",{className:"nc-bill-transferList-content"},_({dataSource:u.REF4310_CONST.Ref4310DataSource,headcode:a.formId,bodycode:a.tableId,transferListId:a.left,onTransferItemSelected:function(e,t,n,r){a.transferListClick(e,n,t,r,!0)},onTransferItemClick:function(e,t,n,r){a.transferListClick(e,t,n,r)}}),l.default.createElement("div",{className:"transferList-content-right nc-bill-card"},M.call(a),l.default.createElement("div",{className:"nc-bill-form-area"},A(a.formId,{onBeforeEvent:E.head_BeforeEvent.bind(a),onAfterEvent:E.head_AfterEvent.bind(a)})),l.default.createElement("div",{className:"nc-bill-bottom-area"},Y.call(a,p),l.default.createElement("div",{className:"nc-bill-tableTab-area",style:{display:1==a.state.showPayTerm?"block":"none"}},l.default.createElement(B,{name:c.SALEDAILY_CONST.CARDTABLE_PAYTERM},p(c.SALEDAILY_CONST.CARDTABLE_PAYTERM,{tableHead:a.getTableHead.bind(a,c.SALEDAILY_CONST.CARDTABLE_PAYTERM),onAfterEvent:E.body_AfterEvent.bind(a),onBeforeEvent:E.body_BeforeEvent.bind(a),onSelected:D.default.bind(a,c.SALEDAILY_CONST.CARDTABLE_PAYTERM),onSelectedAll:D.default.bind(a,c.SALEDAILY_CONST.CARDTABLE_PAYTERM),showCheck:!0,hideSwitch:a.switchController.bind(a)})))))),l.default.createElement(h,{show:a.state.showBillTrack,close:function(){a.setState({showBillTrack:!1})},pk:a.state.billid,type:"Z3"}),a.state.showUploader&&l.default.createElement(m,{billId:a.state.billid,billNo:a.state.vbillcode,onHide:function(){a.setState({showUploader:!1})}}),a.state.compositedisplay&&l.default.createElement(T.default,{title:(0,f.getLangByResId)(a,"4006SALEDAILY-000053"),data:a.state.compositedata,display:a.state.compositedisplay,getResult:a.getAssginUsedr,cancel:function(){a.setState({compositedisplay:!1})}}),l.default.createElement(g,{show:a.state.showApproveDetail,close:a.closeApprove,billtype:a.state.transtype,billid:a.state.billid}),l.default.createElement(L.default,{show:a.state.showDoc,billId:a.state.billid,billType:"Z3",toggleShow:a.toggleDocShow,asyncTree:a.props.asyncTree}),b("MessageDlg",{title:(0,f.getLangByResId)(a,"4006SALEDAILY-000045")}),b("ReasonDlg",{title:(0,f.getLangByResId)(a,"4006SALEDAILY-000045")}),b("ScriptActionDlg",{title:(0,f.getLangByResId)(a,"4006SALEDAILY-000045")}))},a.props=e,a.formId=c.SALEDAILY_CONST.FORMID,a.tableId=c.SALEDAILY_CONST.CARDTABLEID,a.left="left",a.z3trantypevo={},a.reason=null,a.state={copyRowDatas:null,termCopyRowDatas:null,paytermCopyRowDatas:null,expCopyRowDatas:null,memoraCopyRowDatas:null,billcode:null,transtype:"Z3",showApproveDetail:!1,billid:null,showBillTrack:!1,showUploader:!1,compositedata:null,compositedisplay:!1,showDoc:!1,showPayTerm:!1,showPane:!1},a.paneData,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){if("ref4310"!=this.props.getUrlParam("type"));else{this.type="ref4310";var e=s.getTransferData.call(this);s.transfer.call(this,e)}}},{key:"componentWillMount",value:function(){var e=this;(0,f.initLang)(this,["4006saledaily"],"ct",s.initTemplate.bind(this,this.props)),window.onbeforeunload=function(){if("edit"==e.props.cardTable.getStatus(e.tableId))return(0,f.getLangByResId)(e,"4006SALEDAILY-000046")}}},{key:"render",value:function(){return"ref4310"==this.props.getUrlParam("type")?this.getTransferView():this.getNormalView()}}]),t}();function Y(e){var t=this;return l.default.createElement("div",{className:"nc-bill-tableTab-area"},c.CARDTABLEAREAIDS.map(function(a){if(a!=c.SALEDAILY_CONST.CARDTABLE_PAYTERM)return l.default.createElement(B,{name:a},e(a,{tableHead:t.getTableHead.bind(t,a),onAfterEvent:E.body_AfterEvent.bind(t),onBeforeEvent:E.body_BeforeEvent.bind(t),showCheck:!0,hideModelSave:!0,hideSwitch:function(){return a==c.SALEDAILY_CONST.CARDTABLEID},onSelected:D.default.bind(t,a),onSelectedAll:D.default.bind(t,a),modelAddRow:C.addLineForCardEdit.bind(t),modelDelRow:C.delLineForCardEdit.bind(t),inputChange:b.default.bind(t,"crowno")}))}))}function M(){var e=this,t=c.CARDTABLEAREAIDS,a=[(0,f.getLangByResId)(this,"4006SALEDAILY-000071"),(0,f.getLangByResId)(this,"4006SALEDAILY-000072"),(0,f.getLangByResId)(this,"4006SALEDAILY-000073"),(0,f.getLangByResId)(this,"4006SALEDAILY-000074"),(0,f.getLangByResId)(this,"4006SALEDAILY-000075"),(0,f.getLangByResId)(this,"4006SALEDAILY-000076"),(0,f.getLangByResId)(this,"4006SALEDAILY-000077")];return 0==this.state.showPayTerm&&(t=t.filter(function(e){return e!=c.SALEDAILY_CONST.CARDTABLE_PAYTERM})),l.default.createElement("div",{className:"nc-bill-table-area"},l.default.createElement(O,null,l.default.createElement(N,{to:c.SALEDAILY_CONST.FORMID,spy:!0,smooth:!0,duration:300,offset:-100},l.default.createElement("p",null,(0,f.getLangByResId)(this,"4006SALEDAILY-000070"))),t.map(function(t,n){return l.default.createElement(N,{to:t,spy:!0,smooth:!0,duration:300,offset:-100,clickFun:e.clickFunction.bind(e,t)},l.default.createElement("p",null,a[n]))})))}w=(0,i.createPage)({billinfo:{billtype:"extcard",pagecode:c.SALEDAILY_CONST.CARDPAGEID,headcode:c.SALEDAILY_CONST.FORMID,bodycode:(n={},y(n,c.SALEDAILY_CONST.CARDTABLEID,"cardTable"),y(n,c.SALEDAILY_CONST.CARDTABLE_TERM,"cardTable"),y(n,c.SALEDAILY_CONST.CARDTABLE_EXP,"cardTable"),y(n,c.SALEDAILY_CONST.CARDTABLE_MEMORA,"cardTable"),y(n,c.SALEDAILY_CONST.CARDTABLE_CHANGE,"cardTable"),y(n,c.SALEDAILY_CONST.CARDTABLE_EXEC,"cardTable"),y(n,c.SALEDAILY_CONST.CARDTABLE_PAYTERM,"cardTable"),n)},orderOfHotKey:[c.SALEDAILY_CONST.FORMID,c.SALEDAILY_CONST.CARDTABLEID]})(w),t.default=w},791:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transfer=t.getTransferData=t.initTemplate=void 0;var n=l(a(792)),r=l(a(841)),o=l(a(842));function l(e){return e&&e.__esModule?e:{default:e}}t.initTemplate=n.default,t.getTransferData=r.default,t.transfer=o.default},792:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this;e.createUIDom({pagecode:r.SALEDAILY_CONST.CARDPAGEID},function(a){if(a){if(o.transtypeUtils.init.call(t,a.context),a.context.org_Name&&a.context.pk_org_v){var n={display:a.context.org_v_Name,value:a.context.pk_org_v};(0,u.setDefData)(r.SALEDAILY_CONST.DATA_SOURCE,"pk_org_v",n)}if(a.button){var l=a.button;e.button.hideButtonsByAreas([r.SALEDAILY_CONST.CARDHEADBUTTONAREA,r.SALEDAILY_CONST.CARDBODYBUTTONAREA]),e.button.setOprationBtnsRenderStatus([r.SALEDAILY_CONST.CARDBODYINNERBUTTONAREA],!1),e.button.setButtons(l)}if(a.template){var i=a.template;f.call(t,e,i),e.meta.setMeta(i,s.initCard_BtnClick.bind(t,e))}}})};var n=a(23),r=a(6),o=a(12),l=a(2),i=a(793),s=a(55),c=a(839),u=a(7),d=(r.SALEDAILY_CONST.FORMID,r.SALEDAILY_CONST.CARDTABLEID);function f(e,t){(0,c.headRefersFilter)(e,t),i.columnSortUtils.numberSort(t,d,"crowno");var a=A.call(this,e,d);return t[d].items.push(a),a=A.call(this,e,r.SALEDAILY_CONST.CARDTABLE_TERM),t[r.SALEDAILY_CONST.CARDTABLE_TERM].items.push(a),a=A.call(this,e,r.SALEDAILY_CONST.CARDTABLE_EXP),t[r.SALEDAILY_CONST.CARDTABLE_EXP].items.push(a),a=A.call(this,e,r.SALEDAILY_CONST.CARDTABLE_PAYTERM),t[r.SALEDAILY_CONST.CARDTABLE_PAYTERM].items.push(a),a=A.call(this,e,r.SALEDAILY_CONST.CARDTABLE_MEMORA),t[r.SALEDAILY_CONST.CARDTABLE_MEMORA].items.push(a),t}function A(e,t){var a=this,o=t==r.SALEDAILY_CONST.CARDTABLEID&&r.SALEDAILY_CONST.CARDBODYINNERBUTTONAREA||t==r.SALEDAILY_CONST.CARDTABLE_EXP&&r.SALEDAILY_CONST.CARDBODYEXPINNERBUTTONAREA||t==r.SALEDAILY_CONST.CARDTABLE_MEMORA&&r.SALEDAILY_CONST.CARDBODYMEMORAINNERBUTTONAREA||t==r.SALEDAILY_CONST.CARDTABLE_TERM&&r.SALEDAILY_CONST.CARDBODYTERMINNERBUTTONAREA||t==r.SALEDAILY_CONST.CARDTABLE_PAYTERM&&r.SALEDAILY_CONST.CARDBODYPAYTERMINNERBUTTONAREA||r.SALEDAILY_CONST.CARDBODYINNERBUTTONAREA,i=t==r.SALEDAILY_CONST.CARDTABLEID&&["Spread","DeleteLine","InsertLine"]||t==r.SALEDAILY_CONST.CARDTABLE_EXP&&["Exp_DeleteLine","Exp_InsertLine"]||t==r.SALEDAILY_CONST.CARDTABLE_MEMORA&&["Memora_DeleteLine","Memora_InsertLine"]||t==r.SALEDAILY_CONST.CARDTABLE_TERM&&["Term_DeleteLine","Term_InsertLine"]||t==r.SALEDAILY_CONST.CARDTABLE_PAYTERM&&["Payterm_DeleteLine","Payterm_InsertLine"]||["Spread","DeleteLine","InsertLine"],c=t==r.SALEDAILY_CONST.CARDTABLEID&&["PasteLine"]||t==r.SALEDAILY_CONST.CARDTABLE_EXP&&["Exp_PasteLine"]||t==r.SALEDAILY_CONST.CARDTABLE_MEMORA&&["Memora_PasteLine"]||t==r.SALEDAILY_CONST.CARDTABLE_TERM&&["Term_PasteLine"]||t==r.SALEDAILY_CONST.CARDTABLE_PAYTERM&&["Payterm_PasteLine"]||["PasteLine"],u=n.rowCopyPasteUtils.getCopyDataNameByTableId(t);return{label:(0,l.getLangByResId)(this,"4006SALEDAILY-000048"),itemtype:"customer",attrcode:"opr",width:"180px",visible:!0,fixed:"right",render:function(n,l,d){var f=e.getUrlParam("status"),A=e.getUrlParam("type");if(f!==r.SALEDAILY_CONST.STATUS_BROWSE&&"receive"!=A){var p=i;return a.state[u]&&(p=c),React.createElement("div",null,React.createElement("span",null,e.button.createOprationButton(p,{area:o,buttonLimit:3,onButtonClick:function(e,r){return s.onCardInnerButtonClicks.call(a,e,t,r,n,l,d,f)}})))}var _=t==r.SALEDAILY_CONST.CARDTABLEID?["Spread"]:[];return React.createElement("div",null,React.createElement("span",null,e.button.createOprationButton(_,{area:o,buttonLimit:3,onButtonClick:function(e,r){return s.onCardInnerButtonClicks.call(a,e,t,r,n,l,d,f)}})))}}}},793:function(e,t,a){"use strict";function n(e){e.sorter=function(t,a){return function(e,t){return e<t?-1:e>t?1:0}(Number(t.values[e.attrcode].value),Number(a.values[e.attrcode].value))}}Object.defineProperty(t,"__esModule",{value:!0});var r={numberSort:function(e,t,a){e[t].items.map(function(e){a instanceof Array?a.includes(e.attrcode)&&n(e):a==e.attrcode&&n(e)})}};t.columnSortUtils=r},794:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this,n=s.SALEDAILY_CONST.FORMID,u=s.SALEDAILY_CONST.CARDTABLEID,p=e.getUrlParam("id"),_=e.getUrlParam("type"),L=e.getUrlParam("srcid");if("copy"==_){var E={pk:L};return void(0,r.ajax)({url:s.SALEDAILY_URL.CARD_COPY_URL,data:E,success:function(t){var r=t.success,o=t.data;if(r&&(void 0!==o.showPayTerm&&a.setState({showPayTerm:o.showPayTerm}),o.extCard)){var l=o.extCard;l.head&&(a.state.billcode=l.head.head.rows[0].values.vbillcode.value,a.state.transtype=l.head.head.rows[0].values.vtrantypecode.value,a.state.billid=l.head.head.rows[0].values.pk_ct_sale.value,e.form.setAllFormValue(f({},n,l.head.head)),e.form.setFormItemsDisabled(n,{ctrantypeid:!1})),l.bodys&&(A.call(a,e,l),c.buttonController.call(a,e))}}})}if(!p)return e.beforeUpdatePage(),e.form.EmptyAllFormValue(n),e.cardTable.setTableData(u,{rows:[]},null,!0,!0),e.cardTable.setTableData(s.SALEDAILY_CONST.CARDTABLE_TERM,{rows:[]},null,!0,!0),e.cardTable.setTableData(s.SALEDAILY_CONST.CARDTABLE_EXP,{rows:[]},null,!0,!0),e.cardTable.setTableData(s.SALEDAILY_CONST.CARDTABLE_MEMORA,{rows:[]},null,!0,!0),e.cardTable.setTableData(s.SALEDAILY_CONST.CARDTABLE_CHANGE,{rows:[]},null,!0,!0),e.cardTable.setTableData(s.SALEDAILY_CONST.CARDTABLE_EXEC,{rows:[]},null,!0,!0),e.cardTable.setTableData(s.SALEDAILY_CONST.CARDTABLE_PAYTERM,{rows:[]},null,!0,!0),c.buttonController.bind(this,e)(),void e.updatePage(n,s.CARDTABLEAREAIDS);var D={pk:p};(0,r.ajax)({url:s.SALEDAILY_URL.CARD_QUERY_URL,data:D,success:function(r){r.formulamsg&&r.formulamsg instanceof Array&&r.formulamsg.length>0&&e.dealFormulamsg(r.formulamsg);var u=r.success,_=r.data;if(u){if(e.beforeUpdatePage(),void 0!==_.showPayTerm&&a.setState({showPayTerm:_.showPayTerm}),_.extCard){var L=_.extCard;L.head&&(a.state.billcode=L.head.head.rows[0].values.vbillcode.value,a.state.transtype=L.head.head.rows[0].values.vtrantypecode.value,a.state.billid=L.head.head.rows[0].values.pk_ct_sale.value,e.form.setAllFormValue(f({},n,L.head.head))),L.bodys&&A.call(a,e,L),(0,l.updateCacheData)(e,"pk_ct_sale",p,L,n,s.SALEDAILY_CONST.DATA_SOURCE)}c.buttonController.call(a,e),e.updatePage(s.SALEDAILY_CONST.FORMID,s.CARDTABLEAREAIDS),"refresh"==t&&(0,o.showSuccessInfo)((0,i.getLangByResId)(a,"4006SALEDAILY-000023")),e.getUrlParam("status")==s.SALEDAILY_CONST.STATUS_MODIFY&&d.default.call(a,e)}}})};var n,r=a(0),o=a(3),l=a(7),i=a(2),s=a(6),c=a(17),u=a(310),d=(n=u)&&n.__esModule?n:{default:n};function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function A(e,t){t.bodys.saledaily_base&&e.cardTable.setTableData(s.SALEDAILY_CONST.CARDTABLEID,t.bodys.saledaily_base,null,!0,!0),e.cardTable.setTableData(s.SALEDAILY_CONST.CARDTABLE_TERM,t.bodys.saledaily_term?t.bodys.saledaily_term:{rows:[]},null,!0,!0),e.cardTable.setTableData(s.SALEDAILY_CONST.CARDTABLE_EXEC,t.bodys.saledaily_exec?t.bodys.saledaily_exec:{rows:[]},null,!0,!0),e.cardTable.setTableData(s.SALEDAILY_CONST.CARDTABLE_EXP,t.bodys.saledaily_exp?t.bodys.saledaily_exp:{rows:[]},null,!0,!0),e.cardTable.setTableData(s.SALEDAILY_CONST.CARDTABLE_MEMORA,t.bodys.saledaily_memora?t.bodys.saledaily_memora:{rows:[]},null,!0,!0),e.cardTable.setTableData(s.SALEDAILY_CONST.CARDTABLE_CHANGE,t.bodys.saledaily_change?t.bodys.saledaily_change:{rows:[]},null,!0,!0),e.cardTable.setTableData(s.SALEDAILY_CONST.CARDTABLE_PAYTERM,t.bodys.saledaily_payterm?t.bodys.saledaily_payterm:{rows:[]},null,!0,!0)}},795:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=this,a=[r.SALEDAILY_CONST.CARDTABLEID,r.SALEDAILY_CONST.CARDTABLE_CHANGE,r.SALEDAILY_CONST.CARDTABLE_EXEC,r.SALEDAILY_CONST.CARDTABLE_EXP,r.SALEDAILY_CONST.CARDTABLE_MEMORA,r.SALEDAILY_CONST.CARDTABLE_PAYTERM,r.SALEDAILY_CONST.CARDTABLE_TERM],l=e.cardTable.getNumberOfRows(r.SALEDAILY_CONST.CARDTABLE_CHANGE),i=[],s=0;s<l;s++){var c={index:s,status:"1"};i.push(c)}e.cardTable.setRowStatusByIndexs(r.SALEDAILY_CONST.CARDTABLE_CHANGE,i);for(var u=e.cardTable.getNumberOfRows(r.SALEDAILY_CONST.CARDTABLEID),d=[],f=0;f<u;f++){var A={index:f,status:"1"};d.push(A)}e.cardTable.setRowStatusByIndexs(r.SALEDAILY_CONST.CARDTABLEID,d);var p=e.createExtCardData(r.SALEDAILY_CONST.CARDPAGEID,r.SALEDAILY_CONST.FORMID,a);(0,n.ajax)({pageid:r.SALEDAILY_CONST.CARDPAGEID,url:r.SALEDAILY_URL.CARD_EDIT_URL,data:p,success:function(a){var n=a.success;n&&(e.setUrlParam({status:r.SALEDAILY_CONST.STATUS_EDIT}),e.cardTable.selectAllRows(r.SALEDAILY_CONST.CARDTABLEID,!1),o.buttonController.call(t,e))}})};var n=a(0),r=a(6),o=a(17)},796:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var n=this,r=o.SALEDAILY_CONST.FORMID;if(t.cardTable.filterEmptyRows(o.SALEDAILY_CONST.CARDTABLEID,["pk_material","pk_marbasclass","cunitid","nnum","nqtorigprice","nqtorigtaxprice","norigtaxmny"],"include"),t.cardTable.filterEmptyRows(o.SALEDAILY_CONST.CARDTABLE_TERM,["vtermcode","vtermcontent","votherinfo","votherinfo"],"include"),t.cardTable.filterEmptyRows(o.SALEDAILY_CONST.CARDTABLE_EXP,["vexpcode","vexpsum","vmemo"],"include"),t.cardTable.filterEmptyRows(o.SALEDAILY_CONST.CARDTABLE_MEMORA,["vmemoracode","vmemo"],"include"),t.cardTable.filterEmptyRows(o.SALEDAILY_CONST.CARDTABLE_CHANGE,["vchangecode"],"include"),t.cardTable.filterEmptyRows(o.SALEDAILY_CONST.CARDTABLE_PAYTERM,["accrate","pk_incomeperiod","pk_balatype"],"include"),!(t.form.isCheckNow(r)&&t.cardTable.checkTableRequired(o.CARDTABLEAREAIDS)))return;if(0==t.cardTable.getVisibleRows(o.SALEDAILY_CONST.CARDTABLEID).length)return void(0,s.showWarningInfo)(null,(0,A.getLangByResId)(this,"4006SALEDAILY-000065"));var l=t.getUrlParam("status"),i="modify"==l?o.SALEDAILY_URL.CARD_MODIFYSAVE_URL:o.SALEDAILY_URL.CARD_SAVE_URL,c=t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"pk_ct_sale").value,u=t.createExtCardData(o.SALEDAILY_CONST.CARDPAGEID,o.SALEDAILY_CONST.FORMID,o.CARDTABLEAREAIDS);u.bodys[o.SALEDAILY_CONST.CARDTABLE_PAYTERM]&&u.bodys[o.SALEDAILY_CONST.CARDTABLE_PAYTERM].rows.map(function(e,t){e.values.pseudocolumn.value=t+""});if("modify"==l){var f=t.cardTable.getAllRows(o.SALEDAILY_CONST.CARDTABLE_CHANGE),_=0,L=0;if(f.forEach(function(e,t){var a=parseInt(e.values[o.FIELDS.vchangecode].value);a>L&&(L=a,_=t)}),!u.bodys[o.SALEDAILY_CONST.CARDTABLE_CHANGE].rows[_].values.vchgreason.value)return this.reason=null,void t.modal.show("ScriptActionDlg",{title:(0,A.getLangByResId)(this,"4006SALEDAILY-000020"),hasCloseBtn:!0,userControl:!0,content:React.createElement(d.default,{changeData:this.changeReason.bind(this),title:(0,A.getLangByResId)(this,"4006SALEDAILY-000091")}),beSureBtnClick:function(){n.reason?(u.bodys[o.SALEDAILY_CONST.CARDTABLE_CHANGE].rows[_].values.vchgreason.value=n.reason,p.call(n,t,u,i,c,r,e,l,a),t.modal.close("ScriptActionDlg")):(0,s.showWarningInfo)(null,(0,A.getLangByResId)(n,"4006SALEDAILY-000092"))},cancelBtnClick:function(){t.modal.close("ScriptActionDlg")}})}p.call(this,t,u,i,c,r,e,l,a)};var n,r=a(0),o=a(6),l=a(7),i=a(17),s=a(3),c=a(23),u=a(71),d=(n=u)&&n.__esModule?n:{default:n},f=a(50),A=a(2);function p(e,t,a,n,u,d,p,_){var L=this;this.props.validateToSave(t,function(){(0,r.ajax)({pageid:o.SALEDAILY_CONST.CARDPAGEID,url:a,data:t,success:function(t){t.formulamsg&&t.formulamsg instanceof Array&&t.formulamsg.length>0&&e.dealFormulamsg(t.formulamsg);var a=t.data,r=t.success;if(r){e.beforeUpdatePage();var E=e.getUrlParam("id");a.head.head.rows[0].values&&(a.head.head.rows[0].values.pk_ct_sale&&a.head.head.rows[0].values.pk_ct_sale.value&&(E=a.head.head.rows[0].values.pk_ct_sale.value,L.state.billid=a.head.head.rows[0].values.pk_ct_sale.value),a.head.head.rows[0].values.vbillcode&&a.head.head.rows[0].values.vbillcode.value&&(L.state.billcode=a.head.head.rows[0].values.vbillcode.value),a.head.head.rows[0].values.vtrantypecode&&a.head.head.rows[0].values.vtrantypecode.value&&(L.state.transtype=a.head.head.rows[0].values.vtrantypecode.value)),e.setUrlParam({id:E}),e.setUrlParam({status:o.SALEDAILY_CONST.STATUS_BROWSE}),e.setUrlParam({type:""}),e.cardTable.selectAllRows(o.SALEDAILY_CONST.CARDTABLEID,!1),(0,f.updateExtBillDataForCompareByPk)(e,a,(0,c.getConfig)(),p),e.updatePage(o.SALEDAILY_CONST.FORMID,o.CARDTABLEAREAIDS);var D=e.createExtCardData(o.SALEDAILY_CONST.CARDPAGEID,o.SALEDAILY_CONST.FORMID,o.CARDTABLEAREAIDS);p==o.SALEDAILY_CONST.STATUS_ADD?(0,l.addCacheData)(e,"pk_ct_sale",E,D,u,o.SALEDAILY_CONST.DATA_SOURCE):p==o.SALEDAILY_CONST.STATUS_MODIFY?a.head.head.rows[0].values.pk_ct_sale&&a.head.head.rows[0].values.pk_ct_sale.value?((0,l.deleteCacheData)(e,"pk_ct_sale",n,o.SALEDAILY_CONST.DATA_SOURCE),(0,l.addCacheData)(e,"pk_ct_sale",E,D,u,o.SALEDAILY_CONST.DATA_SOURCE)):(0,l.updateCacheData)(e,"pk_ct_sale",E,D,u,o.SALEDAILY_CONST.DATA_SOURCE):(0,l.updateCacheData)(e,"pk_ct_sale",E,D,D,o.SALEDAILY_CONST.DATA_SOURCE),"ref4310"==d&&(e.setUrlParam({type:"ref4310"}),(0,l.rewriteTransferSrcBids)(e,"csrcbid",a.bodys[o.SALEDAILY_CONST.CARDTABLEID].rows),e.transferTable.setTransformFormStatus(L.left,{status:!0,onChange:function(t,n,r){e.transferTable.setTransferListValueByIndex(L.left,a,r)}})),i.buttonController.call(L,e),(0,s.showSuccessInfo)((0,A.getLangByResId)(L,"4006SALEDAILY-000033")),_&&_()}}})})}},797:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){switch(a){case"Add":n.add_BtnClick.call(this,t);break;case"Copy":n.copy_BtnClick.call(this,t);break;case"Edit":n.edit_BtnClick.call(this,t);break;case"ReceiveStartControl":n.receiveStartControl_BtnClick.call(this,t);break;case"Cancel":n.cancel_BtnClick.call(this,e,t);break;case"Delete":n.delete_BtnClick.call(this,t);break;case"Refresh":n.cardQuery_BtnClick.call(this,t,"refresh");break;case"Save":n.save_BtnClick.call(this,e,t);break;case"SaveCommit":n.save_BtnClick.call(this,e,t,n.commit_BtnClick.bind(this,t));break;case"Commit":n.commit_BtnClick.call(this,t);break;case"UnCommit":n.uncommit_BtnClick.call(this,t);break;case"Freeze":case"UnFreeze":case"End":case"CTUnEnd":case"Validate":case"CancelValidate":n.buttonClick_BtnClick.call(this,t,a);break;case"File":n.fileManage_BtnClick.call(this,t);break;case"QueryAboutBusiness":n.queryAboutBusiness_BtnClick.call(this,t);break;case"ApproveInfo":n.openApprove_BtnClick.call(this,t);break;case"Modify":n.modify_BtnClick.call(this,t);break;case"ModiDelete":n.modiDelete_BtnClick.call(this,t);break;case"ReceivePlan":n.queryPayPlan_BtnClick.call(this,t);break;case"Ref4310":n.ref4310_BtnClick.call(this,t);break;case"QuitTransfer":n.quitTransfer_BtnClick.call(this,e,t);break;case"StructuredFile":n.showDoc_BtnClick.call(this,t);break;case"ImageScan":n.imageScan_BtnClick.call(this,t);break;case"ImageView":n.imageView_BtnClick.call(this,t);break;case"Receive":n.receive_BtnClick.call(this,t);break;case"ModifyHistory":n.modifyHistoryBtnClick.call(this,t);break;case"Print":n.print_BtnClick.call(this,t);break;case"Output":n.exportBtnClick.call(this,t)}};var n=a(55)},798:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.showCancelDialog)({beSureBtnClick:function(t){if(this.props.beforeUpdatePage(),"ref4310"==e){if(1==t.transferTable.getTransformFormCompleteStatus(this.left,this.curindex)){var a=t.transferTable.getTheTransferListDataSavedLastTime(this.left,this.curindex);t.form.setAllFormValue(function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a;return e}({},n.SALEDAILY_CONST.FORMID,a.head[n.SALEDAILY_CONST.FORMID])),t.cardTable.setTableData(n.SALEDAILY_CONST.CARDTABLEID,a.body[n.SALEDAILY_CONST.CARDTABLEID]),t.cardTable.setTableData(n.SALEDAILY_CONST.CARDTABLE_CHANGE,a.body[n.SALEDAILY_CONST.CARDTABLE_CHANGE]),t.cardTable.setTableData(n.SALEDAILY_CONST.CARDTABLE_EXEC,a.body[n.SALEDAILY_CONST.CARDTABLE_EXEC]),t.cardTable.setTableData(n.SALEDAILY_CONST.CARDTABLE_EXP,a.body[n.SALEDAILY_CONST.CARDTABLE_EXP]),t.cardTable.setTableData(n.SALEDAILY_CONST.CARDTABLE_MEMORA,a.body[n.SALEDAILY_CONST.CARDTABLE_MEMORA]),t.cardTable.setTableData(n.SALEDAILY_CONST.CARDTABLE_PAYTERM,a.body[n.SALEDAILY_CONST.CARDTABLE_PAYTERM]),t.cardTable.setTableData(n.SALEDAILY_CONST.CARDTABLE_TERM,a.body[n.SALEDAILY_CONST.CARDTABLE_TERM]),t.setUrlParam({status:n.SALEDAILY_CONST.STATUS_BROWSE,type:e,id:t.getUrlParam("id")})}else 1==t.transferTable.getTransformFormAmount(this.left)?(t.pushTo("/ref4310",{type:e}),t.form.setFormStatus(n.SALEDAILY_CONST.FORMID,n.SALEDAILY_CONST.STATUS_BROWSE),t.cardTable.setStatus(n.SALEDAILY_CONST.CARDTABLEID,n.SALEDAILY_CONST.STATUS_BROWSE)):t.transferTable.setTransformFormStatus(this.left,{status:!1,onChange:function(e,t){}});o.buttonController.call(this,t)}else{var r=t.getUrlParam("status");if("edit"==r||"modify"==r)t.setUrlParam({status:n.SALEDAILY_CONST.STATUS_BROWSE}),t.setUrlParam({type:""}),t.form.cancel(n.SALEDAILY_CONST.FORMID),t.cardTable.resetTableData(n.SALEDAILY_CONST.CARDTABLEID),t.cardTable.resetTableData(n.SALEDAILY_CONST.CARDTABLE_CHANGE),t.cardTable.resetTableData(n.SALEDAILY_CONST.CARDTABLE_EXEC),t.cardTable.resetTableData(n.SALEDAILY_CONST.CARDTABLE_EXP),t.cardTable.resetTableData(n.SALEDAILY_CONST.CARDTABLE_MEMORA),t.cardTable.resetTableData(n.SALEDAILY_CONST.CARDTABLE_PAYTERM),t.cardTable.resetTableData(n.SALEDAILY_CONST.CARDTABLE_TERM);else{var s=(0,i.getCurrentLastId)(n.SALEDAILY_CONST.DATA_SOURCE);"copy"==t.getUrlParam("type")&&(s=t.getUrlParam("srcid")),s?t.pushTo("/card",{status:n.SALEDAILY_CONST.STATUS_BROWSE,id:s}):t.pushTo("/card",{status:n.SALEDAILY_CONST.STATUS_BROWSE}),l.cardQuery_BtnClick.call(this,t)}o.buttonController.call(this,t)}this.props.updatePage(n.SALEDAILY_CONST.FORMID,n.CARDTABLEAREAIDS)}.bind(this,t)})};var n=a(6),r=a(3),o=a(17),l=a(55),i=a(7)},799:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.showSingleDeleteDialog)({beSureBtnClick:function(e){var t=this,a={pk:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_ct_sale").value,ts:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"ts").value};(0,n.ajax)({url:r.SALEDAILY_URL.CARD_DELETE_URL,data:a,pageid:r.SALEDAILY_CONST.CARDPAGEID,success:function(a){var n=a.success;if(n){var u=e.getUrlParam("id"),d=(0,l.getNextId)(e,u,r.SALEDAILY_CONST.DATA_SOURCE),f=(0,l.getCacheDataByPk)(e,r.SALEDAILY_CONST.DATA_SOURCE,d);(0,l.deleteCacheData)(e,"pk_ct_sale",u,r.SALEDAILY_CONST.DATA_SOURCE);var A=t.props.getUrlParam("type");if("ref4310"==A)1==e.transferTable.getTransformFormAmount(t.left)?e.pushTo("/ref4310",{type:A}):e.transferTable.setTransformFormStatus(t.left,{status:!1,onChange:function(e,a){(0,o.showSuccessInfo)((0,i.getLangByResId)(t,"4006SALEDAILY-000025"))}});else{if((0,o.showSuccessInfo)((0,i.getLangByResId)(t,"4006SALEDAILY-000025")),(0,l.setDefData)(r.SALEDAILY_CONST.DATA_SOURCE,"deleted",!0),!d)return e.pushTo("/card",{status:r.SALEDAILY_CONST.STATUS_BROWSE}),void s.cardQuery_BtnClick.call(t,e);e.setUrlParam(d),f?(e.beforeUpdatePage(),e.form.setAllFormValue(function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a;return e}({},r.SALEDAILY_CONST.FORMID,f.head.head)),f.bodys.saledaily_base&&e.cardTable.setTableData(r.SALEDAILY_CONST.CARDTABLEID,f.bodys.saledaily_base,null,!0,!0),f.bodys.saledaily_term&&e.cardTable.setTableData(r.SALEDAILY_CONST.CARDTABLE_TERM,f.bodys.saledaily_term,null,!0,!0),f.bodys.saledaily_exec&&e.cardTable.setTableData(r.SALEDAILY_CONST.CARDTABLE_EXEC,f.bodys.saledaily_exec,null,!0,!0),f.bodys.saledaily_exp&&e.cardTable.setTableData(r.SALEDAILY_CONST.CARDTABLE_EXP,f.bodys.saledaily_exp,null,!0,!0),f.bodys.saledaily_memora&&e.cardTable.setTableData(r.SALEDAILY_CONST.CARDTABLE_MEMORA,f.bodys.saledaily_memora,null,!0,!0),f.bodys.saledaily_change&&e.cardTable.setTableData(r.SALEDAILY_CONST.CARDTABLE_CHANGE,f.bodys.saledaily_change,null,!0,!0),f.bodys.saledaily_payterm&&e.cardTable.setTableData(r.SALEDAILY_CONST.CARDTABLE_PAYTERM,f.bodys.saledaily_payterm,null,!0,!0),c.buttonController.call(t,e),e.updatePage(r.SALEDAILY_CONST.FORMID,r.CARDTABLEAREAIDS)):s.cardQuery_BtnClick.call(t,e)}}}})}.bind(this,e)})};var n=a(0),r=a(6),o=a(3),l=a(7),i=a(2),s=a(55),c=a(17)},800:function(e,t,a){"use strict";function n(e,t,a,n,r){!function(e,t,a,n,r,o,l,i){e.handleRelationItems({type:t,areaCode:a,key:n,value:r,changedrows:o,index:l,callback:i,formMetaCode:a})}(e,"form",t,a,n,null,null,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.mainOrgEdit=function(e,t){n(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pk_org",arguments[3],arguments[4])},t.editForm=n},801:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.setUrlParam({status:n.SALEDAILY_CONST.STATUS_ADD}),r.initCard_BtnClick.call(this,e)};var n=a(6),r=a(55)},802:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this,d={qryinfo:[{pk:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_ct_sale").value,ts:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"ts").value}]};t&&(d.assign=JSON.stringify(t));(0,n.ajax)({pageid:r.SALEDAILY_CONST.CARDPAGEID,url:r.SALEDAILY_URL.CARD_COMMIT_URL,data:d,success:function(t){var n=t.success,d=t.data;!d||!d.workflow||"approveflow"!=d.workflow&&"workflow"!=d.workflow?n&&(a.props.beforeUpdatePage(),(0,c.updateExtBillDataForCompareByPk)(e,d,(0,u.getConfig)()),(0,i.updateCacheData)(e,"pk_ct_sale",e.getUrlParam("id"),d,r.SALEDAILY_CONST.FORMID,r.SALEDAILY_CONST.DATA_SOURCE),l.buttonController.call(a,e),a.props.updatePage(r.SALEDAILY_CONST.FORMID,r.CARDTABLEAREAIDS),(0,o.showSuccessInfo)((0,s.getLangByResId)(a,"4006SALEDAILY-000024"))):a.setState({compositedata:d,compositedisplay:!0})}})};var n=a(0),r=a(6),o=a(3),l=a(17),i=a(7),s=a(2),c=a(50),u=a(23)},803:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this,d={qryinfo:[{pk:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_ct_sale").value,ts:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"ts").value}]};t&&(d.assign=JSON.stringify(t));(0,n.ajax)({pageid:r.SALEDAILY_CONST.CARDPAGEID,url:r.SALEDAILY_URL.CARD_UNCOMMIT_URL,data:d,success:function(t){var n=t.success,d=t.data;!d||!d.workflow||"approveflow"!=d.workflow&&"workflow"!=d.workflow?n&&(a.props.beforeUpdatePage(),(0,c.updateExtBillDataForCompareByPk)(e,d,(0,u.getConfig)()),(0,i.updateCacheData)(e,"pk_ct_sale",e.getUrlParam("id"),d,r.SALEDAILY_CONST.FORMID,r.SALEDAILY_CONST.DATA_SOURCE),l.buttonController.call(a,e),a.props.updatePage(r.SALEDAILY_CONST.FORMID,r.CARDTABLEAREAIDS),(0,o.showSuccessInfo)((0,s.getLangByResId)(a,"4006SALEDAILY-000034"))):a.setState({compositedata:d,compositedisplay:!0})}})};var n=a(0),r=a(6),o=a(3),l=a(17),i=a(7),s=a(2),c=a(50),u=a(23)},804:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a=e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_ct_sale").value,d={reason:this.closeReason,qryinfo:[{pk:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_ct_sale").value,ts:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"ts").value}]};(0,n.ajax)({pageid:r.SALEDAILY_CONST.CARDPAGEID,url:r.SALEDAILY_URL.CARD_VALIDATE_URL,data:d,success:function(n){var d=n.success,f=n.data;if(d){if((0,c.updateExtBillDataForCompareByPk)(e,f,(0,u.getConfig)(),"validate"),1!=e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"version").value){var A=e.createExtCardData(r.SALEDAILY_CONST.CARDPAGEID,r.SALEDAILY_CONST.FORMID,r.CARDTABLEAREAIDS),p=f.head.head.rows[0].values.pk_ct_sale.value;e.setUrlParam({id:p}),(0,i.deleteCacheData)(e,"pk_ct_sale",a,r.SALEDAILY_CONST.DATA_SOURCE),(0,i.addCacheData)(e,"pk_ct_sale",p,A,r.SALEDAILY_CONST.FORMID,r.SALEDAILY_CONST.DATA_SOURCE)}else(0,i.updateCacheData)(e,"pk_ct_sale",e.getUrlParam("id"),f,r.SALEDAILY_CONST.FORMID,r.SALEDAILY_CONST.DATA_SOURCE);l.buttonController.call(t,e),(0,o.showSuccessInfo)((0,s.getLangByResId)(t,"4006SALEDAILY-000037"))}}})};var n=a(0),r=a(6),o=a(3),l=a(17),i=a(7),s=a(2),c=a(50),u=a(23)},805:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a={reason:this.closeReason,qryinfo:[{pk:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_ct_sale").value,ts:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"ts").value}]};(0,n.ajax)({pageid:r.SALEDAILY_CONST.CARDPAGEID,url:r.SALEDAILY_URL.CARD_UNVALIDATE_URL,data:a,success:function(a){var n=a.success,d=a.data;n&&(t.props.beforeUpdatePage(),(0,c.updateExtBillDataForCompareByPk)(e,d,(0,u.getConfig)()),(0,i.updateCacheData)(e,"pk_ct_sale",e.getUrlParam("id"),d,r.SALEDAILY_CONST.FORMID,r.SALEDAILY_CONST.DATA_SOURCE),l.buttonController.call(t,e),t.props.updatePage(r.SALEDAILY_CONST.FORMID,r.CARDTABLEAREAIDS),(0,o.showSuccessInfo)((0,s.getLangByResId)(t,"4006SALEDAILY-000064")))}})};var n=a(0),r=a(6),o=a(3),l=a(17),i=a(7),s=a(2),c=a(50),u=a(23)},806:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a={reason:this.closeReason,qryinfo:[{pk:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_ct_sale").value,ts:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"ts").value}]};(0,n.ajax)({pageid:r.SALEDAILY_CONST.CARDPAGEID,url:r.SALEDAILY_URL.CARD_UNFREEZE_URL,data:a,success:function(a){var n=a.success,d=a.data;n&&(t.props.beforeUpdatePage(),(0,c.updateExtBillDataForCompareByPk)(e,d,(0,u.getConfig)()),(0,i.updateCacheData)(e,"pk_ct_sale",e.getUrlParam("id"),d,r.SALEDAILY_CONST.FORMID,r.SALEDAILY_CONST.DATA_SOURCE),l.buttonController.call(t,e),t.props.updatePage(r.SALEDAILY_CONST.FORMID,r.CARDTABLEAREAIDS),(0,o.showSuccessInfo)((0,s.getLangByResId)(t,"4006SALEDAILY-000036")))}})};var n=a(0),r=a(6),o=a(3),l=a(17),i=a(7),s=a(2),c=a(50),u=a(23)},807:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a={reason:this.closeReason,qryinfo:[{pk:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_ct_sale").value,ts:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"ts").value}]};(0,n.ajax)({pageid:r.SALEDAILY_CONST.CARDPAGEID,url:r.SALEDAILY_URL.CARD_FREEZE_URL,data:a,success:function(a){var n=a.success,d=a.data;n&&(t.props.beforeUpdatePage(),(0,c.updateExtBillDataForCompareByPk)(e,d,(0,u.getConfig)()),(0,i.updateCacheData)(e,"pk_ct_sale",e.getUrlParam("id"),d,r.SALEDAILY_CONST.FORMID,r.SALEDAILY_CONST.DATA_SOURCE),l.buttonController.call(t,e),t.props.updatePage(r.SALEDAILY_CONST.FORMID,r.CARDTABLEAREAIDS),(0,o.showSuccessInfo)((0,s.getLangByResId)(t,"4006SALEDAILY-000027")))}})};var n=a(0),r=a(6),o=a(3),l=a(17),i=a(7),s=a(2),c=a(50),u=a(23)},808:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a={reason:this.closeReason,qryinfo:[{pk:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_ct_sale").value,ts:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"ts").value}]};(0,n.ajax)({pageid:r.SALEDAILY_CONST.CARDPAGEID,url:r.SALEDAILY_URL.CARD_END_URL,data:a,success:function(a){var n=a.success,d=a.data;n&&(t.props.beforeUpdatePage(),(0,c.updateExtBillDataForCompareByPk)(e,d,(0,u.getConfig)()),(0,i.updateCacheData)(e,"pk_ct_sale",e.getUrlParam("id"),d,r.SALEDAILY_CONST.FORMID,r.SALEDAILY_CONST.DATA_SOURCE),l.buttonController.call(t,e),t.props.updatePage(r.SALEDAILY_CONST.FORMID,r.CARDTABLEAREAIDS),(0,o.showSuccessInfo)((0,s.getLangByResId)(t,"4006SALEDAILY-000026")))}})};var n=a(0),r=a(6),o=a(3),l=a(17),i=a(7),s=a(2),c=a(50),u=a(23)},809:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a={reason:this.closeReason,qryinfo:[{pk:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_ct_sale").value,ts:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"ts").value}]};(0,n.ajax)({pageid:r.SALEDAILY_CONST.CARDPAGEID,url:r.SALEDAILY_URL.CARD_UNEND_URL,data:a,success:function(a){var n=a.success,d=a.data;n&&(t.props.beforeUpdatePage(),(0,c.updateExtBillDataForCompareByPk)(e,d,(0,u.getConfig)()),(0,i.updateCacheData)(e,"pk_ct_sale",e.getUrlParam("id"),d,r.SALEDAILY_CONST.FORMID,r.SALEDAILY_CONST.DATA_SOURCE),l.buttonController.call(t,e),t.props.updatePage(r.SALEDAILY_CONST.FORMID,r.CARDTABLEAREAIDS),(0,o.showSuccessInfo)((0,s.getLangByResId)(t,"4006SALEDAILY-000035")))}})};var n=a(0),r=a(6),o=a(3),l=a(17),i=a(7),s=a(2),c=a(50),u=a(23)},810:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.form.getFormItemsValue(n.SALEDAILY_CONST.FORMID,"pk_ct_sale").value,a=e.form.getFormItemsValue(n.SALEDAILY_CONST.FORMID,"vbillcode").value;this.setState({showUploader:!0,billid:t,billcode:a})};var n=a(6)},811:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){this.setState({showApproveDetail:!0})}},812:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!0===(e.form.getFormItemsValue(n.SALEDAILY_CONST.FORMID,"blatest")||{}).value?"pk_ct_sale":"pk_origct",a=(e.form.getFormItemsValue(n.SALEDAILY_CONST.FORMID,t)||{}).value;a||(a=(e.form.getFormItemsValue(n.SALEDAILY_CONST.FORMID,"pk_ct_sale")||{}).value);this.setState({showBillTrack:!0,billid:a})};var n=a(6)},813:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_ct_sale").value,a={qryinfo:[{pk:t,ts:e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"ts").value}]};(0,o.showDeleteDialog)({beSureBtnClick:d.bind(this,e,a,t)})};var n=a(0),r=a(6),o=a(3),l=a(17),i=a(7),s=a(2),c=a(50),u=a(23);function d(e,t,a){var d=this;(0,n.ajax)({pageid:r.SALEDAILY_CONST.CARDPAGEID,url:r.SALEDAILY_URL.CARD_MODIDELETE_URL,data:t,success:function(t){var n=t.success,f=t.data;if(n){var A=f.head.head.rows[0].values.pk_ct_sale.value;d.props.beforeUpdatePage(),(0,c.updateExtBillDataForCompare)(e,f,(0,u.getConfig)()),(0,i.deleteCacheData)(e,"pk_ct_sale",a,r.SALEDAILY_CONST.DATA_SOURCE),(0,i.addCacheData)(e,"pk_ct_sale",A,f,r.SALEDAILY_CONST.FORMID,r.SALEDAILY_CONST.DATA_SOURCE),e.setUrlParam({id:A}),l.buttonController.call(d,e),d.props.updatePage(r.SALEDAILY_CONST.FORMID,r.CARDTABLEAREAIDS),(0,o.showSuccessInfo)((0,s.getLangByResId)(d,"4006SALEDAILY-000028"))}}})}},814:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[],a=e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_ct_sale").value;t.push(a),(0,n.ajax)({url:r.SALEDAILY_URL.printdatapermission,data:t,success:function(e){e.success&&(0,n.print)("pdf",r.SALEDAILY_URL.PRINT_URL,{nodekey:null,oids:t})}})};var n=a(0),r=a(6)},815:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.setUrlParam({status:n.SALEDAILY_CONST.STATUS_EDIT,type:"receive"}),e.cardTable.selectAllRows(n.SALEDAILY_CONST.CARDTABLEID,!1),r.buttonController.call(this,e)};var n=a(6),r=a(17)},816:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getUrlParam("id");e.pushTo("/card",{status:r.SALEDAILY_CONST.STATUS_ADD,type:"copy",srcid:t}),l.default.call(this,e)};var n,r=a(6),o=a(311),l=(n=o)&&n.__esModule?n:{default:n}},817:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a=e.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"pk_ct_sale").value;(0,r.ajax)({url:o.SALEDAILY_URL.LIST_GATHERMNY_URL,data:{pk:a},success:function(a){var n=a.success,r=a.data;n&&r&&e.modal.show("MessageDlg",{size:"xlg",title:(0,s.getLangByResId)(t,"4006SALEDAILY-000031"),noFooter:!0,content:React.createElement("div",{className:"nc-bill-card"},React.createElement("div",{className:"nc-bill-table-area"},React.createElement(i.default,{payPlanData:r})))})}})};var n,r=a(0),o=a(6),l=a(166),i=(n=l)&&n.__esModule?n:{default:n},s=a(2)},818:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!t)return void(0,n.showWarningInfo)(null,(0,r.getLangByResId)(this,"4006SALEDAILY-000029"));e.setUrlParam(t),o.cardQuery_BtnClick.call(this,e)};var n=a(3),r=a(2),o=a(55)},819:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){"ResetRowNo"==a?(this.props.beforeUpdatePage(),o.RownoUtils.resetRowNo(t,n.SALEDAILY_CONST.CARDTABLEID),this.props.updatePage(n.SALEDAILY_CONST.FORMID,n.SALEDAILY_CONST.CARDTABLEID)):-1!=a.indexOf("AddLine")?r.addrow_BtnClick.call(this,t,e):-1!=a.indexOf("DeleteLine")?r.delrow_BtnClick.call(this,t,e):-1!=a.indexOf("CopyLine")?r.copyline_BtnClick.call(this,t,null,null,e):-1!=a.indexOf("PasteToTail")?r.pasteLineToTail_BtnClick.call(this,t,e):-1!=a.indexOf("CancelCopy")&&r.canelCopy_BtnClick.call(this,t,e)};var n=a(6),r=a(55),o=a(44)},820:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=e.cardTable.getCheckedRows(t),r=[];if(0==a.length)return;for(var o=0;o<a.length;o++)"3"!=a[o].data.status&&r.push(a[o].index);e.cardTable.delRowsByIndex(t,r),n.buttonController.bind(this)(e)};a(6);var n=a(17)},821:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var i=this;if(t==r.SALEDAILY_CONST.CARDTABLEID){var s=r.SALEDAILY_CONST.CARDTABLEID,c=[r.SALEDAILY_CONST.CARDTABLEID,r.SALEDAILY_CONST.CARDTABLE_CHANGE,r.SALEDAILY_CONST.CARDTABLE_EXEC,r.SALEDAILY_CONST.CARDTABLE_EXP,r.SALEDAILY_CONST.CARDTABLE_MEMORA,r.SALEDAILY_CONST.CARDTABLE_PAYTERM,r.SALEDAILY_CONST.CARDTABLE_TERM],u=e.createExtCardData(r.SALEDAILY_CONST.CARDPAGEID,r.SALEDAILY_CONST.FORMID,c);(0,n.ajax)({url:r.SALEDAILY_URL.CARD_ADDLINE_URL,data:u,success:function(t){var n=t.success,r=t.data;n&&r&&r.bodys&&(e.cardTable.addRow(s,a,r.bodys.saledaily_base.rows[0].values,!1),o.buttonController.call(i,e))}})}else{var d,f=e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_org"),A=e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_org_v"),p=e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_group");e.cardTable.addRow(t,a,(l(d={},"pk_org",f),l(d,"pk_org_v",A),l(d,"pk_group",p),d)),RownoUtils.setRowNo(e,t),o.buttonController.call(this,e),rowButtonController.call(this,t)}};var n=a(0),r=a(6),o=a(17);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},822:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){n.rowCopyPasteUtils.cancel.call(this,e,t,r.buttonController.bind(this,e))};var n=a(23),r=a(17)},823:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,o){a>=0&&t?n.rowCopyPasteUtils.copyRow.call(this,e,o,t,r.buttonController.bind(this,e)):n.rowCopyPasteUtils.copyRows.call(this,e,o,r.buttonController.bind(this,e))};var n=a(23),r=(a(6),a(17))},824:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){r.rowCopyPasteUtils.pasteRowsToIndex.call(this,e,n,a,c,o.buttonController.bind(this,e)),s.RownoUtils.setRowNo(e,n),i.default.call(this,n)};a(6);var n,r=a(23),o=a(17),l=a(78),i=(n=l)&&n.__esModule?n:{default:n},s=a(44);var c=["crowno","ts","pk_ct_sale","pk_ct_sale_b","pk_ct_sale_term","pk_ct_sale_exp","pk_ct_sale_memora","pk_ct_sale_payterm"]},825:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){r.rowCopyPasteUtils.pasteRowsToTail.call(this,e,t,c,o.buttonController.bind(this,e)),s.RownoUtils.setRowNo(e,t),i.default.call(this,t)};a(6);var n,r=a(23),o=a(17),l=a(78),i=(n=l)&&n.__esModule?n:{default:n},s=a(44);var c=["crowno","ts","pk_ct_sale","pk_ct_sale_b","pk_ct_sale_term","pk_ct_sale_exp","pk_ct_sale_memora","pk_ct_sale_payterm"]},826:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){e.cardTable.delRowsByIndex(t,a),r.buttonController.call(this,e),l.default.call(this,t)};var n,r=a(17),o=a(78),l=(n=o)&&n.__esModule?n:{default:n}},827:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,o,l,i,s){"Spread"==a?s!==r.SALEDAILY_CONST.STATUS_BROWSE?e.cardTable.openModel(r.SALEDAILY_CONST.CARDTABLEID,"edit",l,i):e.cardTable.toggleRowView(r.SALEDAILY_CONST.CARDTABLEID,l):-1!=a.indexOf("PasteLine")?n.pasteLine_BtnClick.call(this,e,l,i,t):-1!=a.indexOf("DeleteLine")?n.deleteRow_BtnClick.call(this,e,t,i):-1!=a.indexOf("CopyLine")?n.copyline_BtnClick.call(this,e,l,i,t):-1!=a.indexOf("InsertLine")&&n.insertline_BtnClick.call(this,e,t,i)};var n=a(55),r=a(6)},828:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.clearTransferCache)(e,n.REF4310_CONST.Ref4310DataSource),e.pushTo("/ref4310",{type:"ref4310"})};a(6);var n=a(51),r=a(7)},829:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this;if("ref4310"==t){e.transferTable.getTransformFormStatus(this.left)?r.call(this,e):(0,n.showBackWarningDialog)({beSureBtnClick:function(){r.call(a,e)}})}else e.pushTo("/list",{})};var n=a(3);function r(e){e.pushTo("/ref4310",{type:"ref4310"})}},830:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this;t.transferTable.getTransformFormStatus(this.left)?r.call(this,t):(0,n.showQuitTransferWarningDialog)({beSureBtnClick:function(){r.call(a,t)}})};var n=a(3);function r(e){e.pushTo("/list",{})}},831:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){this.setState({showDoc:!0})}},832:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a="",c="",f="",A=!0;switch(t){case"Freeze":a=(0,o.getLangByResId)(this,"4006SALEDAILY-000002"),c=(0,o.getLangByResId)(this,"4006SALEDAILY-000003"),f=(0,o.getLangByResId)(this,"4006SALEDAILY-000004");break;case"UnFreeze":a=(0,o.getLangByResId)(this,"4006SALEDAILY-000005"),c=(0,o.getLangByResId)(this,"4006SALEDAILY-000006"),f=(0,o.getLangByResId)(this,"4006SALEDAILY-000007");break;case"End":a=(0,o.getLangByResId)(this,"4006SALEDAILY-000008");var p=(e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"invallidate")||{}).value,_=(0,i.getBusinessInfo)().businessDate;p&&p.split(" ")[0]!=_.split(" ")[0]?(c=(0,o.getLangByResId)(this,"4006SALEDAILY-000084"),f=(0,o.getLangByResId)(this,"4006SALEDAILY-000010")):(A=!1,c=(0,o.getLangByResId)(this,"4006SALEDAILY-000009"));break;case"CTUnEnd":a=(0,o.getLangByResId)(this,"4006SALEDAILY-000011"),c=(0,o.getLangByResId)(this,"4006SALEDAILY-000012"),f=(0,o.getLangByResId)(this,"4006SALEDAILY-000013");break;case"CancelValidate":a=(0,o.getLangByResId)(this,"4006SALEDAILY-000014"),c=(0,o.getLangByResId)(this,"4006SALEDAILY-000015"),f=(0,o.getLangByResId)(this,"4006SALEDAILY-000016");break;case"Validate":a=(0,o.getLangByResId)(this,"4006SALEDAILY-000017");var L=(e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"valdate")||{}).value,E=(0,i.getBusinessInfo)().businessDate;L&&L.split(" ")[0]!=E.split(" ")[0]?(c=(0,o.getLangByResId)(this,"4006SALEDAILY-000066"),f=(0,o.getLangByResId)(this,"4006SALEDAILY-000019")):(A=!1,c=(0,o.getLangByResId)(this,"4006SALEDAILY-000018"))}(0,l.showWarningDialog)(a,c,{beSureBtnClick:function(e){var a=this;this.closeReason="",A?e.modal.show("ScriptActionDlg",{title:(0,o.getLangByResId)(this,"4006SALEDAILY-000020"),content:React.createElement(s.default,{changeData:function(e){a.closeReason=e},title:f}),leftBtnName:(0,o.getLangByResId)(this,"4006SALEDAILY-000021"),rightBtnName:(0,o.getLangByResId)(this,"4006SALEDAILY-000022"),beSureBtnClick:n.onReasonBtnClick.bind(this,e,t),closeModalEve:u.bind(this),cancelBtnClick:d.bind(this,e,t),size:"sm"}):n.onReasonBtnClick.call(this,e,t)}.bind(this,e)})};var n=a(55),r=a(6),o=a(2),l=a(3),i=a(0),s=(c(a(27)),c(a(71)));function c(e){return e&&e.__esModule?e:{default:e}}function u(){this.props.modal.close("ScriptActionDlg")}function d(e,t){this.closeReason="",n.onReasonBtnClick.call(this,e,t)}},833:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(t){case"Freeze":n.freeze_BtnClick.call(this,e);break;case"UnFreeze":n.unfreeze_BtnClick.call(this,e);break;case"End":n.end_BtnClick.call(this,e);break;case"CTUnEnd":n.unend_BtnClick.call(this,e);break;case"CancelValidate":n.unvalidate_BtnClick.call(this,e);break;case"Validate":n.validate_BtnClick.call(this,e)}};var n=a(55)},834:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[e.form.getFormItemsValue(n.SALEDAILY_CONST.FORMID,"pk_ct_sale").value+","+e.form.getFormItemsValue(n.SALEDAILY_CONST.FORMID,"ts").value],a=e.form.getFormItemsValue(n.SALEDAILY_CONST.FORMID,"ctrantypeid").value;(0,r.ajax)({url:n.SALEDAILY_URL.RECEIVE_URL,data:{pks:t,destbillType:"F2",ctrantypeid:a},success:function(a){if(a.success){var n=a.data[0];r.cacheTools.set("CtToF2Pks",t),e.openTo(null,{pagecode:n.pagecode,appcode:n.appcode,srcbilltype:"Z3",status:"add"})}}})};var n=a(6),r=a(0)},835:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var o=e.getUrlParam("id"),l=e.createMasterChildData(n.SALEDAILY_CONST.CARDPAGEID,n.SALEDAILY_CONST.FORMID,n.SALEDAILY_CONST.CARDTABLEID),i={};i.billId=o,i.billType=l.head.head.rows[0].values.vtrantypecode.value,i.tranTypeId=l.head.head.rows[0].values.vtrantypecode.value,i.pk_org=l.head.head.rows[0].values.pk_org.value,i.pk_org_name=l.head.head.rows[0].values.pk_org.display,i.pk_billtype="Z3",i.billDate=l.head.head.rows[0].values.dbilldate.value,i.vbillcode=l.head.head.rows[0].values.vbillcode.value,i.cash=l.head.head.rows[0].values.ntotalorigmny.value,r.SCMImageScan.call(this,e,i)};var n=a(6),r=a(107)},836:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var o=e.getUrlParam("id"),l=e.createMasterChildData(n.SALEDAILY_CONST.CARDPAGEID,n.SALEDAILY_CONST.FORMID,n.SALEDAILY_CONST.CARDTABLEID),i={};i.billId=o,i.billType=l.head.head.rows[0].values.vtrantypecode.value,i.tranTypeId=l.head.head.rows[0].values.vtrantypecode.value,i.pk_org=l.head.head.rows[0].values.pk_org.value,r.SCMImageView.call(this,e,i)};var n=a(6),r=a(107)},837:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a={pks:[e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_ct_sale").value],pagecode:r.SALEDAILY_CONST.CARDPAGEID};(0,n.ajax)({url:r.SALEDAILY_URL.MODIFYHISTORY_URL,data:a,success:function(e){e.success&&(t.paneData=e.data,t.setState({showPane:!t.state.showPane}))}})};var n=a(0),r=a(6)},838:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[],a=e.form.getFormItemsValue(r.SALEDAILY_CONST.FORMID,"pk_ct_sale").value;t.push(a),(0,n.ajax)({url:r.SALEDAILY_URL.printdatapermission,data:t,success:function(e){e.success&&(0,n.output)({url:r.SALEDAILY_URL.PRINT_URL,data:{oids:t,outputType:"output"}})}})};var n=a(0),r=a(6)},839:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.headRefersFilter=void 0;var n,r=a(840),o=(n=r)&&n.__esModule?n:{default:n};t.headRefersFilter=o.default},840:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=n.SALEDAILY_CONST.FORMID;t[a].items.map(function(t){"pk_org_v"==t.attrcode?t.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.scmpub.ref.AppPermissionOrgVidRefFilter"}}:"personnelid"==t.attrcode?t.queryCondition=function(){return{pk_org:(e.form.getFormItemsValue(a,"pk_org")||{}).value,depid:(e.form.getFormItemsValue(a,"depid")||{}).value,busifuncode:"sa"}}:"ctrantypeid"==t.attrcode?t.queryCondition=function(){return{parentbilltype:"Z3"}}:"depid_v"==t.attrcode?t.queryCondition=function(){return{pk_org:(e.form.getFormItemsValue(a,"pk_org")||{}).value,busifuncode:"sa"}}:"pk_customer"==t.attrcode||"cprojectid"==t.attrcode?t.queryCondition=function(){return{pk_org:(e.form.getFormItemsValue(a,"pk_org")||{}).value}}:(t.attrcode.indexOf("vdef"),t.queryCondition=function(){return{pk_org:e.form.getFormItemsValue(a,"pk_org").value}})})};var n=a(6)},841:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=null,t=this.props.transferTable.getTransferTableSelectedId();if(t){var a=[],n=[],r=!0,o=!1,l=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var c=i.value;if(c.head&&c.head.pk&&a.push(c.head.pk+","+c.head.ts),c.bodys&&c.bodys[0].pk){var u=!0,d=!1,f=void 0;try{for(var A,p=c.bodys[Symbol.iterator]();!(u=(A=p.next()).done);u=!0){var _=A.value;n.push(_.pk+","+_.ts)}}catch(e){d=!0,f=e}finally{try{!u&&p.return&&p.return()}finally{if(d)throw f}}}}}catch(e){o=!0,l=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw l}}e=[{cbilltype:"4310",hidts:a,bidts:n}]}return e}},842:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this;(0,n.ajax)({url:r.SALEDAILY_URL.TRANSFER4310_URL,pageid:r.SALEDAILY_CONST.CARDPAGEID,data:e,success:function(e){e.success&&(e.data||e.data)&&(Array.isArray(e.data)&&e.data.map(function(e){e.bodys[r.SALEDAILY_CONST.CARDTABLE_PAYTERM]||(e.bodys[r.SALEDAILY_CONST.CARDTABLE_PAYTERM]={areacode:r.SALEDAILY_CONST.CARDTABLE_PAYTERM,rows:[]})}),t.props.transferTable.setTransferListValue(t.left,e.data))}})};var n=a(0),r=a(6)},843:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.body_BeforeEvent=t.head_BeforeEvent=t.body_AfterEvent=t.head_AfterEvent=void 0;var n=i(a(844)),r=i(a(312)),o=i(a(845)),l=i(a(847));function i(e){return e&&e.__esModule?e:{default:e}}t.head_AfterEvent=r.default,t.body_AfterEvent=n.default,t.head_BeforeEvent=o.default,t.body_BeforeEvent=l.default},844:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,c,u,d,f){if(t!=n.SALEDAILY_CONST.CARDTABLE_CHANGE){var A=!1;if(u.forEach(function(e){JSON.stringify(e.newvalue.value||{})==JSON.stringify(e.oldvalue.value||{})||(A=!0)}),A){var p=(0,l.createExtBodyAfterEventData)(e,n.SALEDAILY_CONST.CARDPAGEID,n.SALEDAILY_CONST.FORMID,i.cardBodyAreas,t,a,u,d,{});(0,r.ajax)({url:n.SALEDAILY_URL.CARD_BODY_AFTER_URL,data:p,async:!1,success:function(a){a.success&&a.data&&(a.data.userObject.error&&(0,o.showWarningInfo)(null,a.data.userObject.error),(0,l.processExtBillCardBodyEditResult)(e,t,a.data))}}),(0,s.processCardTableAutoAddRow)(e,t,d,{isMuli:u.length>1,hasCrownoField:t==n.SALEDAILY_CONST.CARDTABLEID})}}};var n=a(6),r=a(0),o=a(3),l=a(43),i=a(210),s=a(105)},845:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,o,l=(n=f(regeneratorRuntime.mark(function e(t,a){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={key:s.FIELDS.vbillcode,formareaid:s.SALEDAILY_CONST.FORMID,pk_org_key:s.FIELDS.pk_org,billtype:"Z3"},e.next=3,d.default.call(this,this.props,n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)}),i=a(0),s=a(6),c=a(12),u=a(846),d=(r=u)&&r.__esModule?r:{default:r};function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function n(r,o){try{var l=t[r](o),i=l.value}catch(e){return void a(e)}if(!l.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}function A(e,t){return new Promise(function(e,a){(0,i.ajax)({url:s.SALEDAILY_URL.CARD_HEAD_BEFORE_URL,data:t,success:function(t){t.data&&(1==t.data.isedit?e(!0):e(!1))}})})}t.default=(o=f(regeneratorRuntime.mark(function e(t,a,n,r,o){var i,u,d,f,_,L;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.getUrlParam("type"),u=!0,!i||"receive"!=i){e.next=4;break}return e.abrupt("return",!1);case 4:if(t.getUrlParam("status")!=s.SALEDAILY_CONST.STATUS_MODIFY){e.next=11;break}if(!(["ctname","valdate","invallidate","custunit","depid_v","personnelid","deliaddr"].indexOf(n)>=0||n.indexOf("vdef")>=0)){e.next=10;break}return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:if("nexchangerate"!=n){e.next=17;break}d=o.corigcurrencyid.value,f=o.ccurrencyid.value,u=d!=f,e.next=36;break;case 17:if("vbillcode"!==n){e.next=21;break}u=l.call(this,r,o),e.next=36;break;case 21:if("ngroupexchgrate"!=n&&"nglobalexchgrate"!=n){e.next=28;break}return _={key:n,areaid:a,params:{corigcurrencyid:o.corigcurrencyid.value||null,ccurrencyid:o.ccurrencyid.value||null}},e.next=25,A.call(this,t,_);case 25:u=e.sent,e.next=36;break;case 28:if(-1==p.indexOf(n)){e.next=32;break}u=!1,e.next=36;break;case 32:if("ctrantypeid"!==n){e.next=36;break}return e.next=35,c.transtypeUtils.beforeEdit.call(this,n,"ctrantypeid","vtrantypecode");case 35:u=e.sent;case 36:return u&&(L={props:t,key:n,appcode:null,pagecode:s.SALEDAILY_CONST.CARDPAGEID,headarea:s.SALEDAILY_CONST.FORMID,bodyarea:s.SALEDAILY_CONST.CARDTABLEID,isHead:!0,record:null,pk_org_field:s.FIELDS.pk_org,billtype:"Z3",transtypeid_field:s.FIELDS.ctrantypeid},c.crossRuleUtils.beforeEdit.call(this,L)),e.abrupt("return",u);case 38:case"end":return e.stop()}},e,this)})),function(e,t,a,n,r){return o.apply(this,arguments)});var p=["pk_org","version","deliaddrlist","ccurrencyid","fstatusflag","ninvctlstyle","norigpshamount","ntotalgpamount","ntotalastnum","ntotalorigmny","pk_ct_sale","pk_group","bshowlatest","actualvalidate","modifystatus","actualinvalidate","ts"]},846:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new Promise(function(a,o){var l=t.key,i=t.formareaid,s=t.pk_org_key,c=t.billtype,u=e.form.getFormItemsValue(i,s);if(u&&u.value){var d={key:l,params:{pk_org:u.value,billtype:c}};(0,r.ajax)({url:n.SALEDAILY_URL.CARD_HEAD_BEFORE_URL,data:d,success:function(e){if(e.data){var t=e.data.isedit;t?a(t):e.data.message&&(0,r.toast)({color:"warning",content:e.data.message}),a(!1)}},error:function(e){(0,r.toast)({color:"warning",content:e.message}),a(!1)}})}else a(!1)})};var n=a(6),r=a(0)},847:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(0),o=a(6),l=a(3),i=a(12),s=a(161),c=(n=s)&&n.__esModule?n:{default:n},u=a(2),d=a(23);function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var A,p,_=["cproductorid","cprojectid","cvendorid"];function L(e,t){return new Promise(function(e,a){(0,r.ajax)({url:o.SALEDAILY_URL.CARD_BODY_BEFORE_URL,data:t,success:function(t){t.data&&(1==t.data.isedit?e(!0):e(!1))}})})}t.default=(A=regeneratorRuntime.mark(function e(t,a,n,r,s,A){var p,E,D,S,C,T,b,v,I,y,h,m,g,R,O,B,N,k,w,Y,M,P,U,x,F,j,V,G,H,q,W,z,Q,K,X,Z,J,$;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p=!0,E=this.props.getUrlParam("type"),D=t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"fstatusflag").value,S=A.values,!E||"receive"!=E){e.next=29;break}if("drealenddate"!=n){e.next=19;break}if((S.drealeffectdate||{}).value){e.next=11;break}p=!1,e.next=17;break;case 11:return C=S.pk_incomeperiod.value,T={key:n,areaid:a,index:s,params:{pk_incomeperiod:C}},e.next=15,L.call(this,t,T);case 15:p=(p=e.sent)&&1==D;case 17:e.next=28;break;case 19:if("drealeffectdate"!=n){e.next=27;break}return b=S.pk_incomeperiod.value,v={key:n,areaid:a,index:s,params:{pk_incomeperiod:b}},e.next=24,L.call(this,t,v);case 24:p=e.sent,e.next=28;break;case 27:p=!1;case 28:return e.abrupt("return",p);case 29:if(a!=o.SALEDAILY_CONST.CARDTABLE_CHANGE||t.getUrlParam("status")==o.SALEDAILY_CONST.STATUS_MODIFY){e.next=32;break}return p=!1,e.abrupt("return",p);case 32:if(t.getUrlParam("status")==o.SALEDAILY_CONST.STATUS_MODIFY&&(a==o.SALEDAILY_CONST.CARDTABLE_PAYTERM?p=!1:n.indexOf("vbdef")>=0&&(p=!0)),"ctranspmodeid"!=n&&"cproductorid"!=n&&"cqualitylevelid"!=n){e.next=37;break}t.cardTable.setQueryCondition(o.SALEDAILY_CONST.CARDTABLEID,f({},n,function(){return{pk_org:(t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"pk_org")||{}).value}})),e.next=192;break;case 37:if("vqtunitrate"!=n&&"vchangerate"!=n){e.next=48;break}return I=S.pk_material.value,y=S.cqtunitid.value,h=S.cunitid.value,I&&y!=h||(p=!1),m={key:n,areaid:a,index:s,params:{cqtunitid:S.cqtunitid.value||null,pk_material:S.pk_material.value||null}},e.next=45,L.call(this,t,m);case 45:p=e.sent,e.next=192;break;case 48:if("nastnum"!=n){e.next=53;break}t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"ctrantypeid").value||(p=!1),e.next=192;break;case 53:if("vmemo"!=n||a!=o.SALEDAILY_CONST.CARDTABLE_CHANGE){e.next=58;break}1==Number(S.vchangecode.value)&&(p=!1),e.next=192;break;case 58:if("vchgreason"!=n){e.next=64;break}g=t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"version").value,(R=Number(S.vchangecode.value))==g&&1!=R||(p=!1),e.next=192;break;case 64:if("vexecreason"!=n){e.next=69;break}5!=(O=S.fstatusflag.value)&&6!=O||(p=!1),e.next=192;break;case 69:if("ctaxcodeid"!=n){e.next=76;break}B=S.ctaxcountryid.value,N=S.fbuysellflag.value,B&&N||(p=!1),this.props.cardTable.setQueryCondition(o.SALEDAILY_CONST.CARDTABLEID,f({},n,function(){return{SCM_REPTAXCOUNTRY:B,SCM_PURSALETYPE:N,GridRefActionExt:"nccloud.web.scmpub.ref.TaxCodeRefFilterUtils"}})),e.next=192;break;case 76:if("ncaltaxmny"!=n){e.next=81;break}!(k=S.fbuysellflag.value)||2!=k&&1!=k||(p=!1),e.next=192;break;case 81:if("ccustmaterialid"!=n){e.next=94;break}return w=t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"pk_customer").value,Y=t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"ctrantypeid").value,w||((0,l.showWarningInfo)(null,(0,u.getLangByResId)(this,"4006SALEDAILY-000038")),p=!1),Y||((0,l.showWarningInfo)(null,(0,u.getLangByResId)(this,"4006SALEDAILY-000039")),p=!1),M={key:n,areaid:a,params:{ctrantypeid:Y}},e.next=89,L.call(this,t,M);case 89:(p=e.sent)||(0,l.showWarningInfo)(null,(0,u.getLangByResId)(this,"4006SALEDAILY-000040")),t.cardTable.setQueryCondition(o.SALEDAILY_CONST.CARDTABLEID,f({},n,function(){return{pk_customer:w}})),e.next=192;break;case 94:if("pk_receiveaddress"!=n){e.next=100;break}(P=t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"pk_customer").value)||(p=!1),t.cardTable.setQueryCondition(o.SALEDAILY_CONST.CARDTABLEID,f({},n,function(){var e=(t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"pk_org")||{}).value;return{pk_customer:P,pk_org:e}})),e.next=192;break;case 100:if("effectmonth"!=n){e.next=105;break}S.checkdata.value||(p=!1),e.next=192;break;case 105:if("effectaddmonth"!=n){e.next=110;break}S.effectmonth.value||(p=!1),e.next=192;break;case 110:if("dplanenddate"!=n){e.next=115;break}S.dplaneffectdate.value||(p=!1),e.next=192;break;case 115:if("drealeffectdate"!=n&&"drealenddate"!=n){e.next=123;break}return U={key:n,areaid:a,index:s,params:{pk_incomeperiod:S.pk_incomeperiod.value||null,status:t.getUrlParam("status")}},e.next=119,L.call(this,t,U);case 119:p=(p=e.sent)&&1==D,e.next=192;break;case 123:if("cffileid"!=n){e.next=129;break}x=S.pk_material.value,F=S.vsrccode.value,x&&!F||(p=!1),e.next=192;break;case 129:if(!(n.indexOf("vbdef")>=0)){e.next=133;break}t.cardTable.setQueryCondition(o.SALEDAILY_CONST.CARDTABLEID,f({},n,function(){return{pk_org:(t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"pk_org")||{}).value}})),e.next=192;break;case 133:if(!(n.indexOf("vfree")>=0||_.includes(n))){e.next=145;break}if(!_.includes(n)){e.next=138;break}p=!0,e.next=142;break;case 138:return j={key:n,areahid:o.SALEDAILY_CONST.FORMID,areabid:o.SALEDAILY_CONST.CARDTABLEID,index:s,cmaterialid:"pk_material"},e.next=141,c.default.call(this,t,j);case 141:p=e.sent;case 142:p&&(t.cardTable.setQueryCondition(o.SALEDAILY_CONST.CARDTABLEID,f({},n,function(){return{pk_org:(t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"pk_org")||{}).value}})),i.marAsstUtils.resetItem.call(this,t,null,o.SALEDAILY_CONST.CARDPAGEID,a,n,A)),e.next=192;break;case 145:if("pk_material"!=n){e.next=167;break}if(t.meta.getMeta()[a].items.find(function(e){return e.attrcode==n}).isMultiSelectedEnabled=!0,t.meta.getMeta().childform1.items.find(function(e){return e.attrcode==n}).isMultiSelectedEnabled=!0,(V=t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"ctrantypeid").value)||((0,l.showWarningInfo)(null,(0,u.getLangByResId)(this,"4006SALEDAILY-000039")),p=!1),G=t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"ninvctlstyle").value){e.next=157;break}return e.next=154,d.queryZ3TransType.call(this,V,!0);case 154:H=e.sent,G=H.ninvctlstyle,t.form.setFormItemsValue(o.SALEDAILY_CONST.FORMID,{ninvctlstyle:{value:G}});case 157:p="1"==G,t.cardTable.setQueryCondition(o.SALEDAILY_CONST.CARDTABLEID,f({},n,function(){return{pk_org:(t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"pk_org")||{}).value}})),t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"pk_customer").value||((0,l.showWarningInfo)(null,(0,u.getLangByResId)(this,"4006SALEDAILY-000038")),p=!1),q=S.nordnum.value,W=S.csrcid.value,q&&q>0&&((0,l.showWarningInfo)(null,(0,u.getLangByResId)(this,"4006SALEDAILY-000041")),p=!1),W&&W.length>0&&(p=!1),e.next=192;break;case 167:if("cqtunitid"!=n&&"castunitid"!=n){e.next=178;break}return z=S.pk_material.value,t.cardTable.setQueryCondition(o.SALEDAILY_CONST.CARDTABLEID,f({},n,function(){return{scm_cmaterialid:z,GridRefActionExt:"nccloud.web.scmpub.ref.MeasdocRefFilterUtils"}})),(Q=t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"ctrantypeid").value)||(p=!1),K={key:n,areaid:a,index:s,params:{ctrantypeid:Q,pk_material:S.pk_material&&S.pk_material.value?S.pk_material.value:null}},e.next=175,L.call(this,t,K);case 175:p=e.sent,e.next=192;break;case 178:if("pk_marbasclass"!=n){e.next=191;break}if((X=t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"ctrantypeid").value)||((0,l.showWarningInfo)(null,(0,u.getLangByResId)(this,"4006SALEDAILY-000039")),p=!1),Z=t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"ninvctlstyle").value){e.next=188;break}return e.next=185,d.queryZ3TransType.call(this,X,!0);case 185:J=e.sent,Z=J.ninvctlstyle,t.form.setFormItemsValue(o.SALEDAILY_CONST.FORMID,{ninvctlstyle:{value:Z}});case 188:p="2"==Z,e.next=192;break;case 191:"vtermcode"==n?(t.meta.getMeta()[a].items.find(function(e){return e.attrcode==n}).isMultiSelectedEnabled=!0,t.cardTable.setQueryCondition(o.SALEDAILY_CONST.CARDTABLE_TERM,f({},n,function(){return{pk_org:(t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"pk_org")||{}).value}}))):"vexpcode"==n||t.cardTable.setQueryCondition(a,f({},n,function(){return{pk_org:(t.form.getFormItemsValue(o.SALEDAILY_CONST.FORMID,"pk_org")||{}).value}}));case 192:return p&&a==o.SALEDAILY_CONST.CARDTABLEID&&($={props:t,key:n,appcode:null,pagecode:o.SALEDAILY_CONST.CARDPAGEID,headarea:o.SALEDAILY_CONST.FORMID,bodyarea:o.SALEDAILY_CONST.CARDTABLEID,isHead:!1,record:S,pk_org_field:o.FIELDS.pk_org,billtype:"Z3",transtypeid_field:o.FIELDS.ctrantypeid},i.crossRuleUtils.beforeEdit.call(this,$)),e.abrupt("return",p);case 194:case"end":return e.stop()}},e,this)}),p=function(){var e=A.apply(this,arguments);return new Promise(function(t,a){return function n(r,o){try{var l=e[r](o),i=l.value}catch(e){return void a(e)}if(!l.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});t(i)}("next")})},function(e,t,a,n,r,o){return p.apply(this,arguments)})},848:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLineForCardEdit=t.delLineForCardEdit=void 0;var n,r=a(0),o=a(78),l=(n=o)&&n.__esModule?n:{default:n},i=a(44),s=a(6);t.delLineForCardEdit=function(){l.default.call(this)},t.addLineForCardEdit=function(e,t,a){var n=this,o=[s.SALEDAILY_CONST.CARDTABLEID,s.SALEDAILY_CONST.CARDTABLE_CHANGE,s.SALEDAILY_CONST.CARDTABLE_EXEC,s.SALEDAILY_CONST.CARDTABLE_EXP,s.SALEDAILY_CONST.CARDTABLE_MEMORA,s.SALEDAILY_CONST.CARDTABLE_PAYTERM,s.SALEDAILY_CONST.CARDTABLE_TERM],l=e.createExtCardData(s.SALEDAILY_CONST.CARDPAGEID,s.SALEDAILY_CONST.FORMID,o);(0,r.ajax)({url:s.SALEDAILY_URL.CARD_ADDLINE_URL,data:l,success:function(t){var r=t.success,o=t.data;r&&o&&o.bodys&&(e.cardTable.setValByKeysAndIndex(s.SALEDAILY_CONST.CARDTABLEID,a+1,o.bodys.saledaily_base.rows[0].values),i.RownoUtils.setRowNo(n.props,s.SALEDAILY_CONST.CARDTABLEID))}})}},849:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(10),o=D(r),l=a(0),i=a(6),s=a(216),c=a(850),u=D(a(96)),d=a(2),f=a(29),A=a(103),p=D(a(94)),_=a(889),L=D(a(95)),E=a(56);function D(e){return e&&e.__esModule?e:{default:e}}var S,C,T,b=l.base.NCAffix,v=l.base.NCDiv,I=l.high.BillTrack,y=l.high.NCUploader,h=l.high.ApproveDetail,m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.closeApprove=function(){a.setState({showApproveDetail:!1})},a.toggleDocShow=function(){a.setState({showDoc:!a.state.showDoc})},a.getAssginUsedr=function(e){var t=a.commitInfo,n=t.record,r=t.index;A.commit_BtnClick.call(a,a.props,n,r,e),a.setState({compositedisplay:!1})},a.props=e,a.state={transtype:"Z3",showBillTrack:!1,showUploader:!1,billid:null,vbillcode:null,showApproveDetail:!1,compositedisplay:!1,compositedata:null,showDoc:!1,showPane:!1},a.commitInfo={record:null,index:null},a.paneData,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentWillMount",value:function(){(0,d.initLang)(this,["4006saledaily"],"ct",_.initTemplate.bind(this,this.props))}},{key:"render",value:function(){var e=this,t=this.props,a=t.table,n=t.button,r=t.search,l=t.modal,_=(t.BillHeadInfo,l.createModal),D=a.createSimpleTable,S=r.NCCreateSearch,C=n.createButtonApp;return o.default.createElement("div",{className:"nc-bill-list"},o.default.createElement(b,null,o.default.createElement(v,{areaCode:v.config.HEADER,className:"nc-bill-header-area"},o.default.createElement("div",{className:"header-title-search-area"},(0,E.createListTitle)(this)),o.default.createElement("div",{className:"header-button-area"},C({onButtonClick:A.onListButtonClicks.bind(this),area:i.SALEDAILY_CONST.LISTHEADBUTTONAREA})))),o.default.createElement("div",{className:"nc-bill-search-area",style:{borderBottom:"1px solid #d0d0d0"}},S(i.SALEDAILY_CONST.SEARCHID,{renderCompleteEvent:s.renderCompleteEvent.bind(this,i.SALEDAILY_CONST.SEARCHID,"pk_org",c.search_afterEvent,"ctrantypeid"),statusChangeEvent:s.renderCompleteEvent.bind(this,i.SALEDAILY_CONST.SEARCHID,"pk_org",c.search_afterEvent,"ctrantypeid"),onAfterEvent:c.search_afterEvent.bind(this),clickSearchBtn:A.commonSearch_BtnClick.bind(this,this.props)})),o.default.createElement("div",{className:"nc-bill-table-area"},D(i.SALEDAILY_CONST.LISTTABLEID,{dataSource:i.SALEDAILY_CONST.DATA_SOURCE,pkname:"pk_ct_sale",onRowDoubleClick:A.doubleClick_BtnClick.bind(this),handlePageInfoChange:A.pageInfoClick.bind(this),showCheck:!0,showIndex:!0,onSelected:f.buttonController.bind(this,this.props),onSelectedAll:f.buttonController.bind(this,this.props),componentInitFinished:f.buttonController.bind(this,this.props)})),_("MessageDlg"),_("ScriptActionDlg"),o.default.createElement(I,{show:this.state.showBillTrack,close:function(){e.setState({showBillTrack:!1})},pk:this.state.billid,type:"Z3"}),o.default.createElement(h,{show:this.state.showApproveDetail,close:this.closeApprove,billtype:this.state.transtype,billid:this.state.billid}),this.state.showUploader&&o.default.createElement(y,{billId:this.state.billid,billNo:this.state.vbillcode,onHide:function(){e.setState({showUploader:!1})}}),this.state.compositedisplay&&o.default.createElement(u.default,{title:(0,d.getLangByResId)(this,"4006SALEDAILY-000053"),data:this.state.compositedata,display:this.state.compositedisplay,getResult:this.getAssginUsedr,cancel:function(){e.setState({compositedisplay:!1})}}),o.default.createElement(p.default,{show:this.state.showDoc,billId:this.state.billid,billType:"Z3",toggleShow:this.toggleDocShow,asyncTree:this.props.asyncTree}),o.default.createElement(L.default,{show:this.state.showPane,pagecode:i.SALEDAILY_CONST.HISPAGECODE,title:(0,d.getLangByResId)(this,"4006SALEDAILY-000047"),headcode:i.SALEDAILY_CONST.FORMID,bodycode:[i.SALEDAILY_CONST.CARDTABLEID,i.SALEDAILY_CONST.CARDTABLE_TERM,i.SALEDAILY_CONST.CARDTABLE_EXP,i.SALEDAILY_CONST.CARDTABLE_MEMORA,i.SALEDAILY_CONST.CARDTABLE_CHANGE,i.SALEDAILY_CONST.CARDTABLE_EXEC],data:this.paneData,close:function(){e.setState({showPane:!1})},showBodyData:!0}))}}]),t}();m=(0,l.createPage)({billinfo:{billtype:"grid",pagecode:"400600200_list",bodycode:(S={},C="400600200_list",T="simpleTable",C in S?Object.defineProperty(S,C,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[C]=T,S)}})(m),t.default=m},850:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.search_afterEvent=void 0;var n,r=a(851),o=(n=r)&&n.__esModule?n:{default:n};t.search_afterEvent=o.default},851:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){"pk_org"==e&&(0,l.default)(this.props,t,r.SALEDAILY_CONST.SEARCHID,["pk_customer","depid","cprojectid","personnelid","vdef1","vdef2","vdef3","vdef4","vdef5","vdef6","vdef7","vdef8","vdef9","vdef10","vdef11","vdef12","vdef13","vdef14","vdef15","vdef16","vdef17","vdef18","vdef19","vdef20","pk_ct_sale_b.pk_material","pk_ct_sale_b.pk_srcmaterial","pk_ct_sale_b.pk_marbasclass","pk_ct_sale_b.vfree1","pk_ct_sale_b.vfree2","pk_ct_sale_b.vfree3","pk_ct_sale_b.vfree4","pk_ct_sale_b.vfree5","pk_ct_sale_b.vfree6","pk_ct_sale_b.vfree7","pk_ct_sale_b.vfree8","pk_ct_sale_b.vfree9","pk_ct_sale_b.vfree10","pk_ct_sale_b.vbdef1","pk_ct_sale_b.vbdef2","pk_ct_sale_b.vbdef3","pk_ct_sale_b.vbdef4","pk_ct_sale_b.vbdef5","pk_ct_sale_b.vbdef6","pk_ct_sale_b.vbdef7","pk_ct_sale_b.vbdef8","pk_ct_sale_b.vbdef9","pk_ct_sale_b.vbdef10","pk_ct_sale_b.vbdef11","pk_ct_sale_b.vbdef12","pk_ct_sale_b.vbdef13","pk_ct_sale_b.vbdef14","pk_ct_sale_b.vbdef15","pk_ct_sale_b.vbdef16","pk_ct_sale_b.vbdef17","pk_ct_sale_b.vbdef18","pk_ct_sale_b.vbdef19","pk_ct_sale_b.vbdef20"])};var n,r=a(6),o=a(58),l=(n=o)&&n.__esModule?n:{default:n}},852:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,o=(n=regeneratorRuntime.mark(function e(t,a){var n,r,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=a.length){e.next=22;break}if(n=a[0].data.values.fstatusflag.value,r=a[0].data.values.version.value,o=a[0].data.values.bsrcecmct.value,1!=r&&t.button.setDisabled({ModifyHistory:!1}),"0"==n&&1==r&&t.button.setDisabled({Delete:!1}),"0"==n&&t.button.setDisabled({Commit:!1}),"2"!=n&&"3"!=n||t.button.setDisabled({UnCommit:!1}),"1"!=n){e.next=16;break}return t.button.setDisabled({Freeze:!1,Receive:!1}),e.next=13,i.queryZ3TransType.call(this,a[0].data.values.ctrantypeid.value,!1);case 13:l=e.sent,a[0].data.values.pk_payterm.value&&l.bshowpayterm&&t.button.setDisabled({ReceiveStartControl:!1});case 16:"5"==n&&t.button.setDisabled({UnFreeze:!1}),0==o&&"1"==n&&t.button.setDisabled({End:!1,CancelValidate:!1}),0==o&&"6"==n&&t.button.setDisabled({CTUnEnd:!1}),"3"==n&&t.button.setDisabled({Validate:!1}),1==r||4!=n&&0!=n||t.button.setDisabled({ModiDelete:!1}),1!=n&&5!=n&&6!=n||t.button.setDisabled({ReceivePlan:!1});case 22:case"end":return e.stop()}},e,this)}),r=function(){var e=n.apply(this,arguments);return new Promise(function(t,a){return function n(r,o){try{var l=e[r](o),i=l.value}catch(e){return void a(e)}if(!l.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});t(i)}("next")})},function(e,t){return r.apply(this,arguments)});t.default=function(e){var t=e.table.getCheckedRows(l.SALEDAILY_CONST.LISTTABLEID);s.call(this,e),c.call(this,e,t),o.call(this,e,t),u.call(this,e,t)};var l=a(6),i=a(23);function s(e){e.button.setDisabled({Delete:!0,Commit:!0,UnCommit:!0,Validate:!0,CancelValidate:!0,Freeze:!0,UnFreeze:!0,End:!0,CTUnEnd:!0,ModiDelete:!0,File:!0,ReceiveStartControl:!0,QueryAboutBusiness:!0,Print:!0,Receive:!0,ReceivePlan:!0,Output:!0,StructuredFile:!0,ModifyHistory:!0})}function c(e,t){var a=t.length>0;e.button.setDisabled({StructuredFile:!a,File:!a,QueryAboutBusiness:!a,Output:!a,Print:!a})}function u(e,t){var a,n,r;t.length>1&&e.button.setDisabled((r=!1,(n="ReceivePlan")in(a={Delete:!1,Commit:!1,UnCommit:!1,Validate:!1,CancelValidate:!1,Freeze:!1,UnFreeze:!1,End:!1,CTUnEnd:!1,ModiDelete:!1,Print:!1,Receive:!1,Output:!1,ModifyHistory:!1,ReceivePlan:!1,ReceiveStartControl:!1})?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a))}},853:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this,u=null;u="refresh"==t?(0,o.getDefData)(n.SALEDAILY_CONST.DATA_SOURCE,"SaleDailyAllSearchVal"):e.search.getQueryInfo(n.SALEDAILY_CONST.SEARCHID);if(!u||!u.querycondition)return void s.buttonController.bind(this,e)();var d=!1,f=!1;if(u.querycondition.conditions.forEach(function(e,t){e.field==n.FIELDS.marbasclassbound?d=!0:e.field==n.FIELDS.pk_marbasclass&&(f=!0)}),d&&!f)return void(0,l.showWarningInfo)((0,c.getLangByResId)(this,"4006SALEDAILY-000089"));if(!d&&f)return void(0,l.showWarningInfo)((0,c.getLangByResId)(this,"4006SALEDAILY-000090"));var A=e.table.getTablePageInfo(n.SALEDAILY_CONST.LISTTABLEID);u.pageInfo=A;var p={queryInfo:u=i.transtypeUtils.beforeSearch.call(this,u,"ctrantypeid","vtrantypecode"),pageCode:n.SALEDAILY_CONST.LISTPAGEID,currentTab:"all"};"refresh"!=t&&((0,o.setDefData)(n.SALEDAILY_CONST.DATA_SOURCE,"SaleDailyAllSearchVal",u),(0,o.setDefData)(n.SALEDAILY_CONST.DATA_SOURCE,"initKey","search"));(0,r.ajax)({url:n.SALEDAILY_URL.LIST_QUERY_URL,data:p,success:function(r){r.formulamsg&&r.formulamsg instanceof Array&&r.formulamsg.length>0&&e.dealFormulamsg(r.formulamsg);var o={rows:[]};r.data.currentGrid&&r.data.currentGrid[n.SALEDAILY_CONST.LISTTABLEID]&&(o=r.data.currentGrid[n.SALEDAILY_CONST.LISTTABLEID]),e.table.setAllTableData(n.SALEDAILY_CONST.LISTTABLEID,o),"refresh"==t?(0,l.showSuccessInfo)((0,c.getLangByResId)(a,"4006SALEDAILY-000023")):o.rows.length>0?(0,l.showHasQueryResultInfo)(o.rows.length):(0,l.showNoQueryResultInfo)(),s.buttonController.call(a,e),e.button.setButtonDisabled("Refresh",!1)}})};var n=a(6),r=a(0),o=a(7),l=a(3),i=a(12),s=a(29),c=a(2)},854:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.pushTo("/card",{status:n.SALEDAILY_CONST.STATUS_ADD})};var n=a(6)},855:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.table.getCheckedRows(r.SALEDAILY_CONST.LISTTABLEID);if(0==t.length)return;for(var a=new Array,c=new Array,u=0;u<t.length;u++){var d={pk:t[u].data.values.pk_ct_sale.value,ts:t[u].data.values.ts.value};a.push(d),c.push(t[u].index)}(0,l.showDeleteDialog)({beSureBtnClick:function(e){var t=this;(0,n.ajax)({url:r.SALEDAILY_URL.LIST_DELETE_URL,data:{qryinfo:a},success:function(n){var u=n.success,d=n.data;if(u){if("{}"!=JSON.stringify(d.errorMessageMap||{})){for(var f=[],A=0;A<c.length;A++){var p=c[A];d.errorMessageMap[A]||(f.push(p),(0,o.deleteCacheDataForList)(e,r.SALEDAILY_CONST.LISTTABLEID,a[A].pk))}e.table.deleteTableRowsByIndex(r.SALEDAILY_CONST.LISTTABLEID,f)}else{for(var _=0;_<a.length;_++)(0,o.deleteCacheDataForList)(e,r.SALEDAILY_CONST.LISTTABLEID,a[_].pk);e.table.deleteTableRowsByIndex(r.SALEDAILY_CONST.LISTTABLEID,c)}s.buttonController.call(t,e),(0,l.showBatchOprMessage)(null,d,{},(0,i.getLangByResId)(t,"4006SALEDAILY-000045"))}}})}.bind(this,e)})};var n=a(0),r=a(6),o=a(7),l=a(3),i=a(2),s=a(29)},856:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,c){var u=this;(0,n.ajax)({url:r.SALEDAILY_URL.LIST_DELETE_URL,data:{qryinfo:[{pk:t,ts:a}]},success:function(a){var n=a.success,d=a.data;n&&("{}"==JSON.stringify(d.errorMessageMap||{})?((0,o.deleteCacheDataForList)(e,r.SALEDAILY_CONST.LISTTABLEID,t),e.table.deleteTableRowsByIndex(r.SALEDAILY_CONST.LISTTABLEID,c),(0,l.showSuccessInfo)((0,i.getLangByResId)(u,"4006SALEDAILY-000025"))):(0,l.showErrorInfo)(null,(0,i.getLangByResId)(u,"4006SALEDAILY-000050")),s.buttonController.call(u,e))}})};var n=a(0),r=a(6),o=a(7),l=a(3),i=a(2),s=a(29)},857:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a={pk:t};(0,n.ajax)({url:r.SALEDAILY_URL.LIST_EDIT_URL,data:a,success:function(a){a.success&&e.pushTo("/card",{status:r.SALEDAILY_CONST.STATUS_EDIT,id:t})}})};var n=a(0),r=a(6)},858:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n,o){switch(t){case"Delete":r.delete_BtnClick.call(this,e,n.pk_ct_sale.value,n.ts.value,o);break;case"Edit":r.edit_BtnClick.call(this,e,n.pk_ct_sale.value);break;case"Commit":r.commit_BtnClick.call(this,e,n,o);break;case"ApproveInfo":r.approveInfo_BtnClick.call(this,e,n.pk_ct_sale.value,n.vtrantypecode.value);break;case"Modify":r.modify_BtnClick.call(this,e,n.pk_ct_sale.value,n.ts.value);break;case"Validate":l.default.call(this,e,"Validate",n.pk_ct_sale.value,n.ts.value,o,n);break;case"UnFreeze":l.default.call(this,e,"UnFreeze",n.pk_ct_sale.value,n.ts.value,o);break;case"CTUnEnd":l.default.call(this,e,"CTUnEnd",n.pk_ct_sale.value,n.ts.value,o);break;case"Copy":r.copy_BtnClick.call(this,e,n.pk_ct_sale.value)}};var n,r=a(103),o=a(314),l=(n=o)&&n.__esModule?n:{default:n}},859:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(t){case"Commit":n.commit_BtnClick.call(this,e);break;case"UnCommit":n.batchUncommit_BtnClick.call(this,e);break;case"Freeze":case"UnFreeze":case"End":case"CTUnEnd":case"Validate":case"CancelValidate":n.buttonClick_BtnClick.call(this,e,t);break;case"Add":n.add_BtnClick.call(this,e);break;case"Refresh":n.commonSearch_BtnClick.call(this,e,"refresh");break;case"Delete":n.batchDelete_BtnClick.call(this,e);break;case"Print":n.print_BtnClick.call(this,e);break;case"Output":n.output_BtnClick.call(this,e);break;case"File":n.fileManage_BtnClick.call(this,e);break;case"QueryAboutBusiness":n.queryAboutBusiness_BtnClick.call(this,e);break;case"ModiDelete":n.modiDelete_BtnClick.call(this,e);break;case"ReceiveStartControl":n.receiveStartControl_BtnClick.call(this,e);break;case"ReceivePlan":n.queryPayPlan_BtnClick.call(this,e);break;case"Ref4310":n.ref4310_BtnClick.call(this,e);break;case"StructuredFile":n.showDoc_BtnClick.call(this,e);break;case"Receive":n.receive_BtnClick.call(this,e);break;case"ModifyHistory":n.modifyHistoryBtnClick.call(this,e)}};var n=a(103)},860:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){a.pushTo("/card",{status:n.SALEDAILY_CONST.STATUS_BROWSE,id:e.pk_ct_sale.value})};var n=a(6)},861:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a=e.table.getCheckedRows(r.SALEDAILY_CONST.LISTTABLEID);if(0==a.length)return;for(var c=[],u=0;u<a.length;u++){var d={pk:a[u].data.values.pk_ct_sale.value,ts:a[u].data.values.ts.value};c.push(d)}(0,n.ajax)({url:r.SALEDAILY_URL.LIST_UNCOMMIT_URL,data:{qryinfo:c},success:function(a){var n=a.success,c=a.data;n&&((0,l.updateCacheDataForList)(e,r.SALEDAILY_CONST.LISTTABLEID,"pk_ct_sale",c),s.buttonController.call(t,e),(0,i.showBatchOprMessage)(null,c,{},(0,o.getLangByResId)(t,"4006SALEDAILY-000045")))}})};var n=a(0),r=a(6),o=a(2),l=a(7),i=a(3),s=a(29)},862:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a=e.table.getCheckedRows(r.SALEDAILY_CONST.LISTTABLEID);if(0==a.length)return;for(var c=[],u=0;u<a.length;u++){var d={pk:a[u].data.values.pk_ct_sale.value,ts:a[u].data.values.ts.value};c.push(d)}(0,n.ajax)({url:r.SALEDAILY_URL.LIST_END_URL,data:{reason:this.closeReason,qryinfo:c},success:function(a){var n=a.success,c=a.data;n&&((0,l.updateCacheDataForList)(e,r.SALEDAILY_CONST.LISTTABLEID,"pk_ct_sale",c),s.buttonController.call(t,e),(0,i.showBatchOprMessage)(null,c,{},(0,o.getLangByResId)(t,"4006SALEDAILY-000045")))}})};var n=a(0),r=a(6),o=a(2),l=a(7),i=a(3),s=a(29)},863:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a=e.table.getCheckedRows(r.SALEDAILY_CONST.LISTTABLEID);if(0==a.length)return;for(var c=[],u=0;u<a.length;u++){var d={pk:a[u].data.values.pk_ct_sale.value,ts:a[u].data.values.ts.value};c.push(d)}(0,n.ajax)({url:r.SALEDAILY_URL.LIST_UNEND_URL,data:{reason:this.closeReason,qryinfo:c},success:function(a){var n=a.success,c=a.data;n&&((0,l.updateCacheDataForList)(e,r.SALEDAILY_CONST.LISTTABLEID,"pk_ct_sale",c),s.buttonController.call(t,e),(0,i.showBatchOprMessage)(null,c,{},(0,o.getLangByResId)(t,"4006SALEDAILY-000045")))}})};var n=a(0),r=a(6),o=a(2),l=a(7),i=a(3),s=a(29)},864:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a=e.table.getCheckedRows(r.SALEDAILY_CONST.LISTTABLEID);if(0==a.length)return;for(var c=[],u=0;u<a.length;u++){var d={pk:a[u].data.values.pk_ct_sale.value,ts:a[u].data.values.ts.value};c.push(d)}(0,n.ajax)({url:r.SALEDAILY_URL.LIST_FREEZE_URL,data:{reason:this.closeReason,qryinfo:c},success:function(a){var n=a.success,c=a.data;n&&((0,l.updateCacheDataForList)(e,r.SALEDAILY_CONST.LISTTABLEID,"pk_ct_sale",c),s.buttonController.call(t,e),(0,i.showBatchOprMessage)(null,c,{},(0,o.getLangByResId)(t,"4006SALEDAILY-000045")))}})};var n=a(0),r=a(6),o=a(2),l=a(7),i=a(3),s=a(29)},865:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a=e.table.getCheckedRows(r.SALEDAILY_CONST.LISTTABLEID);if(0==a.length)return;for(var c=[],u=0;u<a.length;u++){var d={pk:a[u].data.values.pk_ct_sale.value,ts:a[u].data.values.ts.value};c.push(d)}(0,n.ajax)({url:r.SALEDAILY_URL.LIST_UNFREEZE_URL,data:{reason:this.closeReason,qryinfo:c},success:function(a){var n=a.success,c=a.data;n&&((0,l.updateCacheDataForList)(e,r.SALEDAILY_CONST.LISTTABLEID,"pk_ct_sale",c),s.buttonController.call(t,e),(0,i.showBatchOprMessage)(null,c,{},(0,o.getLangByResId)(t,"4006SALEDAILY-000045")))}})};var n=a(0),r=a(6),o=a(2),l=a(7),i=a(3),s=a(29)},866:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a=e.table.getCheckedRows(r.SALEDAILY_CONST.LISTTABLEID);if(0==a.length)return;for(var c=[],u=0;u<a.length;u++){var d={pk:a[u].data.values.pk_ct_sale.value,ts:a[u].data.values.ts.value};c.push(d)}(0,n.ajax)({url:r.SALEDAILY_URL.LIST_VALIDATE_URL,data:{reason:this.closeReason,qryinfo:c},success:function(a){var n=a.success,c=a.data;n&&((0,l.updateCacheDataForList)(e,r.SALEDAILY_CONST.LISTTABLEID,"pk_ct_sale",c),s.buttonController.call(t,e),(0,i.showBatchOprMessage)(null,c,{},(0,o.getLangByResId)(t,"4006SALEDAILY-000045")))}})};var n=a(0),r=a(6),o=a(2),l=a(7),i=a(3),s=a(29)},867:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a=e.table.getCheckedRows(r.SALEDAILY_CONST.LISTTABLEID);if(0==a.length)return;for(var c=[],u=0;u<a.length;u++){var d={pk:a[u].data.values.pk_ct_sale.value,ts:a[u].data.values.ts.value};c.push(d)}(0,n.ajax)({url:r.SALEDAILY_URL.LIST_UNVALIDATE_URL,data:{reason:this.closeReason,qryinfo:c},success:function(a){var n=a.success,c=a.data;n&&((0,l.updateCacheDataForList)(e,r.SALEDAILY_CONST.LISTTABLEID,"pk_ct_sale",c),s.buttonController.call(t,e),(0,i.showBatchOprMessage)(null,c,{},(0,o.getLangByResId)(t,"4006SALEDAILY-000045")))}})};var n=a(0),r=a(6),o=a(2),l=a(7),i=a(3),s=a(29)},868:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){var r=(0,d.default)(e,t,a);if(null==r||null==r.index)return void showWarningInfo((0,s.getLangByResId)(this,"4006SALEDAILY-000078"),(0,s.getLangByResId)(this,"4006SALEDAILY-000079"));f.bind(this)(e,r.bills,r.index,t,a,n)};var n,r=a(0),o=a(6),l=a(7),i=a(3),s=a(2),c=a(29),u=a(135),d=(n=u)&&n.__esModule?n:{default:n};function f(e,t,a,n,u,d){var f=this,A={qryinfo:t};d&&(A.assign=JSON.stringify(d)),(0,r.ajax)({url:o.SALEDAILY_URL.LIST_COMMIT_URL,data:A,success:function(t){var a=t.success,r=t.data;if(t.data.workflow&&("approveflow"==t.data.workflow||"workflow"==t.data.workflow))return f.commitInfo={record:n,index:u},void f.setState({compositedata:t.data,compositedisplay:!0});a&&((0,l.updateCacheDataForList)(e,o.SALEDAILY_CONST.LISTTABLEID,"pk_ct_sale",r,u),c.buttonController.call(f,e),n?(0,i.showSuccessInfo)((0,s.getLangByResId)(f,"4006SALEDAILY-000024")):(0,i.showBatchOprMessage)(null,r,{},(0,s.getLangByResId)(f,"4006SALEDAILY-000045")))}})}},869:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){this.setState({billid:t,showApproveDetail:!0,transtype:a})}},870:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,l.default)(e);if(null==t||null==t.index)return void(0,s.showWarningInfo)(null,(0,i.getLangByResId)(this,"4006SALEDAILY-000051"));var a=t.index[0],n=e.table.getAllTableData(r.SALEDAILY_CONST.LISTTABLEID).rows[a].values.vbillcode.value;this.setState({showUploader:!0,billid:t.bills[0].pk,vbillcode:n})};var n,r=a(6),o=a(135),l=(n=o)&&n.__esModule?n:{default:n},i=a(2),s=a(3)},871:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,o.default)(e);if(null==t||null==t.index)return void(0,l.showWarningInfo)(null,(0,i.getLangByResId)(this,"4006SALEDAILY-000051"));var a=t.bills[0].pk_origct,n=e.table.getCheckedRows(s.SALEDAILY_CONST.LISTTABLEID)[0].data.values.blatest.value;a&&!n||(a=t.bills[0].pk);this.setState({showBillTrack:!0,billid:a})};var n,r=a(135),o=(n=r)&&n.__esModule?n:{default:n},l=a(3),i=a(2),s=a(6)},872:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,o){(0,r.ajax)({url:n.SALEDAILY_URL.CARD_MODIFY_URL,data:{qryinfo:[{pk:t,ts:a}]},success:function(a){var r=a.success;a.data;r&&e.pushTo("/card",{status:n.SALEDAILY_CONST.STATUS_MODIFY,id:t})}})};var n=a(6),r=a(0)},873:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,d.default)(e);if(null==t||null==t.index)return;var a={qryinfo:t.bills};(0,i.showDeleteDialog)({beSureBtnClick:f.bind(this,e,a)})};var n,r=a(0),o=a(6),l=a(2),i=a(3),s=a(7),c=a(29),u=a(135),d=(n=u)&&n.__esModule?n:{default:n};function f(e,t){var a=this;(0,r.ajax)({url:o.SALEDAILY_URL.LIST_MODIDELETE_URL,data:t,success:function(t){var n=t.success,r=t.data;n&&((0,s.updateCacheDataForList)(e,o.SALEDAILY_CONST.LISTTABLEID,"vbillcode",r),c.buttonController.call(a,e),(0,i.showBatchOprMessage)(null,r,{},(0,l.getLangByResId)(a,"4006SALEDAILY-000045")))}})}},874:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=o.SALEDAILY_CONST.LISTTABLEID,a=e.table.getCheckedRows(t);if(a.length<=0)return void(0,r.showWarningInfo)(null,(0,l.getLangByResId)(this,"4006SALEDAILY-000052"));var i=new Array;a.forEach(function(e){i.push(e.data.values.pk_ct_sale.value)}),(0,n.ajax)({url:o.SALEDAILY_URL.printdatapermission,data:i,success:function(e){e.success&&(0,n.print)("pdf",o.SALEDAILY_URL.PRINT_URL,{oids:i})}})};var n=a(0),r=a(3),o=a(6),l=a(2)},875:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,o=a(6),l=a(3),i=a(2),s=a(23);t.default=(n=regeneratorRuntime.mark(function e(t){var a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=(a=t.table.getCheckedRows(o.SALEDAILY_CONST.LISTTABLEID)).length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,s.queryZ3TransType.call(this,a[0].data.values.ctrantypeid.value,!1);case 5:if(e.sent.bshowpayterm){e.next=9;break}return(0,l.showErrorInfo)((0,i.getLangByResId)(this,"4006SALEDAILY-000045"),(0,i.getLangByResId)(this,"4006SALEDAILY-000083")),e.abrupt("return");case 9:n=a[0].data.values.pk_ct_sale.value,t.pushTo("/card",{status:o.SALEDAILY_CONST.STATUS_EDIT,id:n,type:"receive"});case 11:case"end":return e.stop()}},e,this)}),r=function(){var e=n.apply(this,arguments);return new Promise(function(t,a){return function n(r,o){try{var l=e[r](o),i=l.value}catch(e){return void a(e)}if(!l.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});t(i)}("next")})},function(e){return r.apply(this,arguments)})},876:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.pushTo("/card",{status:n.SALEDAILY_CONST.STATUS_ADD,type:"copy",srcid:t})};var n=a(6)},877:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a=e.table.getCheckedRows(o.SALEDAILY_CONST.LISTTABLEID);if(0==a.length)return;if("1"!==a[0].data.values.fstatusflag.value){var n=a[0].data.values.vbillcode.value;(0,s.showWarningInfo)(void 0,(0,c.getLangByResId)(this,"4006SALEDAILY-000087")+n+(0,c.getLangByResId)(this,"4006SALEDAILY-000088"))}else{var l=a[0].data.values.pk_ct_sale.value;(0,r.ajax)({url:o.SALEDAILY_URL.LIST_GATHERMNY_URL,data:{pk:l},success:function(a){var n=a.success,r=a.data;n&&e.modal.show("MessageDlg",{size:"xlg",title:(0,c.getLangByResId)(t,"4006SALEDAILY-000031"),noFooter:!0,content:React.createElement("div",{className:"nc-bill-card"},React.createElement("div",{className:"nc-bill-table-area"},React.createElement(i.default,{payPlanData:r})))})}})}};var n,r=a(0),o=a(6),l=a(166),i=(n=l)&&n.__esModule?n:{default:n},s=a(3),c=a(2)},878:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var l=r.SALEDAILY_CONST.LISTTABLEID,i={pks:a,pagecode:r.SALEDAILY_CONST.LISTPAGEID};(0,n.ajax)({url:r.SALEDAILY_URL.LIST_QUERYBYPKS_URL,data:i,success:function(t){var a=t.success,n=t.data;a&&(n?e.table.setAllTableData(l,n[l]):e.table.setAllTableData(l,{rows:[]}),o.buttonController.call(this,e))}})};var n=a(0),r=a(6),o=a(29)},879:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.clearTransferCache)(e,n.REF4310_CONST.Ref4310DataSource),e.pushTo("/ref4310",{type:"ref4310"})};a(6);var n=a(51),r=a(7)},880:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.table.getCheckedRows(n.SALEDAILY_CONST.LISTTABLEID);if(0==t.length)return;this.setState({showDoc:!0,billid:t[0].data.values.pk_ct_sale.value})};var n=a(6)},881:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,r,o){switch(t){case"Freeze":n.batchFreeze_BtnClick.call(this,e);break;case"UnFreeze":a?n.unfreeze_BtnClick.call(this,e,a,r,o):n.batchUnfreeze_BtnClick.call(this,e);break;case"End":n.batchEnd_BtnClick.call(this,e);break;case"CTUnEnd":a?n.unend_BtnClick.call(this,e,a,r,o):n.batchUnend_BtnClick.call(this,e);break;case"CancelValidate":a?n.unvalidate_BtnClick.call(this,e,a,r,o):n.batchUnvalidate_BtnClick.call(this,e);break;case"Validate":a?n.validate_BtnClick.call(this,e,a,r,o):n.batchValidate_BtnClick.call(this,e)}};var n=a(103)},882:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.table.getCheckedRows(n.SALEDAILY_CONST.LISTTABLEID);if(0==t.length)return;var a=[t[0].data.values.pk_ct_sale.value+","+t[0].data.values.ts.value],o=t[0].data.values.ctrantypeid.value;(0,r.ajax)({url:n.SALEDAILY_URL.RECEIVE_URL,data:{pks:a,destbillType:"F2",ctrantypeid:o},success:function(t){if(t.success){var n=t.data[0];r.cacheTools.set("CtToF2Pks",a),e.openTo(null,{pagecode:n.pagecode,appcode:n.appcode,srcbilltype:"Z3",status:"add"})}}})};var n=a(6),r=a(0)},883:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a=e.table.getCheckedRows(r.SALEDAILY_CONST.LISTTABLEID);if(!a||a.length<1)(0,o.showWarningInfo)(null,(0,l.getLangByResId)(this,"4006SALEDAILY-000030"));else{var i={pks:[a[0].data.values.pk_ct_sale.value],pagecode:r.SALEDAILY_CONST.CARDPAGEID};(0,n.ajax)({url:r.SALEDAILY_URL.MODIFYHISTORY_URL,data:i,success:function(e){e.success&&(t.paneData=e.data,t.setState({showPane:!t.state.showPane}))}})}};var n=a(0),r=a(6),o=a(3),l=a(2)},884:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,c){var u=this,d=[],f={pk:t,ts:a};d.push(f),(0,n.ajax)({url:r.SALEDAILY_URL.LIST_UNFREEZE_URL,data:{reason:this.closeReason,qryinfo:d},success:function(t){var a=t.success,n=t.data;a&&((0,l.updateCacheDataForList)(e,r.SALEDAILY_CONST.LISTTABLEID,"pk_ct_sale",n,c),s.buttonController.call(u,e),(0,i.showSuccessInfo)((0,o.getLangByResId)(u,"4006SALEDAILY-000059")))}})};var n=a(0),r=a(6),o=a(2),l=a(7),i=a(3),s=a(29)},885:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,c){var u=this,d=[],f={pk:t,ts:a};d.push(f),(0,n.ajax)({url:r.SALEDAILY_URL.LIST_VALIDATE_URL,data:{reason:this.closeReason,qryinfo:d},success:function(t){var a=t.success,n=t.data;a&&((0,l.updateCacheDataForList)(e,r.SALEDAILY_CONST.LISTTABLEID,"pk_ct_sale",n,c),s.buttonController.call(u,e),(0,i.showSuccessInfo)((0,o.getLangByResId)(u,"4006SALEDAILY-000061")))}})};var n=a(0),r=a(6),o=a(2),l=a(7),i=a(3),s=a(29)},886:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,c){var u=this,d=[],f={pk:t,ts:a};d.push(f),(0,n.ajax)({url:r.SALEDAILY_URL.LIST_UNVALIDATE_URL,data:{reason:this.closeReason,qryinfo:d},success:function(t){var a=t.success,n=t.data;a&&((0,l.updateCacheDataForList)(e,r.SALEDAILY_CONST.LISTTABLEID,"pk_ct_sale",n,c),s.buttonController.call(u,e),(0,i.showSuccessInfo)((0,o.getLangByResId)(u,"4006SALEDAILY-000064")))}})};var n=a(0),r=a(6),o=a(2),l=a(7),i=a(3),s=a(29)},887:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,c){var u=this,d=[],f={pk:t,ts:a};d.push(f),(0,n.ajax)({url:r.SALEDAILY_URL.LIST_UNEND_URL,data:{reason:this.closeReason,qryinfo:d},success:function(t){var a=t.success,n=t.data;a&&((0,l.updateCacheDataForList)(e,r.SALEDAILY_CONST.LISTTABLEID,"pk_ct_sale",n,c),s.buttonController.call(u,e),(0,i.showSuccessInfo)((0,o.getLangByResId)(u,"4006SALEDAILY-000060")))}})};var n=a(0),r=a(6),o=a(2),l=a(7),i=a(3),s=a(29)},888:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,i.default)(e);if(null==t||null==t.index)return void(0,c.showWarningInfo)((0,s.getLangByResId)(this,"4006SALEDAILY-000062"),(0,s.getLangByResId)(this,"4006SALEDAILY-000063"));var a=[];t.bills.forEach(function(e){a.push(e.pk)}),(0,r.ajax)({url:o.SALEDAILY_URL.printdatapermission,data:a,success:function(e){e.success&&(0,r.output)({url:o.SALEDAILY_URL.PRINT_URL,data:{oids:a,outputType:"output"}})}})};var n,r=a(0),o=a(6),l=a(135),i=(n=l)&&n.__esModule?n:{default:n},s=a(2),c=a(3)},889:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTemplate=void 0;var n,r=a(890),o=(n=r)&&n.__esModule?n:{default:n};t.initTemplate=o.default},890:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this;e.createUIDom({pagecode:n.SALEDAILY_CONST.LISTPAGEID},function(a){if(a){if(s.transtypeUtils.init.call(t,a.context),a.button){var r=a.button;e.button.setButtons(r),e.button.setPopContent("Delete",(0,i.getLangByResId)(t,"4006SALEDAILY-000067"))}if(a.template){var l=a.template;f.bind(t)(e,l),s.transtypeUtils.initQuery.call(t,e,l,d,"ctrantypeid"),c.getDefData.call(t,n.SALEDAILY_CONST.DATA_SOURCE,"initKey")?e.button.setButtonDisabled("Refresh",!1):e.button.setButtonDisabled("Refresh",!0),e.meta.setMeta(l,function(){o.buttonController.bind(t,e)()})}}})};var n=a(6),r=a(103),o=a(29),l=a(21),i=a(2),s=a(12),c=a(7),u=n.SALEDAILY_CONST.LISTTABLEID,d=n.SALEDAILY_CONST.SEARCHID;function f(e,t){var a=this,o=this;return t[u].showindex=!0,t[u].items=t[u].items.map(function(t,a){return"vbillcode"==t.attrcode&&(t.width=150,t.render=function(t,a,r){if(a)return React.createElement("a",{style:{cursor:"pointer"},onClick:function(){e.pushTo("/card",{status:n.SALEDAILY_CONST.STATUS_BROWSE,id:a.pk_ct_sale.value})}},a.vbillcode.value)}),t}),t[d].items.map(function(e){"pk_org"==e.attrcode?e.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.scmpub.ref.AppPermissionOrgRefFilter"}}:"pk_customer"==e.attrcode||"pk_ct_sale_b.pk_material"==e.attrcode||e.attrcode.indexOf("vfree")>=0||e.attrcode.indexOf("vdef")>=0||e.attrcode.indexOf("vbdef")>=0||"pk_ct_sale_b.pk_marbasclass"==e.attrcode||"pk_ct_sale_b.pk_srcmaterial"==e.attrcode||"cprojectid"==e.attrcode?e.queryCondition=function(){var e=A.call(a,d,"pk_org");return(!e||e.indexOf(",")>=0)&&(e=null),{pk_org:e}}:"ctrantypeid"==e.attrcode?e.queryCondition=function(){return{istransaction:"Y",parentbilltype:"Z3"}}:"personnelid"!==e.attrcode&&"depid"!==e.attrcode||(e.queryCondition=function(){return{pk_org:A.call(a,d,"pk_org"),busifuncode:"sa"}}),"personnelid"==e.attrcode&&(0,l.setPsndocShowLeavePower)(e),(0,l.setRefShowDisabledData)(e),e.isRunWithChildren=!1}),t[u].items.push({label:(0,i.getLangByResId)(o,"4006SALEDAILY-000054"),itemtype:"customer",attrcode:"opr",width:"150px",visible:!0,fixed:"right",render:function(t,a,l){var i=[];return"0"==a.fstatusflag.value&&(i=["Commit"]),"0"==a.fstatusflag.value&&1==a.version.value&&i.push("Edit","Delete"),"4"==a.fstatusflag.value&&1==a.version.value&&i.push("Edit"),(1==a.fstatusflag.value||1!=a.version.value&&"0"==a.fstatusflag.value)&&i.push("Modify"),"3"==a.fstatusflag.value&&i.push("Validate"),"5"==a.fstatusflag.value&&i.push("UnFreeze"),"6"==a.fstatusflag.value&&i.push("CTUnEnd"),i.push("Copy","ApproveInfo"),e.button.createOprationButton(i,{area:n.SALEDAILY_CONST.LISTINNERBUTTONAREA,buttonLimit:3,onButtonClick:function(e,n){r.onListInnerButtonClicks.call(o,e,n,t,a,l)}})}}),t}function A(e,t){var a=this.props.search.getSearchValByField(e,t),n=a&&a.value&&a.value.firstvalue?a.value.firstvalue:"";return-1!=n.indexOf(",")?null:n}},891:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(10),o=A(r),l=(A(a(61)),a(0)),i=a(51),s=a(892),c=a(163),u=a(316),d=a(216),f=a(2);function A(e){return e&&e.__esModule?e:{default:e}}var p=l.base.NCBackBtn,_=l.base.NCToggleViewBtn,L=l.base.NCDiv,E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.clickReturn=function(){a.props.pushTo("/list",{})},a.changeViewType=function(){a.props.meta.getMeta()[i.REF4310_CONST.singleTableId]||s.initSingleTemplate.call(a,a.props),a.props.transferTable.changeViewType()},a.state={ntotalnum:0,ntotalmny:0},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentWillMount",value:function(){(0,f.initLang)(this,["4006saledaily"],"ct",s.initTemplate.bind(this,this.props))}},{key:"render",value:function(){var e=this,t=this.props,a=t.transferTable,n=t.button,r=t.search,l=t.BillHeadInfo.createBillHeadInfo,s=r.NCCreateSearch,A=n.createButtonApp,E=a.createTransferTable,D=a.getSelectedListDisplay(i.REF4310_CONST.formId);return o.default.createElement("div",{id:"transferList",className:"nc-bill-list"},D?"":o.default.createElement("div",null,o.default.createElement(L,{areaCode:L.config.HEADER,className:"nc-bill-header-area"},o.default.createElement(p,{onClick:this.clickReturn}),o.default.createElement("div",{className:"header-title-search-area"},l({title:(0,f.getLangByResId)(this,"4006SALEDAILY-000058"),initShowBackBtn:!1})),o.default.createElement("div",{className:"header-button-area"},A({area:"list_head",buttonLimit:8,onButtonClick:c.buttonClick.bind(this),popContainer:document.querySelector(".header-button-area")}),o.default.createElement(_,{expand:!1,onClick:this.changeViewType}))),o.default.createElement("div",{className:"nc-bill-search-area"},s(i.REF4310_CONST.searchId,{clickSearchBtn:c.serach_btnClick.bind(this),onAfterEvent:u.search_afterEvent.bind(this),renderCompleteEvent:d.renderCompleteEvent.bind(this,i.REF4310_CONST.searchId,"pk_org",u.search_afterEvent)}))),o.default.createElement("div",{className:"nc-bill-transferTable-area"},E({dataSource:i.REF4310_CONST.Ref4310DataSource,headTableId:i.REF4310_CONST.formId,bodyTableId:i.REF4310_CONST.tableId,fullTableId:i.REF4310_CONST.singleTableId,transferBtnText:(0,f.getLangByResId)(this,"4006SALEDAILY-000055"),containerSelector:"#transferList",showMasterIndex:!0,showChildIndex:!1,onChangeViewClick:this.changeViewType,onTransferBtnClick:function(t){e.props.pushTo(i.REF4310_CONST.destPageUrl,{type:"ref4310"})},totalKey:["nassistnum","norigtaxmny"],totalTitle:[(0,f.getLangByResId)(this,"4006SALEDAILY-000056"),(0,f.getLangByResId)(this,"4006SALEDAILY-000057")]})))}}]),t}();E=(0,l.createPage)({})(E),t.default=E},892:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initSingleTemplate=t.initTemplate=void 0;var n=o(a(893)),r=o(a(901));function o(e){return e&&e.__esModule?e:{default:e}}t.initTemplate=n.default,t.initSingleTemplate=r.default},893:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this;e.createUIDom({pagecode:r.REF4310_CONST.transPageId,appcode:r.REF4310_CONST.appcode},function(a){if(a){if(a.template){var r=a.template;o.referEvent.call(t,e,r),i.call(t,e,r),e.meta.setMeta(r,n.btn_Controller.bind(t,e))}if(a.button){var l=a.button;e.button.setButtons(l)}}})};var n=a(163),r=a(51),o=a(316),l=a(137);function i(e,t){var a=this;t[r.REF4310_CONST.formId].items.map(function(t,n){l.transferSkipToSrcBillUtil.call(a,e,t,{billtype:"28",billcodefield:r.REF4310_CONST.vbillcode,pkfield:"pk_salequotation"})})}},894:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!1===this.props.search.getAllSearchData(r.REF4310_CONST.searchId))return;var e=this.props.search.getQueryInfo(r.REF4310_CONST.searchId);e.pageInfo=null,(0,i.setDefData)(r.REF4310_CONST.Ref4310DataSource,r.REF4310_CONST.searchId,e),l.default.call(this,this.props,e)};var n,r=a(51),o=(a(0),a(315)),l=(n=o)&&n.__esModule?n:{default:n},i=a(7)},895:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(t){case"Refresh":return o.default.call(this,e)}};var n,r=a(896),o=(n=r)&&n.__esModule?n:{default:n}},896:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,l.getDefData)(i.REF4310_CONST.Ref4310DataSource,i.REF4310_CONST.searchId);o.default.call(this,e,t)};a(0);var n,r=a(315),o=(n=r)&&n.__esModule?n:{default:n},l=a(7),i=a(51)},897:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){null==(0,n.getDefData)(r.REF4310_CONST.Ref4310DataSource,r.REF4310_CONST.searchId)?this.props.button.setButtonDisabled(["Refresh"],!0):this.props.button.setButtonDisabled(["Refresh"],!1)};var n=a(7),r=a(51)},898:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t[n.REF4310_CONST.searchId].items.map(function(t){"pk_org"===t.attrcode&&(t.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.scmpub.ref.AppPermissionOrgRefFilter"}}),l.includes(t.attrcode)&&(t.queryCondition=function(){return{pk_org:(0,r.getSearchValByField)(e,n.REF4310_CONST.searchId,"pk_org")}}),"pk_dept"!==t.attrcode&&"cemployeeid"!==t.attrcode||(t.queryCondition=function(){return{pk_org:(0,r.getSearchValByField)(e,n.REF4310_CONST.searchId,"pk_org"),busifuncode:"sa"}}),t.isRunWithChildren=!1,(0,o.setPsndocShowLeavePower)(t),(0,o.setRefShowDisabledData)(t)})};a(0);var n=a(51),r=a(899),o=a(12),l=["pk_customer","pk_customer.pk_custclass","pk_customer.sales.pk_custsaleclass","salequotationdetail.pk_material","salequotationdetail.pk_material.pk_marbasclass"]},899:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSearchValByField=function(e,t,a){var n=e.search.getSearchValByField(t,a),r=n&&n.value&&n.value.firstvalue?n.value.firstvalue:"";return-1!=r.indexOf(",")?null:r}},900:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("pk_org"===e){var a=["pk_dept","cemployeeid","pk_customer","pk_customer.pk_custclass","pk_customer.sales.pk_custsaleclass","salequotationdetail.pk_material","salequotationdetail.pk_material.pk_marbasclass"].concat(i("vdef",20)).concat(i("salequotationdetail.vfree",10)).concat(i("salequotationdetail.vbdef",20));l.default.call(this,this.props,t,r.REF4310_CONST.searchId,a)}};a(0);var n,r=a(51),o=a(58),l=(n=o)&&n.__esModule?n:{default:n};function i(e,t){for(var a=[],n=1;n<=t;n++)a.push(e+n);return a}},901:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.createUIDom({pagecode:n.REF4310_CONST.singleTableId,appcode:n.REF4310_CONST.appcode},function(t){if(t&&t.template){var a=t.template;e.meta.addMeta(a)}})};a(0),a(163);var n=a(51)},92:function(e,t,a){var n=a(93);"string"==typeof n&&(n=[[e.i,n,""]]);var r={transform:void 0};a(42)(n,r);n.locals&&(e.exports=n.locals)},93:function(e,t,a){(e.exports=a(41)(!1)).push([e.i,".ScriptActionDlg.nc-modal.u-modal.simpleModal .u-modal-dialog {\n  width: 410px;\n  height: 200px;\n}\n.ScriptActionDlg.nc-modal.u-modal.simpleModal .u-modal-dialog .u-modal-content {\n  width: auto;\n  height: auto;\n  min-height: auto;\n}\n.ScriptActionDlg.nc-modal.u-modal.simpleModal .u-modal-dialog .u-modal-content .msg-title {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-bottom: 20px;\n}\n.ScriptActionDlg.nc-modal.u-modal.simpleModal .u-modal-dialog .u-modal-content .msg-title .iconfont {\n  color: #e14c46;\n  font-size: 18px;\n  margin-right: 6px;\n}\n.ScriptActionDlg.nc-modal.u-modal.simpleModal .u-modal-dialog .u-modal-content .msg-title .msg-title {\n  color: #333;\n}\n.ScriptActionDlg.nc-modal.u-modal.simpleModal .u-modal-dialog .u-modal-content .msg-input {\n  width: 220px;\n  margin-left: 50px;\n}\n",""])},933:function(e,t,a){"use strict";var n,r,o,l=a(0),i=a(934),s=(n=i)&&n.__esModule?n:{default:n};r=s.default,o="app",(0,l.RenderRouter)(r,o)},934:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=(0,n.asyncComponent)(function(){return Promise.resolve().then(a.t.bind(null,849,7))}),o=(0,n.asyncComponent)(function(){return Promise.resolve().then(a.t.bind(null,790,7))}),l=[{path:"/",component:r,exact:!0},{path:"/list",component:r},{path:"/ref4310",component:(0,n.asyncComponent)(function(){return Promise.resolve().then(a.t.bind(null,891,7))})},{path:"/card",component:o}];t.default=l},94:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(10),o=A(r),l=a(0),i=a(108),s=A(a(109)),c=A(a(110));a(111);var u=A(a(113)),d=A(a(116)),f=a(2);function A(e){return e&&e.__esModule?e:{default:e}}var p=l.base.NCModal,_=l.base.NCButton,L=l.base.NCCheckbox,E=l.base.NCTooltip,D=l.base.NCProgressBar,S=l.base.NCPopconfirm,C=p.Header,T=p.Body,b=p.Title,v={queryAttachments:"/nccloud/ct/oba/query.do",uploadAttachment:"/nccloud/ct/oba/upload.do",downloadAttachment:"/nccloud/ct/oba/download.do",delAttachment:"/nccloud/ct/oba/delete.do",outputAttachment:"/nccloud/ct/oba/output.do"},I=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getAttachData=function(){(0,l.ajax)({url:v.queryAttachments,data:{billId:a.billId,billType:a.billType},success:function(e){e.data.forEach(function(e){return e.renderType=2}),a.setState({dataList:e.data})}})},a.allCheckChange=function(e){a.state.dataList.forEach(function(t){return t.checked=e}),a.setState({allCheck:e})},a.itemCheckChange=function(e,t){a.state.dataList[e].checked=t;var n=a.state.dataList.filter(function(e){return!1!==e.show}).every(function(e){return 1==e.checked});a.setState({allCheck:n,dataList:a.state.dataList})},a.renderStatusDom=function(e){var t=void 0;switch(e.renderType){case-1:t=o.default.createElement(E,{container:document.querySelector(".upload-list"),inverse:!0,overlay:e.error||"",placement:"top",className:"status-error-tip"},o.default.createElement("span",{className:"status-error animated"},o.default.createElement("i",{class:"iconfont icon-zhuyi1"}),(0,f.getLangByResId)(a,"4004PUB-000012")));break;case 0:t=[o.default.createElement("span",{className:"upload-percent"},(e.percent?parseInt(e.percent,10):0)+"%"),o.default.createElement(D,{size:"sm",active:!0,colors:"success",now:e.percent?parseInt(e.percent,10):0})];break;case 1:t=o.default.createElement("span",{className:"status-success animated fadeOut"},o.default.createElement("i",{class:"iconfont icon-wancheng"}),(0,f.getLangByResId)(a,"4004PUB-000013")," ");break;case 2:t=null;break;default:status=null}return t},a.renderOperationList=function(e,t){var n=void 0;switch(e.renderType){case-1:n=o.default.createElement("span",{className:"options"},o.default.createElement("a",{onClick:function(){a.reUpload(e,t)},fieldid:"ReUpload_Btn"},(0,f.getLangByResId)(a,"4004PUB-000014")),o.default.createElement("a",{onClick:function(){return a.removeListItem(e,t)},fieldid:"Ignore_Btn"},(0,f.getLangByResId)(a,"4004PUB-000015")));break;case 0:n=o.default.createElement("span",{className:"options"},o.default.createElement(S,{trigger:"click",placement:"top",content:(0,f.getLangByResId)(a,"4004PUB-000008"),onClose:function(){a.abortRequest(e,t)}},o.default.createElement("a",{fieldid:"LineDel_btn"},(0,f.getLangByResId)(a,"4004PUB-000005"))));break;case 1:case 2:n=o.default.createElement("span",{className:"options"},o.default.createElement("a",{onClick:function(){return a.handleOutput(e)},fieldid:"Output_btn"},(0,f.getLangByResId)(a,"4004PUB-000016")),o.default.createElement("a",{onClick:function(){return a.handleDownload(e)},fieldid:"DownLoad_btn"},(0,f.getLangByResId)(a,"4004PUB-000017")),o.default.createElement(S,{trigger:"click",placement:"top",content:(0,f.getLangByResId)(a,"4004PUB-000008"),onClose:function(){a.delListItem(e,t)}},o.default.createElement("a",{fieldid:"Del_btn"},(0,f.getLangByResId)(a,"4004PUB-000005"))));break;default:n=null}return n},a.beforeUploadTest=function(e){var t=parseFloat((0,i.bytesToSize)(e.size,2,2)),n=a.props.limitSize,r=void 0===n?50:n;if(t>r)return a.setState({tip:(0,f.getLangByResId)(a,"4004PUB-000018")+" "+r+"MB "+(0,f.getLangByResId)(a,"4004PUB-000019")+"，"+(0,f.getLangByResId)(a,"4004PUB-000020")+"！"}),!1;return!!/\.docx?$/.test(e.name)||(a.setState({tip:(0,f.getLangByResId)(a,"4004PUB-000009")}),!1)},a.uploadRequest=function(e,t){if(t||a.beforeUploadTest(e)){var n={filename:"file",file:e,action:v.uploadAttachment,withCredentials:!1,data:{billId:a.billId,billType:a.billType},onStart:function(n){var r={isTrusted:n.isTrusted,percent:n.percent};if(!t){var o={uid:e.uid,name:e.name,status:"uploading",isUpload:!0,checked:!1,show:!0,percent:0,error:null,originFileObj:e};a.state.dataList.push(o)}a.buildInfo(e,r,void 0,t)},onProgress:function(n){var r={isTrusted:n.isTrusted,percent:n.percent};a.buildInfo(e,r,void 0,t)},onSuccess:function(n){a.buildInfo(e,void 0,n,t)},onError:function(){a.buildInfo(e,void 0,void 0,t)}},r=(0,c.default)(n);a.requestList.set(e.uid,r)}},a.buildInfo=function(e,t,n,r){var o={file:{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,originFileObj:e,percent:e.percent,size:e.size,status:e.status,type:e.type,uid:e.uid}};t&&(o.event=t,o.file.percent=t.percent,o.file.status="uploading"),n&&(o.file.status="done",o.file.percent=100,o.file.response=(0,i.decryptResponse)(n)),t||n||(o.file.status="error",o.file.response={error:{tip:(0,f.getLangByResId)(a,"4004PUB-000010")},success:!1}),a.onUploadChange(o,r)},a.onUploadChange=function(e,t){var n=e.file,r=n.uid,o=n.status,l=n.response,i=n.percent,s=a.state.dataList,c=s.find(function(e){return e.uid===r});c.percent=i,c.status=o,c.error=l&&l.error&&l.error.message||null,c.success=l&&l.success||!1,c.renderType=a.handleUploadStatus(c),"done"===o&&l&&Array.isArray(l.data)&&Object.assign(c,l.data[0]),a.setState({dataList:s})},a.reUpload=function(e,t){var n=a.state.dataList[t].originFileObj;a.uploadRequest(n,!0)},a.handleDownload=function(e){var t=e.isdoc,a=void 0===t||t,n=e.pk_doc,r=e.name;(0,l.formDownload)({params:{isdoc:a,pk_doc:n,name:r},url:v.downloadAttachment,enctype:1})},a.handleOutput=function(e){var t=e.isdoc,n=void 0===t||t,r=e.pk_doc,o=e.name;(0,l.formDownload)({params:{isdoc:n,pk_doc:r,name:o,billId:a.billId,billType:a.billType},url:v.outputAttachment,enctype:1})},a.delCheckedList=function(){var e=a.state.dataList;e.forEach(function(e,t){var n=e.checked,r=e.show,o=e.isUpload,l=e.success,i=e.status;r&&n&&(!o||o&&l?a.delListItem(e,t):o&&!l&&"uploading"==i?a.abortRequest(e,t):o&&!l&&"done"==i&&a.removeListItem(e,t))}),a.setState({dataList:e,allCheck:!1})},a.abortRequest=function(e,t){a.requestList.get(e.uid).abort(),a.removeListItem(e,t)},a.delListItem=function(e,t){(0,l.ajax)({url:v.delAttachment,data:{billId:e.billId,fullPath:e.fullPath,pk_doc:e.pk_doc},loading:!0,loadingContainer:a.refs.uploadList,success:function(n){n.success&&a.removeListItem(e,t)}})},a.removeListItem=function(e,t){var n=a.state.dataList;n[t].show=!1,n[t].checked=!1,a.setState({dataList:n})},a.hideTip=function(){a.state.tip&&a.setState({tip:""})},a.handleShowTree=function(){a.setState({showTree:!a.state.showTree})},a.state={show:!1,tip:"",allCheck:!1,dataList:[],showTree:!1},a.requestList=new Map,a.billId=null,a.billType=null,(0,f.initLang)(a,["4004pub"],"ct"),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentWillReceiveProps",value:function(e){e.show!==this.props.show&&e.show&&e.show&&(this.setState({dataList:[],tip:"",allCheck:!1}),this.billId=e.billId,this.billType=e.billType,this.getAttachData())}},{key:"handleUploadStatus",value:function(e){var t=e.status,a=(e.error,e.success),n=e.isUpload,r=void 0;return"done"===t&&a&&n?r=1:"error"===t||"done"===t&&!a?r=-1:"uploading"===t?r=0:!t||"done"===t&&a&&!n?r=2:"removed"===t&&(r=3),r}},{key:"render",value:function(){var e=this,t={accept:"application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/msword",uploadRequest:this.uploadRequest},a=this.state,n=a.dataList,r=a.showTree,i=this.props,c=i.billType,A=i.asyncTree,E=0==n.filter(function(e){return!1!==e.show}).length;return o.default.createElement("div",null,o.default.createElement(p,{show:this.props.show,onHide:this.props.toggleShow,className:"scm-upload"},o.default.createElement(C,{closeButton:!0},o.default.createElement(b,null,(0,f.getLangByResId)(this,"4004PUB-000021"))),o.default.createElement(T,null,o.default.createElement("div",{className:"top-box"},o.default.createElement(L,{disabled:!n.some(function(e){return!1!==e.show}),className:"allCheck",checked:!!this.state.allCheck,onChange:this.allCheckChange}),o.default.createElement("div",{className:"btns"},o.default.createElement(d.default,t,o.default.createElement(_,{onClick:this.hideTip,fieldid:"Upload"},(0,f.getLangByResId)(this,"4004PUB-000022"))),o.default.createElement(_,{onClick:this.handleShowTree,fieldid:"DataSourceConfig"},(0,f.getLangByResId)(this,"4004PUB-000023")),o.default.createElement(_,{disabled:!n.some(function(e){return e.checked}),onClick:function(){return(0,l.promptBox)({color:"warning",content:(0,f.getLangByResId)(e,"4004PUB-000011"),beSureBtnClick:e.delCheckedList})},fieldid:"Del"},(0,f.getLangByResId)(this,"4004PUB-000005")))),o.default.createElement("ul",{className:"upload-list",ref:"uploadList"},n.map(function(t,a){if(1!=t.checked&&(t.checked=!1),"removed"==t.status&&(t.show=!1),!1!==t.show)return t.show=!0,o.default.createElement("li",null,o.default.createElement(L,{className:"itemCheck",checked:t.checked,onChange:function(t){return e.itemCheckChange(a,t)},fieldid:"Select"}),o.default.createElement("span",{className:"file-name",title:t.name},t.name),o.default.createElement("span",{className:"file-status"},e.renderStatusDom(t)),e.renderOperationList(t,a))}),o.default.createElement("div",{className:E?"empty-list":"hide"},o.default.createElement("img",{src:s.default}),o.default.createElement("div",{className:"info"},(0,f.getLangByResId)(this,"4004PUB-000024")),o.default.createElement(d.default,t,o.default.createElement("a",{className:"upload",onClick:this.hideTip},(0,f.getLangByResId)(this,"4004PUB-000022")," ")))),this.state.tip&&o.default.createElement("div",{className:"test-tip"},o.default.createElement("i",{className:"iconfont icon-zhuyi1"}),this.state.tip,o.default.createElement("i",{className:"iconfont icon-guanbi",onClick:function(){e.setState({tip:""})}})))),o.default.createElement(u.default,{show:r,billType:c,asyncTree:A,close:this.handleShowTree}))}}]),t}();t.default=I},95:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,o,l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(10),s=(o=i)&&o.__esModule?o:{default:o},c=a(0),u=a(117);var d=c.base.NCModal,f=c.base.NCTabs,A=d.Header,p=d.Title,_=d.Body,L=f.NCTabPane,E=(n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.call(a),a.bodyname=[],u.initTemplate.call(a,a.props),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.show,a=e.data,n=e.headcode,r=e.showBodyData;if(t&&a){var o=[];a.map(function(e){o.push(e.head[n].rows[0])}),this.props.editTable.setTableData(n,{rows:o}),r&&this.onRowClick.call(this,e,n,void 0,0)}}},{key:"render",value:function(){var e=this,t=this.props.editTable.createEditTable,a=this.props,n=a.show,r=a.title,o=a.headcode,l=a.bodycode;return s.default.createElement("div",null,s.default.createElement(d,{id:"tabpane",size:"xlg",show:n,onHide:this.props.close,className:"tabpane"},s.default.createElement(A,{closeButton:!0},s.default.createElement(p,null,r)),s.default.createElement(_,null,s.default.createElement("div",{className:"nc-bill-list"},t(o,{height:150,onRowClick:this.onRowClick.bind(this),onRowDoubleClick:this.onRowClick.bind(this,this.props,o)}),s.default.createElement(f,{fieldid:"tabs-area",navtype:"turn",contenttype:"moveleft",defaultActiveKey:l[0]},l.map(function(a,n){return s.default.createElement(L,{tab:e.bodyname[n],key:a,fieldid:a+"_tab"},t(a,{height:150}))}))))))}}]),t}(),r=function(){this.onRowClick=function(e,t,a,n){var r=e.data;e.bodycode.map(function(t){e.editTable.setTableData(t,r[n].bodys[t])})}},n);t.default=E=(0,c.createPage)({})(E)},96:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0).high.ApprovalTrans;t.default=n}})});
//# sourceMappingURL=index.3923348e.js.map