!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("nc-lightapp-front"),require("react")):"function"==typeof define&&define.amd?define(["nc-lightapp-front","react"],t):"object"==typeof exports?exports["ct/ct/payplan/main/index"]=t(require("nc-lightapp-front"),require("react")):e["ct/ct/payplan/main/index"]=t(e["nc-lightapp-front"],e.React)}(window,function(e,t){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="../../../../",a(a.s=907)}({0:function(t,a){t.exports=e},10:function(e,a){e.exports=t},136:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getListDisableHotKeyBtn=function(){return["Commit","Delete"]},t.getCardDisableHotKeyBtn=function(){return["DeleteLine"]}},167:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateDataById=t.updateEditTableRows=t.getChangedRows=t.RownoUtils=t.rowCopyPasteUtils=void 0;var n=a(330),r=a(79),o=a(331);t.rowCopyPasteUtils=n.rowCopyPasteUtils,t.RownoUtils=r.RownoUtils,t.getChangedRows=o.getChangedRows,t.updateEditTableRows=o.updateEditTableRows,t.updateDataById=o.updateDataById},2:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLangByResId=t.initLang=void 0;var n=a(0);t.initLang=function(e,t,a,r){e.lang=null,e.inlt=null,(0,n.getMultiLang)({moduleId:t,domainName:a,callback:function(t,a,n){a&&(e.lang=t,e.inlt=n),r&&r()},needInlt:!0})},t.getLangByResId=function(e,t,a){return function(e,t){if(!e)throw(0,n.toast)({color:"danger",content:"请检查代码中this是否能够取到！当前为undifined,位置："+t}),new Error("请检查代码中this是否能够取到！当前为undifined,位置："+t)}(e,t),a?e.inlt?e.inlt.get(t,a)||t:"":e.lang?e.lang[t]||t:""}},20:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PAGECODE={listPagecode:"400400608_list",templeteid:"400400608"},t.AREA={searchId:"search",listTableId:"head",list_head:"list_head",list_inner:"list_inner"},t.BUTTONID={Edit:"Edit",GenPayreq:"GenPayreq",Payment:"Payment",QueryAboutBusiness:"QueryAboutBusiness",Print:"Print",Refresh:"Refresh",Add:"Add",Delete:"Delete",Save:"Save",Cancel:"Cancel",InsertLine:"InsertLine",DeleteLine:"DeleteLine",CopyLine:"CopyLine"},t.URL={query:"/nccloud/ct/payplan/query.do",genpayreq:"/nccloud/ct/payplan/genpayreq.do",payment:"/nccloud/ct/payplan/payment.do",save:"/nccloud/ct/payplan/save.do",bodyafteredit:"/nccloud/ct/payplan/bodyafteredit.do",print:"/nccloud/ct/payplan/print.do",printdatapermission:"/nccloud/ct/payplan/printdatapermission.do"},t.UISTATUS={browse:"browse",edit:"edit"},t.FIELDS={crowno:"crowno",pk_org:"pk_org",pk_ct_pu:"pk_ct_pu",ts:"ts",vbillcode:"vbillcode",pk_ct_payplan:"pk_ct_payplan",naccumpayorgmny:"naccumpayorgmny",naccumpayapporgmny:"naccumpayapporgmny",nmny:"nmny",ctrantypeid:"ctrantypeid",cvendorid:"cvendorid",depid:"depid",personnelid:"personnelid",feffdatetype:"feffdatetype",dbegindate:"dbegindate",denddate:"denddate",iitermdays:"iitermdays",norigmny:"norigmny",nrate:"nrate",bpreflag:"bpreflag"},t.LINEITMES={copyItems:["vbillcode","dbilldate","cvendorid","subscribedate","corigcurrencyid","ccurrencyid","nexchangerate","pk_financeorg","pk_ct_pu","pk_financeorg_v","hts","fstatusflag","ntotalorigmny","pk_group"],clearItmes:["naccumpayorgmny","naccumpaymny","naccumpayapporgmny","naccumpayappmny","pk_ct_payplan","iaccounttermno"]}},21:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPsndocShowLeavePower=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.isShowDimission=t},t.setRefShowDisabledData=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.isShowDisabledData=t,e.unitPropsExtend={isShowDisabledData:t,isHasDisabledData:t}}},217:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchBtnClick=t.buttonClick=void 0;var n=a(20),r=h(a(320)),o=h(a(321)),i=h(a(322)),l=h(a(323)),s=h(a(324)),u=h(a(325)),d=h(a(326)),c=h(a(327)),f=h(a(328)),p=h(a(329)),g=h(a(332)),b=h(a(333)),v=h(a(334)),y=h(a(335));function h(e){return e&&e.__esModule?e:{default:e}}t.buttonClick=function(e,t,a,o,h){switch(t){case n.BUTTONID.Edit:r.default.call(this,e);break;case n.BUTTONID.GenPayreq:u.default.call(this,e);break;case n.BUTTONID.Payment:d.default.call(this,e);break;case n.BUTTONID.QueryAboutBusiness:l.default.call(this,e);break;case n.BUTTONID.Print:y.default.call(this,e);break;case n.BUTTONID.Refresh:i.default.call(this,e);break;case n.BUTTONID.Add:p.default.call(this,e);break;case n.BUTTONID.Delete:f.default.call(this,e);break;case n.BUTTONID.Save:c.default.call(this,e);break;case n.BUTTONID.Cancel:s.default.call(this,e);break;case n.BUTTONID.InsertLine:g.default.call(this,e,o,h);break;case n.BUTTONID.DeleteLine:b.default.call(this,e,o,h);break;case n.BUTTONID.CopyLine:v.default.call(this,e,o,h)}},t.searchBtnClick=o.default},218:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=this,l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.pageInfo=e.editTable.getTablePageInfo(r.AREA.listTableId),(0,n.ajax)({url:r.URL.query,data:t,success:function(t){t.formulamsg&&t.formulamsg instanceof Array&&t.formulamsg.length>0&&e.dealFormulamsg(t.formulamsg),t.success&&(t.data?(l?(0,o.showRefreshInfo)():(0,o.showHasQueryResultInfo)(t.data[r.AREA.listTableId].rows.length),e.editTable.setTableData(r.AREA.listTableId,t.data[r.AREA.listTableId]),e.button.setDisabled([r.BUTTONID.Edit,r.BUTTONID.Print],!1)):(l?(0,o.showRefreshInfo)():(0,o.showNoQueryResultInfo)(),e.editTable.setTableData(r.AREA.listTableId,{rows:[]}),e.button.setDisabled([r.BUTTONID.Edit,r.BUTTONID.Print],!0)),e.button.setDisabled([r.BUTTONID.Refresh],!1),i.buttonControl.call(a,e,r.UISTATUS.browse))}})};var n=a(0),r=a(20),o=a(3),i=a(72)},3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showQuitTransferWarningDialog=t.showBackWarningDialog=t.showBatchOprReturnMessage=t.showQueryResultInfoForNoPage=t.showSaveInfo=t.showRefreshInfo=t.showNoQueryResultInfo=t.showHasQueryResultInfo=t.showChangeOrgDialog=t.showDeleteDialog=t.showSingleDeleteDialog=t.showCancelDialog=t.showBatchOperateInfo=t.showBatchOprMessage=t.showWarningDialog=t.showErrorDialog=t.showInfoDialog=t.showSuccessDialog=t.showInfoInfo=t.showErrorInfo=t.showWarningInfo=t.showSuccessInfo=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0);var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lang=null,this.inlt=null,console.log("LangContainer初始化"),(0,r.getMultiLang)({moduleId:"4001pubmessage",domainName:"scmpub",callback:this.init.bind(this),needInlt:!0})}return n(e,[{key:"init",value:function(e,t,a){t&&(this.lang=e,this.inlt=a)}},{key:"getLangByResId",value:function(e,t){return t?this.inlt.get(e,t)||e:this.lang&&this.lang[e]||e}}]),e}());function i(e,t,a){s(e,t,a)}function l(e,t,a){s(e,t,a,"warning")}function s(e,t,a,n,o,i,l,s,u){(0,r.toast)({duration:a,color:n,title:e,content:t,groupOperation:o,TextArr:i,groupOperationMsg:l,onExpand:s,onClose:u})}function u(e,t){d(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"warning")}function d(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3];(0,r.promptBox)({color:n,title:e,content:t,noFooter:a.noFooter,noCancelBtn:a.noCancelBtn,beSureBtnName:a.beSureBtnName,cancelBtnName:a.cancelBtnName,beSureBtnClick:a.beSureBtnClick,cancelBtnClick:a.cancelBtnClick,closeBtnClick:a.closeBtnClick,closeByClickBackDrop:a.closeByClickBackDrop})}function c(){l(null,o.getLangByResId("4001PUBMESSAGE-000016"))}t.showSuccessInfo=i,t.showWarningInfo=l,t.showErrorInfo=function(e,t){s(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"infinity","danger")},t.showInfoInfo=function(e,t,a){s(e,t,a,"info")},t.showSuccessDialog=function(e,t){d(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})},t.showInfoDialog=function(e,t){d(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"info")},t.showErrorDialog=function(e,t){d(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"danger")},t.showWarningDialog=u,t.showBatchOprMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.getLangByResId("4001PUBMESSAGE-000003"),t=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=t.failedNum,s=t.sucessNum;if(0==l)i(o.getLangByResId("4001PUBMESSAGE-000018",{0:n}),o.getLangByResId("4001PUBMESSAGE-000022",{0:t.sucessNum}));else if(0==s){e=o.getLangByResId("4001PUBMESSAGE-000019",{0:n});var u=o.getLangByResId("4001PUBMESSAGE-000020",{0:t.failedNum,1:t.failedNum});(0,r.toast)({duration:"infinity",color:"danger",title:e,content:u,groupOperation:!0,TextArr:[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],groupOperationMsg:t.errorMessages,onExpand:a.onExpand,onClose:a.onClose})}else{e=o.getLangByResId("4001PUBMESSAGE-000019",{0:n});var d=o.getLangByResId("4001PUBMESSAGE-000021",{0:Number(t.sucessNum)+Number(t.failedNum),1:t.sucessNum,2:t.failedNum});(0,r.toast)({duration:"infinity",color:"danger",title:e,content:d,groupOperation:!0,TextArr:[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],groupOperationMsg:t.errorMessages,onExpand:a.onExpand,onClose:a.onClose})}},t.showBatchOperateInfo=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};s(e,t,"infinity","danger",!0,[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],a,n.onExpand,n.onClose)},t.showCancelDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(o.getLangByResId("4001PUBMESSAGE-000007"),o.getLangByResId("4001PUBMESSAGE-000008"),e)},t.showSingleDeleteDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(o.getLangByResId("4001PUBMESSAGE-000009"),o.getLangByResId("4001PUBMESSAGE-000010"),e)},t.showDeleteDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(o.getLangByResId("4001PUBMESSAGE-000009"),o.getLangByResId("4001PUBMESSAGE-000011"),e)},t.showChangeOrgDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(o.getLangByResId("4001PUBMESSAGE-000012"),o.getLangByResId("4001PUBMESSAGE-000013"),e)},t.showHasQueryResultInfo=function(e){i(null,e?o.getLangByResId("4001PUBMESSAGE-000015",{1:e}):o.getLangByResId("4001PUBMESSAGE-000014"))},t.showNoQueryResultInfo=c,t.showRefreshInfo=function(){i(o.getLangByResId("4001PUBMESSAGE-000017"))},t.showSaveInfo=function(){i(o.getLangByResId("4001PUBMESSAGE-000023"))},t.showQueryResultInfoForNoPage=function(e){e?i(null,o.getLangByResId("4001PUBMESSAGE-000015",{1:e})):c()},t.showBatchOprReturnMessage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.getLangByResId("4001PUBMESSAGE-000003"),t=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l="",s=t.failedNum,u=t.sucessNum;if(0==s)i(o.getLangByResId("4001PUBMESSAGE-000018",{0:n}),o.getLangByResId("4001PUBMESSAGE-000022",{0:t.sucessNum})),l=o.getLangByResId("4001PUBMESSAGE-000022",{0:t.sucessNum});else if(0==u){e=o.getLangByResId("4001PUBMESSAGE-000019",{0:n});var d=o.getLangByResId("4001PUBMESSAGE-000020",{0:t.failedNum,1:t.failedNum});(0,r.toast)({duration:"infinity",color:"danger",title:e,content:d,groupOperation:!0,TextArr:[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],groupOperationMsg:t.errorMessages,onExpand:a.onExpand,onClose:a.onClose,customBtn:a.customBtn}),t.errorMessages.forEach(function(e){l+=e})}else{e=o.getLangByResId("4001PUBMESSAGE-000019",{0:n});var c=o.getLangByResId("4001PUBMESSAGE-000021",{0:Number(t.sucessNum)+Number(t.failedNum),1:t.sucessNum,2:t.failedNum});(0,r.toast)({duration:"infinity",color:"danger",title:e,content:c,groupOperation:!0,TextArr:[o.getLangByResId("4001PUBMESSAGE-000000"),o.getLangByResId("4001PUBMESSAGE-000001"),o.getLangByResId("4001PUBMESSAGE-000002")],groupOperationMsg:t.errorMessages,onExpand:a.onExpand,onClose:a.onClose,customBtn:a.customBtn}),t.errorMessages.forEach(function(e){l+=e})}return l},t.showBackWarningDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(o.getLangByResId("4001PUBMESSAGE-000024"),o.getLangByResId("4001PUBMESSAGE-000025"),e,"warning")},t.showQuitTransferWarningDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(o.getLangByResId("4001PUBMESSAGE-000026"),o.getLangByResId("4001PUBMESSAGE-000027"),e,"warning")}},318:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(10),o=b(r),i=a(0),l=b(a(319)),s=a(20),u=a(217),d=a(72),c=a(336),f=a(338),p=a(2),g=a(56);function b(e){return e&&e.__esModule?e:{default:e}}var v,y,h,E=i.base.NCAffix,I=i.base.NCDiv,A=i.high.BillTrack,B=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.querySchemeAfterEvent=function(){f.searchAfterEvent.call(a,s.FIELDS.pk_org)},a.state={pk:"",showTrack:!1,status:s.UISTATUS.browse},a.queryInfo=null,(0,p.initLang)(a,["4004payplan"],"ct",l.default.bind(a,a.props)),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"componentWillMount",value:function(){var e=this;window.onbeforeunload=function(){if(e.props.editTable.getStatus(s.AREA.listTableId)==s.UISTATUS.edit)return(0,p.getLangByResId)(e,"4004PAYPLAN-000006")}}},{key:"render",value:function(){var e=this,t=this.props,a=t.button,n=t.search,r=t.editTable,i=(t.BillHeadInfo,a.createButtonApp),l=n.NCCreateSearch,d=r.createEditTable;return o.default.createElement("div",{className:"nc-bill-list"},o.default.createElement(E,null,o.default.createElement(I,{areaCode:I.config.HEADER,className:"nc-bill-header-area"},o.default.createElement("div",{className:"header-title-search-area"},(0,g.createListTitle)(this)),o.default.createElement("div",{className:"header-button-area"},i({area:s.AREA.list_head,onButtonClick:u.buttonClick.bind(this)})))),this.state.status==s.UISTATUS.browse?o.default.createElement("div",{className:"nc-bill-search-area"},l(s.AREA.searchId,{clickSearchBtn:u.searchBtnClick.bind(this),onAfterEvent:f.searchAfterEvent.bind(this),renderCompleteEvent:this.querySchemeAfterEvent,statusChangeEvent:this.querySchemeAfterEvent})):"",o.default.createElement("div",{className:"nc-bill-table-area"},d(s.AREA.listTableId,{showIndex:!1,showCheck:!0,adaptionHeight:!0,onAfterEvent:f.bodyAfterEvent.bind(this),onBeforeEvent:c.bodyBeforeEvent.bind(this),onSelected:T.bind(this),onSelectedAll:T.bind(this)})),o.default.createElement(A,{show:this.state.showTrack,close:function(){e.setState({showTrack:!1})},pk:this.state.pk,type:"Z2"}))}}]),t}();function T(){var e=this.props.editTable.getCheckedRows(s.AREA.listTableId);d.buttonControl.call(this,this.props,this.state.status,e)}B=(0,i.createPage)({billinfo:{billtype:"grid",pagecode:s.PAGECODE.listPagecode,bodycode:(v={},y=s.AREA.listTableId,h="table",y in v?Object.defineProperty(v,y,{value:h,enumerable:!0,configurable:!0,writable:!0}):v[y]=h,v)}})(B),t.default=B},319:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this;e.createUIDom({pagecode:n.PAGECODE.listPagecode},function(a){if(a){if(a.button){var n=a.button;e.button.setButtons(n)}if(a.template){var r=a.template;d.call(t,e,r),e.meta.setMeta(r)}c.call(t,e)}})};var n=a(20),r=a(64),o=a(21),i=a(72),l=a(136),s=a(217),u=a(2);function d(e,t){var a=this;return t[n.AREA.listTableId].items.push({label:(0,u.getLangByResId)(this,"4004PAYPLAN-000005"),itemtype:"customer",attrcode:"opr",width:"180px",visible:!0,fixed:"right",render:function(t,r,o){if(a.state.status==n.UISTATUS.edit){var i=[n.BUTTONID.InsertLine,n.BUTTONID.DeleteLine,n.BUTTONID.CopyLine];return e.button.createOprationButton(i,{area:n.AREA.list_inner,ignoreHotkeyCode:(0,l.getListDisableHotKeyBtn)(),buttonLimit:3,onButtonClick:function(e,n){return s.buttonClick.call(a,e,n,t,r,o)}})}}}),function(e,t,a){t[a].items.map(function(t){(0,o.setPsndocShowLeavePower)(t),(0,o.setRefShowDisabledData)(t),t.attrcode===n.FIELDS.pk_org?(0,r.setRefMainOrgPermissonByItem)(t):t.attrcode===n.FIELDS.ctrantypeid?t.queryCondition=function(){return{parentbilltype:"Z2"}}:t.attrcode===n.FIELDS.cvendorid?t.queryCondition=function(){return{pk_org:((e.search.getSearchValByField(a,n.FIELDS.pk_org)||{}).value||{}).firstvalue}}:t.attrcode===n.FIELDS.depid?t.queryCondition=function(){return{pk_org:((e.search.getSearchValByField(a,n.FIELDS.pk_org)||{}).value||{}).firstvalue,busifuncode:"pu"}}:t.attrcode===n.FIELDS.personnelid&&(t.isShowUnit=!1,t.queryCondition=function(){var t=(e.search.getSearchValByField(a,n.FIELDS.pk_org)||{}).value,r=(e.search.getSearchValByField(a,n.FIELDS.depid)||{}).value;return{pk_org:(t||{}).firstvalue,pk_dept:(r||{}).firstvalue,busifuncode:"pu"}})})}(e,t,n.AREA.searchId),t}function c(e){var t=e.getUrlParam(n.FIELDS.pk_org),a=e.getUrlParam(n.FIELDS.vbillcode);console.log("pk_org",t),console.log("vbillcode",a),t&&a&&(e.search.setSearchValByField(n.AREA.searchId,n.FIELDS.pk_org,JSON.parse(t)),e.search.setSearchValByField(n.AREA.searchId,n.FIELDS.vbillcode,{value:a}),s.searchBtnClick.call(this,e)),i.buttonControl.call(this,e,n.UISTATUS.browse),e.button.setButtonDisabled([n.BUTTONID.Edit,n.BUTTONID.Refresh],!0)}},320:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){this.setState({status:r.UISTATUS.edit}),n.buttonControl.call(this,e,r.UISTATUS.edit,e.editTable.getCheckedRows(r.AREA.listTableId))};var n=a(72),r=a(20)},321:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.search.getQueryInfo(r.AREA.searchId,!0);t&&t.querycondition&&(this.queryInfo=t,i.default.call(this,e,t))};var n,r=a(20),o=a(218),i=(n=o)&&n.__esModule?n:{default:n}},322:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){o.default.call(this,e,this.queryInfo,!0)};var n,r=a(218),o=(n=r)&&n.__esModule?n:{default:n}},323:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editTable.getCheckedRows(n.AREA.listTableId)[0].data.values[n.FIELDS.pk_ct_pu].value;this.setState({pk:t,showTrack:!0})};var n=a(20)},324:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this;(0,o.showCancelDialog)({beSureBtnClick:function(){t.setState({status:n.UISTATUS.browse}),e.editTable.cancelEdit(n.AREA.listTableId),r.buttonControl.call(t,e,n.UISTATUS.browse)}})};var n=a(20),r=a(72),o=a(3)},325:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editTable.getCheckedRows(r.AREA.listTableId);if(!t||t.length<1)(0,o.showWarningInfo)(null,(0,i.getLangByResId)(this,"4004PAYPLAN-000002"));else{var a=[],l=[];t.map(function(e){var t=e.data.values[r.FIELDS.pk_ct_payplan].value;a.push({id:t,ts:e.data.values[r.FIELDS.ts].value}),l.push(t)}),(0,n.ajax)({url:r.URL.genpayreq,data:a,success:function(t){t.success&&t.data&&(n.cacheTools.set("Z2TO36D1Pks",l),e.openTo("/nccloud/resources/cmp/apply/apply/main/index.html#/card",{srcbilltype:"Z2",pagecode:t.data[0].pagecode,appcode:t.data[0].appcode,status:"add"}))}})}};var n=a(0),r=a(20),o=a(3),i=a(2)},326:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editTable.getCheckedRows(r.AREA.listTableId);if(!t||t.length<1)(0,o.showWarningInfo)(null,(0,i.getLangByResId)(this,"4004PAYPLAN-000002"));else{var a=[],l=[];t.map(function(e){var t=e.data.values[r.FIELDS.pk_ct_payplan].value;a.push({id:t,ts:e.data.values[r.FIELDS.ts].value}),l.push(t)}),(0,n.ajax)({url:r.URL.payment,data:a,success:function(t){t.success&&t.data&&(n.cacheTools.set("Z2TOD3Pks",l),e.openTo("/nccloud/resources/arap/paybill/paybill/main/index.html#/card",{srcbilltype:"Z2",pagecode:t.data[0].pagecode,appcode:t.data[0].appcode,status:"add"}))}})}};var n=a(0),r=a(20),o=a(3),i=a(2)},327:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,a=e.editTable.getAllRows(r.AREA.listTableId),s={pageid:r.PAGECODE.listPagecode,model:{areacode:r.AREA.listTableId,areaType:"table",rows:[]}},u=[];a.forEach(function(e,t){"0"!=e.status&&(s.model.rows.push(e),u.push(t))}),e.validateToSave(s,function(){(0,n.ajax)({url:r.URL.save,data:s,success:function(a){if(a.success){if(a.data){var n=[];a.data[r.AREA.listTableId].rows.map(function(e,t){n.push({index:u[t],data:e})}),e.editTable.updateDataByIndexs(r.AREA.listTableId,n,!0,!0)}(0,o.showSuccessInfo)((0,l.getLangByResId)(t,"4004PAYPLAN-000003")),t.props.editTable.selectAllRows(r.AREA.listTableId,!1),t.setState({status:r.UISTATUS.browse}),i.buttonControl.call(t,e,r.UISTATUS.browse)}}})})};var n=a(0),r=a(20),o=a(3),i=a(72),l=a(2)},328:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editTable.getCheckedRows(n.AREA.listTableId).map(function(e){return e.index});e.editTable.deleteTableRowsByIndex(n.AREA.listTableId,t),r.buttonControl.call(this,e,n.UISTATUS.edit)};var n=a(20),r=a(72)},329:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editTable.getAllRows(n.AREA.listTableId),a=e.editTable.getNumberOfRows(n.AREA.listTableId),o=t[a-1],i={values:{}};for(var l in o.values)n.LINEITMES.copyItems.includes(l)&&(i.values[l]=o.values[l]);e.editTable.addRow(n.AREA.listTableId,a,!1,i.values),r.RownoUtils.setRowNo(e,n.AREA.listTableId,n.FIELDS.crowno)};var n=a(20),r=a(167)},330:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=!0,r=!1;function o(e,t,a,r,o,s){!function(e,t,a,n,r){if(a)if(a instanceof Array)for(var o=a.length,l=0;l<o;l++){var s=a[l].data;i(s,r),e.editTable.pasteRow(t,s,n+l)}else i(a,r),e.editTable.pasteRow(t,a,n)}(e,t,this.state.copyRowDatas,a-1,s),this.setState({copyRowDatas:null}),l(e,r,o,n),e.editTable.selectAllRows(t,!1),e.editTable.setAllCheckboxAble(t,!0)}function i(e,t){t&&t instanceof Array&&t.forEach(function(t){e.values[t]={value:null,display:null,scale:-1}})}function l(e,t,a,n){t&&e.button.setButtonVisible(t,n),a&&e.button.setButtonVisible(a,!n)}var s={copyRow:function(e,t,a,n,o){this.setState({copyRowDatas:a}),l(e,n,o,r),e.editTable.setAllCheckboxAble(t,!1)},copyRows:function(e,t,a,n){var o=e.editTable.getCheckedRows(t);o&&o.length>0&&(this.setState({copyRowDatas:o}),l(e,a,n,r),e.editTable.setAllCheckboxAble(t,!1))},pasteRowsToIndex:o,pasteRowsToTail:function(e,t,a,n,r){var i=e.editTable.getNumberOfRows(t);o.call(this,e,t,i,a,n,r)},cancel:function(e,t,a,r){this.setState({copyRowDatas:null}),l(e,a,r,n),e.editTable.selectAllRows(t,!1),e.editTable.setAllCheckboxAble(t,!0)}};t.rowCopyPasteUtils=s},331:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChangedRows=function(e,t,a){var n=e.editTable.getChangedRows(t,1==a),r=e.editTable.getAllRows(t);if(0!=r.length&&0!=n.length){var o={},i=0;return r.forEach(function(e){o[e.rowid]=i,i++}),n.forEach(function(e){e.values.pseudocolumn={value:o[e.rowid].toString()}}),n}},t.updateEditTableRows=function(e,t,a){var n=[];a.forEach(function(e){var t=e.values.pseudocolumn;if(null!=t&&"{}"!=JSON.stringify(t)){var a={index:Number(t.value),data:e};n.push(a)}}),0!=n.length&&e.editTable.updateDataByIndexs(t,n,!0,!0)},t.updateDataById=function(e,t,a,n){if(null!=n&&0!=n.length){var r={};e.editTable.getCheckedRows(t).forEach(function(e){var t=e.data.values[a].value;r[t]=e.data.rowid}),n[t].rows.forEach(function(e,t){var a=e.rowid;e.rowid=r[a]}),e.editTable.updateDataByRowId(t,n[t])}}},332:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var o={values:{}};for(var i in t.values)n.LINEITMES.copyItems.includes(i)&&(o.values[i]=t.values[i]);e.editTable.addRow(n.AREA.listTableId,a,!1,o.values),r.RownoUtils.setRowNo(e,n.AREA.listTableId,n.FIELDS.crowno)};var n=a(20),r=a(167)},333:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var l=t.values[n.FIELDS.naccumpayorgmny].value,s=t.values[n.FIELDS.naccumpayapporgmny].value;l>0||s>0?(0,r.showErrorInfo)(null,(0,o.getLangByResId)(this,"4004PAYPLAN-000001")):(e.editTable.deleteTableRowsByIndex(n.AREA.listTableId,a),i.buttonControl.call(this,e,n.UISTATUS.edit,e.editTable.getCheckedRows(n.AREA.listTableId)))};var n=a(20),r=a(3),o=a(2),i=a(72)},334:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){var o={values:{}};for(var i in t.values)n.LINEITMES.clearItmes.includes(i)||(o.values[i]=t.values[i]);e.editTable.addRow(n.AREA.listTableId,a,!1,o.values),r.RownoUtils.setRowNo(e,n.AREA.listTableId,n.FIELDS.crowno)};var n=a(20),r=a(167)},335:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.editTable.getAllRows(n.AREA.listTableId),a=[];t.map(function(e){a.push(e.values[n.FIELDS.pk_ct_payplan].value)}),(0,r.ajax)({url:n.URL.printdatapermission,data:a,success:function(e){e.success&&(0,r.print)("pdf",n.URL.print,{oids:a})}})};var n=a(20),r=a(0)},336:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyBeforeEvent=void 0;var n,r=a(337),o=(n=r)&&n.__esModule?n:{default:n};t.bodyBeforeEvent=o.default},337:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r,o=a(20),i=a(3),l=a(2);t.default=(n=regeneratorRuntime.mark(function e(t,a,n,r,s,u){var d,c,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(d=n.attrcode,![o.FIELDS.feffdatetype,o.FIELDS.dbegindate,o.FIELDS.denddate,o.FIELDS.iitermdays,o.FIELDS.norigmny,o.FIELDS.nrate,o.FIELDS.bpreflag].includes(d)){e.next=9;break}if(c=u.values[o.FIELDS.naccumpayorgmny].value,f=u.values[o.FIELDS.naccumpayapporgmny].value,!(c>0||f>0)){e.next=9;break}if(o.FIELDS.norigmny==d||o.FIELDS.denddate==d||o.FIELDS.nrate==d){e.next=9;break}return(0,i.showWarningInfo)(null,(0,l.getLangByResId)(this,"4004PAYPLAN-000000")),e.abrupt("return",!1);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}},e,this)}),r=function(){var e=n.apply(this,arguments);return new Promise(function(t,a){return function n(r,o){try{var i=e[r](o),l=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});t(l)}("next")})},function(e,t,a,n,o,i){return r.apply(this,arguments)})},338:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchAfterEvent=t.bodyAfterEvent=void 0;var n=o(a(339)),r=o(a(340));function o(e){return e&&e.__esModule?e:{default:e}}t.bodyAfterEvent=n.default,t.searchAfterEvent=r.default},339:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,s,u,d,c){if([r.FIELDS.dbegindate,r.FIELDS.denddate,r.FIELDS.iitermdays,r.FIELDS.norigmny,r.FIELDS.nrate].includes(a)){var f=""==u[0].newvalue.value?null:u[0].newvalue.value,p=""==u[0].oldvalue.value?null:u[0].oldvalue.value;if(f==p)return;var g={rows:[]};if(r.FIELDS.norigmny==a||r.FIELDS.nrate==a){var b=e.editTable.getAllRows(r.AREA.listTableId),v=c.values[r.FIELDS.pk_ct_pu].value;b.map(function(e,t){v==e.values[r.FIELDS.pk_ct_pu].value&&d!=t&&g.rows.push(e)}),g=(0,l.simplifyDataByFields)(g,!0,[r.FIELDS.nrate,r.FIELDS.norigmny,r.FIELDS.nmny])}var y=(0,i.createGridAfterEventData)(e,r.PAGECODE.listPagecode,r.AREA.listTableId,t,a,u,d,g);(0,n.ajax)({url:r.URL.bodyafteredit,data:y,success:function(a){var n=a.success,l=a.data;n&&l&&(l.userObject.error&&(0,o.showWarningInfo)(null,l.userObject.error),(0,i.processGridEditResult)(e,t,l,d),e.editTable.updateDataByRowId(r.AREA.listTableId,l.userObject))}})}};var n=a(0),r=a(20),o=a(3),i=a(43),l=a(48)},340:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e===n.FIELDS.pk_org&&(0,r.orgMultiSelectHandler)(this.props,n.AREA.searchId,n.FIELDS.pk_org)};var n=a(20),r=a(64)},43:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processExtBillCardHeadEditResult=t.createExtBillHeadAfterEventData=t.processExtBillCardBodyEditResult=t.processGridEditResult=t.processBillCardBodyEditResultNotAddRow=t.processBillCardBodyEditResult=t.processBillCardHeadEditResult=t.createExtBodyAfterEventData=t.createHeadAfterEventData=t.createBodyAfterEventData=t.createGridAfterEventData=void 0;var n=a(48);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}t.createGridAfterEventData=function(e,t,a,o,i,l,s,u){var d=e.meta.getMeta(),c=e.editTable.getAllRows(a,!1),f=r({templetid:d.pageid,pageid:t},a,{areaType:"table",areacode:a,rows:[c[s]]});return f[a]=(0,n.simplifyData)(f[a]),{attrcode:i,changedrows:l,grid:f,index:0,userobject:u}},t.createBodyAfterEventData=function(e,t,a,r,o,i,l,s,u){var d=e.createBodyAfterEventData(t,a,r,o,i,l);d.index=0;var c=d.card.body[r].rows,f=[c[s]];d.card.body[r].rows=f,d.card.head[a]=(0,n.simplifyData)(d.card.head[a]),d.card.body[r]=(0,n.simplifyData)(d.card.body[r]),u=u||{};var p=[];return c.map(function(e){"3"!=e.status&&p.push(e.values.crowno?e.values.crowno.value:null)}),u.scm_originindex=s+"",u.scm_allrownos=p,d.userobject=u,d},t.createHeadAfterEventData=function(e,t,a,r,o,i,l,s,u){var d=!(arguments.length>9&&void 0!==arguments[9])||arguments[9],c=e.createHeadAfterEventData(t,a,r,o,i,l);return c.card.head[a]=(0,n.simplifyData)(c.card.head[a]),c.card.body[r]=u?(0,n.simplifyDataByFields)(c.card.body[r],!0,u,d):(0,n.simplifyData)(c.card.body[r]),s=s||{},c.userobject=s,c},t.createExtBodyAfterEventData=function(e,t,a,r,o,i,l,s,u){var d=e.createBodyAfterEventData(t,a,r,o,i,l);d.index=0;var c=d.card.bodys[o].rows,f=[c[s]];d.card.bodys[o].rows=f,d.card.head[a]=(0,n.simplifyData)(d.card.head[a]),d.card.bodys[o]=(0,n.simplifyData)(d.card.bodys[o]),u=u||{};var p=[];return c.map(function(e){"3"!=e.status&&p.push(e.values.crowno?e.values.crowno.value:null)}),u.scm_originindex=s+"",u.scm_allrownos=p,d.userObject=u,d},t.processBillCardHeadEditResult=function(e,t,a,n){n&&n.billCard&&(n.billCard.head&&e.form.setAllFormValue(r({},t,n.billCard.head[t])),n.billCard.body&&e.cardTable.updateDiffDataByRowId(a,n.billCard.body[a]))},t.processBillCardBodyEditResult=function(e,t,a,n){if(a&&a.billCard&&a.billCard.body&&a.billCard.body[t]&&a.billCard.body[t].rows.length>0){for(var r=a.billCard.body[t].rows,o=[],i=[],l=0;l<r.length;l++){var s={index:n+l,data:r[l]};0==l?i.push(s):o.push(s)}i.length>0&&e.cardTable.updateDataByIndexs(t,i),o.length>0&&e.cardTable.insertDataByIndexs(t,o,!0)}},t.processBillCardBodyEditResultNotAddRow=function(e,t,a,n){if(a&&a.billCard&&a.billCard.body&&a.billCard.body[t]&&a.billCard.body[t].rows.length>0){for(var r=a.billCard.body[t].rows,o=[],i=[],l=0;l<r.length;l++){var s={index:n+l,data:r[l]};i.push(s)}i.length>0&&e.cardTable.updateDataByIndexs(t,i),o.length>0&&e.cardTable.insertDataByIndexs(t,o,!0)}},t.processGridEditResult=function(e,t,a,n){if(a&&a.grid&&a.grid[t]){for(var r=a.grid[t].rows,o=[],i=[],l=0;l<r.length;l++){var s={index:n+l,data:r[l]};0==l?i.push(s):o.push(s)}i.length>0&&e.editTable.updateDataByIndexs(t,i),o.length>0&&e.editTable.insertDataByIndexs(t,o,!0)}},t.processExtBillCardBodyEditResult=function(e,t,a){if(a.extbillcard&&a.extbillcard.bodys&&a.extbillcard.bodys[t]){var n=[],r=[],o=a.userObject&&a.userObject.scm_originindex?parseInt(a.userObject.scm_originindex):1;a.extbillcard.bodys[t].rows.forEach(function(e,t){e.rowid?n.push(e):r.push({index:t+o,data:e})}),e.cardTable.updateDataByRowId(t,{rows:n},!1,!1),e.cardTable.insertDataByIndexs(t,r,!0)}},t.createExtBillHeadAfterEventData=function(e,t,a,r,o,i,l,s){var u=e.createHeadAfterEventData(t,a,r,o,i,l);return u.card.head[a]=(0,n.simplifyData)(u.card.head[a],!1),r instanceof Array&&r.forEach(function(e){u.card.bodys[e]=(0,n.simplifyData)(u.card.bodys[e],!1)}),s=s||{},u.userobject=s,u},t.processExtBillCardHeadEditResult=function(e,t,a,n){n&&n.extbillcard&&(n.extbillcard.head&&e.form.setAllFormValue(r({},t,n.extbillcard.head[t])),n.extbillcard.bodys&&(a instanceof Array?a.forEach(function(t){n.extbillcard.bodys[t]&&e.cardTable.updateDiffDataByRowId(t,n.extbillcard.bodys[t])}):e.cardTable.updateDiffDataByRowId(a,n.extbillcard.bodys[a])))}},48:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function r(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return!(null!=e&&""!==e&&!a.find(function(t){return t==e}))}t.simplifyData=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e&&Array.isArray(e.rows)&&e.rows.length){var a=n({},e,{rows:[]});return e.rows.forEach(function(e){if(e.values){var o={};for(var i in e.values)e.values[i]&&(r(e.values[i].value)?t||-1==e.values[i].scale||(o[i]={scale:e.values[i].scale}):(o[i]={value:e.values[i].value},t||-1==e.values[i].scale||(o[i].scale=e.values[i].scale)));a.rows.push(n({},e,{values:o}))}}),a}return e},t.simplifyDataByFields=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e&&Array.isArray(e.rows)&&e.rows.length){var i=n({},e,{rows:[]});return e.rows.forEach(function(e){if(e.values){var l={};for(var s in e.values)a?o?a.includes(s)&&(l[s]={value:e.values[s].value}):a.includes(s)||(l[s]={value:e.values[s].value}):r(e.values[s].value)?t||-1==e.values[s].scale||(l[s]={scale:e.values[s].scale}):(l[s]={value:e.values[s].value},t||-1==e.values[s].scale||(l[s].scale=e.values[s].scale));i.rows.push(n({},e,{values:l}))}}),i}return e}},56:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function r(e,t){return t||e.props.getSearchParam("n")}t.createListTitle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,e.props.BillHeadInfo.createBillHeadInfo)(n({},t,{title:r(e,t.title),initShowBackBtn:!1}))},t.createCardTitle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,e.props.BillHeadInfo.createBillHeadInfo)(n({},t,{title:r(e,t.title)}))}},64:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={GRID:"grid",TREE:"tree"};t.MAINORG_TYPE=n,t.setReferMultiUnitShow=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return e[t].items.map(function(e){var t=e.attrcode;a.length>0?a.includes(t)&&(e.isShowUnit=n):"refer"===e.itemtype&&(e.isShowUnit=n)}),e},t.setReferMultiUnitShowByItem=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e.attrcode;t.includes(n)&&(e.isShowUnit=a)},t.setRefMainOrgPermisson=function(e,t,a,r){return e[t].items.map(function(e){e.attrcode===a&&(r&&r===n.TREE?e.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.scmpub.ref.AppPermissionOrgRefFilter"}}:e.queryCondition=function(){return{GridRefActionExt:"nccloud.web.scmpub.ref.AppPermissionOrgRefFilter"}})}),e},t.setRefMainOrgPermissonByItem=function(e,t){t&&t===n.TREE?e.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.scmpub.ref.AppPermissionOrgRefFilter"}}:e.queryCondition=function(){return{GridRefActionExt:"nccloud.web.scmpub.ref.AppPermissionOrgRefFilter"}}},t.setRefMainOrgVIDPermissonByItem=function(e,t){t&&t===n.TREE?e.queryCondition=function(){return{TreeRefActionExt:"nccloud.web.scmpub.ref.AppPermissionOrgVidRefFilter"}}:e.queryCondition=function(){return{GridRefActionExt:"nccloud.web.scmpub.ref.AppPermissionOrgVidRefFilter"}}},t.orgMultiSelectHandler=function(e,t,a,n,r,o){var i=e.meta.getMeta(),l=i[t].items;Array.isArray(n)||(n=[n]),r?Array.isArray(r)||(r=[r]):r=[],o?Array.isArray(o)||(o=[o]):o=[];var s=e.search.getSearchValByField(t,a);s&&s.value&&s.value.firstvalue&&-1==s.value.firstvalue.indexOf(",")?l.map(function(e){n.includes(e.attrcode)&&(e.isShowUnit=!1);for(var t=0;t<o.length;t++)0==e.attrcode.indexOf(o[t])&&(e.isShowUnit=!1);for(var a=0;a<r.length;a++)0==e.attrcode.indexOf(r[a])&&(e.isShowUnit=!1)}):l.map(function(e){n.includes(e.attrcode)&&(e.isShowUnit=!0);for(var t=0;t<o.length;t++)0==e.attrcode.indexOf(o[t])&&(e.isShowUnit=!0);for(var a=0;a<r.length;a++)0==e.attrcode.indexOf(r[a])&&(e.isShowUnit=!0)}),e.meta.setMeta(i)},t.initMultiSelect=function(e,t,a,n,r){var o=e[t].items;Array.isArray(a)||(a=[a]),n?Array.isArray(n)||(n=[n]):n=[],r?Array.isArray(r)||(r=[r]):r=[],o.map(function(e){a.includes(e.attrcode)&&(e.isShowUnit=!0);for(var t=0;t<r.length;t++)0==e.attrcode.indexOf(r[t])&&(e.isShowUnit=!0);for(var o=0;o<n.length;o++)0==e.attrcode.indexOf(n[o])&&(e.isShowUnit=!0)})}},72:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buttonControl=void 0;var n=a(20);function r(e,t){e.button.setButtonVisible([n.BUTTONID.Edit,n.BUTTONID.GenPayreq,n.BUTTONID.Payment,n.BUTTONID.QueryAboutBusiness,n.BUTTONID.Print,n.BUTTONID.Refresh],t==n.UISTATUS.browse),e.button.setButtonVisible([n.BUTTONID.Save,n.BUTTONID.Cancel,n.BUTTONID.Add,n.BUTTONID.Delete,n.BUTTONID.InsertLine,n.BUTTONID.DeleteLine,n.BUTTONID.CopyLine],t==n.UISTATUS.edit),e.editTable.setStatus(n.AREA.listTableId,t)}t.buttonControl=function(e,t,a){r.call(this,e,t);var o=!a||0==a;e.button.setButtonDisabled([n.BUTTONID.GenPayreq,n.BUTTONID.Payment,n.BUTTONID.QueryAboutBusiness,n.BUTTONID.Delete],o)}},79:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=0,r="crowno";function o(e,t,a,r){for(var o=e.editTable.getNumberOfRows(t),i=function(e,t,a,r){if(1===r)return n;for(var o=n,i=null,l=0;l<r;l++)i=e.editTable.getValByKeyAndIndex(t,l,a).value,Number(o)<Number(i)&&(o=i);return o}(e,t,a,o),l=new Array(r.length),s=0;s<r.length;s++)l[s]=10*(s+1)+Number(i);return l}function i(e,t,a,r,o){var i=function(e,t,a,r){if(1==e.editTable.getNumberOfRows(t))return n;for(var o=r-1;o>=0;o--){var i=(e.editTable.getValByKeyAndIndex(t,o,a)||{}).value;if(""!=i&&null!=i)return i}return n}(e,t,a,r),l=e.editTable.getValByKeyAndIndex(t,r,a).value,s=new Array(o.length);if(i===l)for(var u=0;u<o.length;u++)s[u]=i;else if(null==l||""==l)for(var d=0;d<o.length;d++)s[d]=10*(d+1)+Number(i);else for(var c=(l-i)/(o.length+1),f=i,p=0;p<o.length;p++)f=Number(f)+Number(c),s[p]=f;return s}var l={setRowNo:function(e,t,a){null==a&&(a=r);for(var n=e.editTable.getNumberOfRows(t),l=!0;n>0&&l;){for(var s=[],u=-1,d=0;d<n;d++){if(d==n-1&&(l=!1),(e.editTable.getValByKeyAndIndex(t,d,a)||{}).value){if(0==s.length)continue;u=d;break}s.push(d),u=-1}var c=null;c=-1!=u?i(e,t,a,u,s):o(e,t,a,s);for(var f=0;f<s.length;f++){var p=s[f];e.editTable.setValByKeyAndIndex(t,p,a,{value:c[f].toString(),display:c[f].toString()})}}},resetRowNo:function(e,t,a){null==a&&(a=r);for(var n=e.editTable.getNumberOfRows(t),o=0;o<n;o++){var i=10*o+10;e.editTable.setValByKeyAndIndex(t,o,a,{value:i.toString(),display:i.toString()})}},setRowNoByIndex:function(e,t,a,n){null==a&&(a=r);var o=0;0==n&&e.editTable.setValByKeyAndIndex(t,n,a,{value:"10",display:"10"});for(var i=0;i<n;i++){var l=(e.editTable.getValByKeyAndIndex(t,i,a)||{}).value;l&&Number(l)>o&&(o=Number(l))}var s=10*((o+10)/10).toFixed(0);e.editTable.setValByKeyAndIndex(t,n,a,{value:s.toString(),display:s.toString()})}};t.RownoUtils=l},907:function(e,t,a){"use strict";var n,r,o,i=a(0),l=a(908),s=(n=l)&&n.__esModule?n:{default:n};r=s.default,o="app",(0,i.RenderRouter)(r,o)},908:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(318),o=(n=r)&&n.__esModule?n:{default:n};var i=[{path:"/",component:o.default,exact:!0},{path:"/list",component:o.default}];t.default=i}})});
//# sourceMappingURL=index.3923348e.js.map